(()=>{function n(n,t,e,r){Object.defineProperty(n,t,{get:e,set:r,enumerable:!0,configurable:!0})}var t=globalThis,e={};!function(n){function t(n,t,e,r){var i=(r=r||{}).maxIterations||100,u=r.tolerance||1e-10,a=n(t),o=n(e),l=e-t;if(a*o>0)throw"Initial bisect points must have opposite signs";if(0===a)return t;if(0===o)return e;for(var c=0;c<i;++c){var f=t+(l/=2),s=n(f);if(s*a>=0&&(t=f),Math.abs(l)<u||0===s)return f}return t+l}function e(n){for(var t=Array(n),e=0;e<n;++e)t[e]=0;return t}function r(n,t){return e(n).map(function(){return e(t)})}function i(n,t){for(var e=0,r=0;r<n.length;++r)e+=n[r]*t[r];return e}function u(n){return Math.sqrt(i(n,n))}function a(n,t){for(var e=0;e<n.length;++e)n[e]*=t}function o(n,t,e,r,i){for(var u=0;u<n.length;++u)n[u]=t*e[u]+r*i[u]}function l(n,t,e){var r,i,u=(e=e||{}).maxIterations||200*t.length,a=e.nonZeroDelta||1.1,l=e.zeroDelta||.001,c=e.minErrorDelta||1e-6,f=e.minErrorDelta||1e-5,s=e.rho||1,h=e.chi||2,p=e.psi||-.5,g=e.sigma||.5,v=e.callback,d=t.length,y=Array(d+1);y[0]=t,y[0].fx=n(t);for(var x=0;x<d;++x){var m=t.slice();m[x]=m[x]?m[x]*a:l,y[x+1]=m,y[x+1].fx=n(m)}for(var M=function(n,t){return n.fx-t.fx},b=t.slice(),_=t.slice(),w=t.slice(),S=t.slice(),k=0;k<u;++k){for(y.sort(M),v&&v(y),r=0,x=0;x<d;++x)r=Math.max(r,Math.abs(y[0][x]-y[1][x]));if(Math.abs(y[0].fx-y[d].fx)<c&&r<f)break;for(x=0;x<d;++x){b[x]=0;for(var N=0;N<d;++N)b[x]+=y[N][x];b[x]/=d}var E=y[d];if(o(_,1+s,b,-s,E),_.fx=n(_),_.fx<=y[0].fx)o(S,1+h,b,-h,E),S.fx=n(S),S.fx<_.fx?(i=y[d],y[d]=S,S=i):(i=y[d],y[d]=_,_=i);else if(_.fx>=y[d-1].fx){var A=!1;if(_.fx>E.fx?(o(w,1+p,b,-p,E),w.fx=n(w),w.fx<E.fx?(i=y[d],y[d]=w,w=i):A=!0):(o(w,1-p*s,b,p*s,E),w.fx=n(w),w.fx<=_.fx?(i=y[d],y[d]=w,w=i):A=!0),A)for(x=1;x<y.length;++x)o(y[x],1-g,y[0],g,y[x]),y[x].fx=n(y[x])}else i=y[d],y[d]=_,_=i}return y.sort(M),{f:y[0].fx,solution:y[0]}}function c(n,t,e){var r,l,c,f={x:t.slice(),fx:0,fxprime:t.slice()},s={x:t.slice(),fx:0,fxprime:t.slice()},h=t.slice(),p=1;c=(e=e||{}).maxIterations||5*t.length,f.fx=n(f.x,f.fxprime),a(r=f.fxprime.slice(),-1);for(var g=0;g<c;++g){if(e.history&&e.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice()}),p=function(n,t,e,r,u){var a=e.fx,l=i(e.fxprime,t),c=a,f=a,s=l,h=0;function p(f,h,p){for(var g=0;g<16;++g)if(u=(f+h)/2,o(r.x,1,e.x,u,t),c=r.fx=n(r.x,r.fxprime),s=i(r.fxprime,t),c>a+1e-6*u*l||c>=p)h=u;else{if(Math.abs(s)<=-.1*l)return u;s*(h-f)>=0&&(h=f),f=u,p=c}return 0}u=u||1;for(var g=0;g<10;++g){if(o(r.x,1,e.x,u,t),c=r.fx=n(r.x,r.fxprime),s=i(r.fxprime,t),c>a+1e-6*u*l||g&&c>=f)return p(h,u,f);if(Math.abs(s)<=-.1*l)return u;if(s>=0)return p(u,h,c);f=c,h=u,u*=2}return 0}(n,r,f,s,p)){o(h,1,s.fxprime,-1,f.fxprime);var v=i(f.fxprime,f.fxprime);o(r,Math.max(0,i(h,s.fxprime)/v),r,-1,s.fxprime),l=f,f=s,s=l}else for(var d=0;d<r.length;++d)r[d]=-1*f.fxprime[d];if(1e-5>=u(f.fxprime))break}return e.history&&e.history.push({x:f.x.slice(),fx:f.fx,fxprime:f.fxprime.slice()}),f}function f(n,t){var e,r=function(n){for(var t=[],e=0;e<n.length;++e)for(var r=e+1;r<n.length;++r)for(var i=v(n[e],n[r]),u=0;u<i.length;++u){var a=i[u];a.parentIndex=[e,r],t.push(a)}return t}(n),i=r.filter(function(t){return function(n,t){for(var e=0;e<t.length;++e)if(p(n,t[e])>t[e].radius+1e-10)return!1;return!0}(t,n)}),u=0,a=0,o=[];if(i.length>1){var l=d(i);for(e=0;e<i.length;++e){var c=i[e];c.angle=Math.atan2(c.x-l.x,c.y-l.y)}i.sort(function(n,t){return t.angle-n.angle});var f=i[i.length-1];for(e=0;e<i.length;++e){var s=i[e];a+=(f.x+s.x)*(s.y-f.y);for(var g={x:(s.x+f.x)/2,y:(s.y+f.y)/2},y=null,x=0;x<s.parentIndex.length;++x)if(f.parentIndex.indexOf(s.parentIndex[x])>-1){var m=n[s.parentIndex[x]],M=Math.atan2(s.x-m.x,s.y-m.y),b=Math.atan2(f.x-m.x,f.y-m.y),_=b-M;_<0&&(_+=2*Math.PI);var w=b-_/2,S=p(g,{x:m.x+m.radius*Math.sin(w),y:m.y+m.radius*Math.cos(w)});(null===y||y.width>S)&&(y={circle:m,width:S,p1:s,p2:f})}null!==y&&(o.push(y),u+=h(y.circle.radius,y.width),f=s)}}else{var k=n[0];for(e=1;e<n.length;++e)n[e].radius<k.radius&&(k=n[e]);var N=!1;for(e=0;e<n.length;++e)if(p(n[e],k)>Math.abs(k.radius-n[e].radius)){N=!0;break}N?u=a=0:(u=k.radius*k.radius*Math.PI,o.push({circle:k,p1:{x:k.x,y:k.y+k.radius},p2:{x:k.x-1e-10,y:k.y+k.radius},width:2*k.radius}))}return a/=2,t&&(t.area=u+a,t.arcArea=u,t.polygonArea=a,t.arcs=o,t.innerPoints=i,t.intersectionPoints=r),u+a}function s(n,t){var e=Math.sqrt(n*n-t*t);return t*e+n*n*Math.atan2(t,e)}function h(n,t){return s(n,t-n)-s(n,-n)}function p(n,t){return Math.sqrt((n.x-t.x)*(n.x-t.x)+(n.y-t.y)*(n.y-t.y))}function g(n,t,e){return e>=n+t?0:e<=Math.abs(n-t)?Math.PI*Math.min(n,t)*Math.min(n,t):h(n,n-(e*e-t*t+n*n)/(2*e))+h(t,t-(e*e-n*n+t*t)/(2*e))}function v(n,t){var e=p(n,t),r=n.radius,i=t.radius;if(e>=r+i||e<=Math.abs(r-i))return[];var u=(r*r-i*i+e*e)/(2*e),a=Math.sqrt(r*r-u*u),o=n.x+u*(t.x-n.x)/e,l=n.y+u*(t.y-n.y)/e,c=-(t.y-n.y)*(a/e),f=-(t.x-n.x)*(a/e);return[{x:o+c,y:l-f},{x:o-c,y:l+f}]}function d(n){for(var t={x:0,y:0},e=0;e<n.length;++e)t.x+=n[e].x,t.y+=n[e].y;return t.x/=n.length,t.y/=n.length,t}function y(n,t){(t=t||{}).maxIterations=t.maxIterations||500;var e,r=(t.initialLayout||m)(n=function(n){n=n.slice();var t,e,r,i,u=[],a={};for(t=0;t<n.length;++t){var o=n[t];1==o.sets.length?u.push(o.sets[0]):2==o.sets.length&&(a[[r=o.sets[0],i=o.sets[1]]]=!0,a[[i,r]]=!0)}for(u.sort(function(n,t){return n>t}),t=0;t<u.length;++t)for(r=u[t],e=t+1;e<u.length;++e)[r,i=u[e]]in a||n.push({sets:[r,i],size:0});return n}(n)),i=[],u=[];for(e in r)r.hasOwnProperty(e)&&(i.push(r[e].x),i.push(r[e].y),u.push(e));for(var a=0,o=l(function(t){a+=1;for(var e={},i=0;i<u.length;++i){var o=u[i];e[o]={x:t[2*i],y:t[2*i+1],radius:r[o].radius}}return b(e,n)},i,t).solution,c=0;c<u.length;++c)r[e=u[c]].x=o[2*c],r[e].y=o[2*c+1];return r}function x(n,e,r){return Math.min(n,e)*Math.min(n,e)*Math.PI<=r+1e-10?Math.abs(n-e):t(function(t){return g(n,e,t)-r},0,n+e)}function m(n,t){var i=M(n,t);if(n.length>=8){var o=function(n,t){var i,o,l,f,s,h=(t=t||{}).restarts||10,p=[],g={};for(s=0;s<n.length;++s){var v=n[s];1==v.sets.length&&(g[v.sets[0]]=p.length,p.push(v))}var d=(i=r(p.length,p.length),o=r(p.length,p.length),n.filter(function(n){return 2==n.sets.length}).map(function(n){var t=g[n.sets[0]],e=g[n.sets[1]],r=x(Math.sqrt(p[t].size/Math.PI),Math.sqrt(p[e].size/Math.PI),n.size);i[t][e]=i[e][t]=r;var u=0;n.size+1e-10>=Math.min(p[t].size,p[e].size)?u=1:n.size<=1e-10&&(u=-1),o[t][e]=o[e][t]=u}),{distances:i,constraints:o}),y=d.distances,m=d.constraints,M=u(y.map(u))/y.length;y=y.map(function(n){return n.map(function(n){return n/M})});var b=function(n,t){return function(n,t,e,r){var i,u=0;for(i=0;i<t.length;++i)t[i]=0;for(i=0;i<e.length;++i)for(var a=n[2*i],o=n[2*i+1],l=i+1;l<e.length;++l){var c=n[2*l],f=n[2*l+1],s=e[i][l],h=r[i][l],p=(c-a)*(c-a)+(f-o)*(f-o),g=Math.sqrt(p),v=p-s*s;h>0&&g<=s||h<0&&g>=s||(u+=2*v*v,t[2*i]+=4*v*(a-c),t[2*i+1]+=4*v*(o-f),t[2*l]+=4*v*(c-a),t[2*l+1]+=4*v*(f-o))}return u}(n,t,y,m)};for(s=0;s<h;++s)f=c(b,e(2*y.length).map(Math.random),t),(!l||f.fx<l.fx)&&(l=f);var _=l.x,w={};for(s=0;s<p.length;++s){var S=p[s];w[S.sets[0]]={x:_[2*s]*M,y:_[2*s+1]*M,radius:Math.sqrt(S.size/Math.PI)}}if(t.history)for(s=0;s<t.history.length;++s)a(t.history[s].x,M);return w}(n,t);b(o,n)+1e-8<b(i,n)&&(i=o)}return i}function M(n){for(var t,e={},r={},i=0;i<n.length;++i){var u=n[i];1==u.sets.length&&(e[t=u.sets[0]]={x:1e10,y:1e10,rowid:e.length,size:u.size,radius:Math.sqrt(u.size/Math.PI)},r[t]=[])}for(i=0,n=n.filter(function(n){return 2==n.sets.length});i<n.length;++i){var a=n[i],o=a.hasOwnProperty("weight")?a.weight:1,l=a.sets[0],c=a.sets[1];a.size+1e-10>=Math.min(e[l].size,e[c].size)&&(o=0),r[l].push({set:c,size:a.size,weight:o}),r[c].push({set:l,size:a.size,weight:o})}var f=[];for(t in r)if(r.hasOwnProperty(t)){var s=0;for(i=0;i<r[t].length;++i)s+=r[t][i].size*r[t][i].weight;f.push({set:t,size:s})}function h(n,t){return t.size-n.size}f.sort(h);var p={};function g(n){return n.set in p}function d(n,t){e[t].x=n.x,e[t].y=n.y,p[t]=!0}for(d({x:0,y:0},f[0].set),i=1;i<f.length;++i){var y=f[i].set,m=r[y].filter(g);if(t=e[y],m.sort(h),0===m.length)throw"ERROR: missing pairwise overlap information";for(var M=[],_=0;_<m.length;++_){var w=e[m[_].set],S=x(t.radius,w.radius,m[_].size);M.push({x:w.x+S,y:w.y}),M.push({x:w.x-S,y:w.y}),M.push({y:w.y+S,x:w.x}),M.push({y:w.y-S,x:w.x});for(var k=_+1;k<m.length;++k)for(var N=e[m[k].set],E=x(t.radius,N.radius,m[k].size),A=v({x:w.x,y:w.y,radius:S},{x:N.x,y:N.y,radius:E}),z=0;z<A.length;++z)M.push(A[z])}var C=1e50,T=M[0];for(_=0;_<M.length;++_){e[y].x=M[_].x,e[y].y=M[_].y;var j=b(e,n);j<C&&(C=j,T=M[_])}d(T,y)}return e}function b(n,t){for(var e=0,r=0;r<t.length;++r){var i,u=t[r];if(1!=u.sets.length){if(2==u.sets.length){var a=n[u.sets[0]],o=n[u.sets[1]];i=g(a.radius,o.radius,p(a,o))}else i=f(u.sets.map(function(t){return n[t]}));e+=(u.hasOwnProperty("weight")?u.weight:1)*(i-u.size)*(i-u.size)}}return e}function _(n){function t(n){return n.parent!==n&&(n.parent=t(n.parent)),n.parent}n.map(function(n){n.parent=n});for(var e=0;e<n.length;++e)for(var r=e+1;r<n.length;++r){var i=n[e].radius+n[r].radius;p(n[e],n[r])+1e-10<i&&function(n,e){var r=t(n),i=t(e);r.parent=i}(n[r],n[e])}var u,a={};for(e=0;e<n.length;++e)(u=t(n[e]).parent.setid)in a||(a[u]=[]),a[u].push(n[e]);n.map(function(n){delete n.parent});var o=[];for(u in a)a.hasOwnProperty(u)&&o.push(a[u]);return o}function w(n){var t=function(t){return{max:Math.max.apply(null,n.map(function(n){return n[t]+n.radius})),min:Math.min.apply(null,n.map(function(n){return n[t]-n.radius}))}};return{xRange:t("x"),yRange:t("y")}}function S(n,t,e){null===t&&(t=Math.PI/2);var r,i,u=[];for(i in n)if(n.hasOwnProperty(i)){var a=n[i];u.push({x:a.x,y:a.y,radius:a.radius,setid:i})}var o=_(u);for(r=0;r<o.length;++r){!function(n,t,e){if(null===e?n.sort(function(n,t){return t.radius-n.radius}):n.sort(e),n.length>0){var r=n[0].x,i=n[0].y;for(u=0;u<n.length;++u)n[u].x-=r,n[u].y-=i}if(n.length>1){var u,a,o,l=Math.atan2(n[1].x,n[1].y)-t,c=Math.cos(l),f=Math.sin(l);for(u=0;u<n.length;++u)a=n[u].x,o=n[u].y,n[u].x=c*a-f*o,n[u].y=f*a+c*o}if(n.length>2){for(var s=Math.atan2(n[2].x,n[2].y)-t;s<0;)s+=2*Math.PI;for(;s>2*Math.PI;)s-=2*Math.PI;if(s>Math.PI){var h=n[1].y/(1e-10+n[1].x);for(u=0;u<n.length;++u){var p=(n[u].x+h*n[u].y)/(1+h*h);n[u].x=2*p-n[u].x,n[u].y=2*p*h-n[u].y}}}}(o[r],t,e);var l=w(o[r]);o[r].size=(l.xRange.max-l.xRange.min)*(l.yRange.max-l.yRange.min),o[r].bounds=l}o.sort(function(n,t){return t.size-n.size});var c=(u=o[0]).bounds,f=(c.xRange.max-c.xRange.min)/50;function s(n,t,e){if(n){var r,i,a,o=n.bounds;t?r=c.xRange.max-o.xRange.min+f:(r=c.xRange.max-o.xRange.max,(a=(o.xRange.max-o.xRange.min)/2-(c.xRange.max-c.xRange.min)/2)<0&&(r+=a)),e?i=c.yRange.max-o.yRange.min+f:(i=c.yRange.max-o.yRange.max,(a=(o.yRange.max-o.yRange.min)/2-(c.yRange.max-c.yRange.min)/2)<0&&(i+=a));for(var l=0;l<n.length;++l)n[l].x+=r,n[l].y+=i,u.push(n[l])}}for(var h=1;h<o.length;)s(o[h],!0,!1),s(o[h+1],!1,!0),s(o[h+2],!0,!0),h+=3,c=w(u);var p={};for(r=0;r<u.length;++r)p[u[r].setid]=u[r];return p}function k(n,t,e,r){var i=[],u=[];for(var a in n)n.hasOwnProperty(a)&&(u.push(a),i.push(n[a]));t-=2*r,e-=2*r;for(var o=w(i),l=o.xRange,c=o.yRange,f=t/(l.max-l.min),s=Math.min(e/(c.max-c.min),f),h=(t-(l.max-l.min)*s)/2,p=(e-(c.max-c.min)*s)/2,g={},v=0;v<i.length;++v){var d=i[v];g[u[v]]={radius:s*d.radius,x:r+h+(d.x-l.min)*s,y:r+p+(d.y-c.min)*s}}return g}function N(n,t){return function(){for(var e,r=d3.select(this),i=r.datum(),u=n[i.sets[0]].radius||50,a=t(i)||"",o=a.split(/\s+/).reverse(),l=(a.length+o.length)/3,c=o.pop(),f=[c],s=0,h=r.text(null).append("tspan").text(c);c=o.pop();)f.push(c),e=f.join(" "),h.text(e),e.length>l&&h.node().getComputedTextLength()>u&&(f.pop(),h.text(f.join(" ")),f=[c],h=r.append("tspan").text(c),s++);var p=.35-1.1*s/2,g=r.attr("x"),v=r.attr("y");r.selectAll("tspan").attr("x",g).attr("y",v).attr("dy",function(n,t){return p+1.1*t+"em"})}}function E(n,t,e){var r,i,u=t[0].radius-p(t[0],n);for(r=1;r<t.length;++r)(i=t[r].radius-p(t[r],n))<=u&&(u=i);for(r=0;r<e.length;++r)(i=p(e[r],n)-e[r].radius)<=u&&(u=i);return u}function A(n,t){var e,r=[];for(e=0;e<n.length;++e){var i=n[e];r.push({x:i.x,y:i.y}),r.push({x:i.x+i.radius/2,y:i.y}),r.push({x:i.x-i.radius/2,y:i.y}),r.push({x:i.x,y:i.y+i.radius/2}),r.push({x:i.x,y:i.y-i.radius/2})}var u=r[0],a=E(r[0],n,t);for(e=1;e<r.length;++e){var o=E(r[e],n,t);o>=a&&(u=r[e],a=o)}var c=l(function(e){return -1*E({x:e[0],y:e[1]},n,t)},[u.x,u.y],{maxIterations:500,minErrorDelta:1e-10}).solution,s={x:c[0],y:c[1]},h=!0;for(e=0;e<n.length;++e)if(p(s,n[e])>n[e].radius){h=!1;break}for(e=0;e<t.length;++e)if(p(s,t[e])<t[e].radius){h=!1;break}if(!h){if(1==n.length)s={x:n[0].x,y:n[0].y};else{var g={};f(n,g),s=0===g.arcs.length?{x:0,y:-1e3,disjoint:!0}:1==g.arcs.length?{x:g.arcs[0].circle.x,y:g.arcs[0].circle.y}:t.length?A(n,[]):d(g.arcs.map(function(n){return n.p1}))}}return s}function z(n){var t={},e=[];for(var r in n)e.push(r),t[r]=[];for(var i=0;i<e.length;i++)for(var u=n[e[i]],a=i+1;a<e.length;++a){var o=n[e[a]],l=p(u,o);l+o.radius<=u.radius+1e-10?t[e[a]].push(e[i]):l+u.radius<=o.radius+1e-10&&t[e[i]].push(e[a])}return t}function C(n,t){for(var e={},r=z(n),i=0;i<t.length;++i){for(var u=t[i].sets,a={},o={},l=0;l<u.length;++l){a[u[l]]=!0;for(var c=r[u[l]],f=0;f<c.length;++f)o[c[f]]=!0}var s=[],h=[];for(var p in n)p in a?s.push(n[p]):p in o||h.push(n[p]);var g=A(s,h);e[u]=g,g.disjoint&&t[i].size>0&&console.log("WARNING: area "+u+" not represented on screen")}return e}function T(n,t,e){var r=[];return r.push("\nM",n,t),r.push("\nm",-e,0),r.push("\na",e,e,0,1,0,2*e,0),r.push("\na",e,e,0,1,0,-(2*e),0),r.join(" ")}function j(n){var t=n.split(" ");return{x:parseFloat(t[1]),y:parseFloat(t[2]),radius:-parseFloat(t[4])}}function q(n){var t={};f(n,t);var e=t.arcs;if(0===e.length)return"M 0 0";if(1==e.length){var r=e[0].circle;return T(r.x,r.y,r.radius)}for(var i=["\nM",e[0].p2.x,e[0].p2.y],u=0;u<e.length;++u){var a=e[u],o=a.circle.radius,l=a.width>o;i.push("\nA",o,o,0,l?1:0,1,a.p1.x,a.p1.y)}return i.join(" ")}n.fmin=l,n.minimizeConjugateGradient=c,n.bisect=t,n.intersectionArea=f,n.circleCircleIntersection=v,n.circleOverlap=g,n.circleArea=h,n.distance=p,n.circleIntegral=s,n.venn=y,n.greedyLayout=M,n.scaleSolution=k,n.normalizeSolution=S,n.bestInitialLayout=m,n.lossFunction=b,n.disjointCluster=_,n.distanceFromIntersectArea=x,n.VennDiagram=function(){var n=600,t=350,e=15,r=1e3,i=Math.PI/2,u=!0,a=!0,o=!0,l=null,c=null,f={},s=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],h=0,p=function(n){if(n in f)return f[n];var t=f[n]=s[h];return(h+=1)>=s.length&&(h=0),t},g=y;function v(f){var s=f.datum(),h=g(s);u&&(h=S(h,i,c));var v=k(h,n,t,e),y=C(v,s);f.selectAll("svg").data([v]).enter().append("svg");var x=f.select("svg").attr("width",n).attr("height",t),m={},M=!1;x.selectAll("g path").each(function(n){var t=d3.select(this).attr("d");1==n.sets.length&&t&&(M=!0,m[n.sets[0]]=j(t))});var b=function(e){return function(r){return q(e.sets.map(function(e){var i=m[e],u=v[e];return i||(i={x:n/2,y:t/2,radius:1}),u||(u={x:n/2,y:t/2,radius:1}),{x:i.x*(1-r)+u.x*r,y:i.y*(1-r)+u.y*r,radius:i.radius*(1-r)+u.radius*r}}))}},_=x.selectAll("g").data(s,function(n){return n.sets}),w=_.enter().append("g").attr("class",function(n){return"venn-area venn-"+(1==n.sets.length?"circle":"intersection")}).attr("data-venn-sets",function(n){return n.sets.join("_")}),E=w.append("path"),A=w.append("text").attr("class","label").text(function(n){return d(n)}).attr("text-anchor","middle").attr("dy",".35em").attr("x",n/2).attr("y",t/2);o&&(E.style("fill-opacity","0").filter(function(n){return 1==n.sets.length}).style("fill",function(n){return p(d(n))}).style("fill-opacity",".25"),A.style("fill",function(n){return 1==n.sets.length?p(d(n)):"#444"}));var z=f;M?(z=f.transition("venn").duration(r)).selectAll("path").attrTween("d",b):z.selectAll("path").attr("d",function(n){return q(n.sets.map(function(n){return v[n]}))});var T=z.selectAll("text").filter(function(n){return n.sets in y}).text(function(n){return d(n)}).attr("x",function(n){return Math.floor(y[n.sets].x)}).attr("y",function(n){return Math.floor(y[n.sets].y)});a&&(M?"on"in T?T.on("end",N(v,d)):T.each("end",N(v,d)):T.each(N(v,d)));var R=_.exit().transition("venn").duration(r).remove();R.selectAll("path").attrTween("d",b);var L=R.selectAll("text").attr("x",n/2).attr("y",t/2);return null!==l&&(A.style("font-size","0px"),T.style("font-size",l),L.style("font-size","0px")),{circles:v,textCentres:y,nodes:_,enter:w,update:z,exit:R}}function d(n){return n.label?n.label:1==n.sets.length?""+n.sets[0]:void 0}return v.wrap=function(n){return arguments.length?(a=n,v):a},v.width=function(t){return arguments.length?(n=t,v):n},v.height=function(n){return arguments.length?(t=n,v):t},v.padding=function(n){return arguments.length?(e=n,v):e},v.colours=function(n){return arguments.length?(p=n,v):p},v.fontSize=function(n){return arguments.length?(l=n,v):l},v.duration=function(n){return arguments.length?(r=n,v):r},v.layoutFunction=function(n){return arguments.length?(g=n,v):g},v.normalize=function(n){return arguments.length?(u=n,v):u},v.styled=function(n){return arguments.length?(o=n,v):o},v.orientation=function(n){return arguments.length?(i=n,v):i},v.orientationOrder=function(n){return arguments.length?(c=n,v):c},v},n.wrapText=N,n.computeTextCentres=C,n.computeTextCentre=A,n.sortAreas=function(n,t){for(var e=z(n.selectAll("svg").datum()),r={},i=0;i<t.sets.length;++i){var u=t.sets[i];for(var a in e)for(var o=e[a],l=0;l<o.length;++l)if(o[l]==u){r[a]=!0;break}}function c(n){for(var t=0;t<n.length;++t)if(!(n[t]in r))return!1;return!0}n.selectAll("g").sort(function(n,e){return n.sets.length!=e.sets.length?n.sets.length-e.sets.length:n==t?c(e.sets)?-1:1:e==t?c(n.sets)?1:-1:e.size-n.size})},n.circlePath=T,n.circleFromPath=j,n.intersectionAreaPath=q}(e);var r={};!function(){var n={version:"3.5.17"},t=[].slice,e=function(n){return t.call(n)},i=this.document;function u(n){return n&&(n.ownerDocument||n.document||n).documentElement}function a(n){return n&&(n.ownerDocument&&n.ownerDocument.defaultView||n.document&&n||n.defaultView)}if(i)try{e(i.documentElement.childNodes)[0].nodeType}catch(n){e=function(n){for(var t=n.length,e=Array(t);t--;)e[t]=n[t];return e}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(n){var o=this.Element.prototype,l=o.setAttribute,c=o.setAttributeNS,f=this.CSSStyleDeclaration.prototype,s=f.setProperty;o.setAttribute=function(n,t){l.call(this,n,t+"")},o.setAttributeNS=function(n,t,e){c.call(this,n,t,e+"")},f.setProperty=function(n,t,e){s.call(this,n,t+"",e)}}function h(n,t){return n<t?-1:n>t?1:n>=t?0:NaN}function p(n){return null===n?NaN:+n}function g(n){return!isNaN(n)}function v(n){return{left:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;0>n(t[u],e)?r=u+1:i=u}return r},right:function(t,e,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var u=r+i>>>1;n(t[u],e)>0?i=u:r=u+1}return r}}}n.ascending=h,n.descending=function(n,t){return t<n?-1:t>n?1:t>=n?0:NaN},n.min=function(n,t){var e,r,i=-1,u=n.length;if(1==arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&e>r&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&e>r&&(e=r)}return e},n.max=function(n,t){var e,r,i=-1,u=n.length;if(1==arguments.length){for(;++i<u;)if(null!=(r=n[i])&&r>=r){e=r;break}for(;++i<u;)null!=(r=n[i])&&r>e&&(e=r)}else{for(;++i<u;)if(null!=(r=t.call(n,n[i],i))&&r>=r){e=r;break}for(;++i<u;)null!=(r=t.call(n,n[i],i))&&r>e&&(e=r)}return e},n.extent=function(n,t){var e,r,i,u=-1,a=n.length;if(1==arguments.length){for(;++u<a;)if(null!=(r=n[u])&&r>=r){e=i=r;break}for(;++u<a;)null!=(r=n[u])&&(e>r&&(e=r),i<r&&(i=r))}else{for(;++u<a;)if(null!=(r=t.call(n,n[u],u))&&r>=r){e=i=r;break}for(;++u<a;)null!=(r=t.call(n,n[u],u))&&(e>r&&(e=r),i<r&&(i=r))}return[e,i]},n.sum=function(n,t){var e,r=0,i=n.length,u=-1;if(1==arguments.length)for(;++u<i;)g(e=+n[u])&&(r+=e);else for(;++u<i;)g(e=+t.call(n,n[u],u))&&(r+=e);return r},n.mean=function(n,t){var e,r=0,i=n.length,u=-1,a=i;if(1==arguments.length)for(;++u<i;)g(e=p(n[u]))?r+=e:--a;else for(;++u<i;)g(e=p(t.call(n,n[u],u)))?r+=e:--a;if(a)return r/a},n.quantile=function(n,t){var e=(n.length-1)*t+1,r=Math.floor(e),i=+n[r-1],u=e-r;return u?i+u*(n[r]-i):i},n.median=function(t,e){var r,i=[],u=t.length,a=-1;if(1==arguments.length)for(;++a<u;)g(r=p(t[a]))&&i.push(r);else for(;++a<u;)g(r=p(e.call(t,t[a],a)))&&i.push(r);if(i.length)return n.quantile(i.sort(h),.5)},n.variance=function(n,t){var e,r,i=n.length,u=0,a=0,o=-1,l=0;if(1==arguments.length)for(;++o<i;)g(e=p(n[o]))&&(r=e-u,u+=r/++l,a+=r*(e-u));else for(;++o<i;)g(e=p(t.call(n,n[o],o)))&&(r=e-u,u+=r/++l,a+=r*(e-u));if(l>1)return a/(l-1)},n.deviation=function(){var t=n.variance.apply(this,arguments);return t?Math.sqrt(t):t};var d=v(h);function y(n){return n.length}n.bisectLeft=d.left,n.bisect=n.bisectRight=d.right,n.bisector=function(n){return v(1===n.length?function(t,e){return h(n(t),e)}:n)},n.shuffle=function(n,t,e){(u=arguments.length)<3&&(e=n.length,u<2&&(t=0));for(var r,i,u=e-t;u;)i=Math.random()*u--|0,r=n[u+t],n[u+t]=n[i+t],n[i+t]=r;return n},n.permute=function(n,t){for(var e=t.length,r=Array(e);e--;)r[e]=n[t[e]];return r},n.pairs=function(n){for(var t=0,e=n.length-1,r=n[0],i=Array(e<0?0:e);t<e;)i[t]=[r,r=n[++t]];return i},n.transpose=function(t){if(!(u=t.length))return[];for(var e=-1,r=n.min(t,y),i=Array(r);++e<r;)for(var u,a=-1,o=i[e]=Array(u);++a<u;)o[a]=t[a][e];return i},n.zip=function(){return n.transpose(arguments)},n.keys=function(n){var t=[];for(var e in n)t.push(e);return t},n.values=function(n){var t=[];for(var e in n)t.push(n[e]);return t},n.entries=function(n){var t=[];for(var e in n)t.push({key:e,value:n[e]});return t},n.merge=function(n){for(var t,e,r,i=n.length,u=-1,a=0;++u<i;)a+=n[u].length;for(e=Array(a);--i>=0;)for(t=(r=n[i]).length;--t>=0;)e[--a]=r[t];return e};var x=Math.abs;function m(n,t){for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}function M(){this._=Object.create(null)}function b(n){return"__proto__"==(n+="")||"\0"===n[0]?"\0"+n:n}function _(n){return"\0"===(n+="")[0]?n.slice(1):n}function w(n){return b(n)in this._}function S(n){return(n=b(n))in this._&&delete this._[n]}function k(){var n=[];for(var t in this._)n.push(_(t));return n}function N(){var n=0;for(var t in this._)++n;return n}function E(){for(var n in this._)return!1;return!0}function A(){this._=Object.create(null)}function z(n){return n}function C(n,t){if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var e=0,r=T.length;e<r;++e){var i=T[e]+t;if(i in n)return i}}n.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),(t-n)/e==1/0)throw Error("infinite range");var r,i=[],u=function(n){for(var t=1;n*t%1;)t*=10;return t}(x(e)),a=-1;if(n*=u,t*=u,(e*=u)<0)for(;(r=n+e*++a)>t;)i.push(r/u);else for(;(r=n+e*++a)<t;)i.push(r/u);return i},n.map=function(n,t){var e=new M;if(n instanceof M)n.forEach(function(n,t){e.set(n,t)});else if(Array.isArray(n)){var r,i=-1,u=n.length;if(1==arguments.length)for(;++i<u;)e.set(i,n[i]);else for(;++i<u;)e.set(t.call(n,r=n[i],i),r)}else for(var a in n)e.set(a,n[a]);return e},m(M,{has:w,get:function(n){return this._[b(n)]},set:function(n,t){return this._[b(n)]=t},remove:S,keys:k,values:function(){var n=[];for(var t in this._)n.push(this._[t]);return n},entries:function(){var n=[];for(var t in this._)n.push({key:_(t),value:this._[t]});return n},size:N,empty:E,forEach:function(n){for(var t in this._)n.call(this,_(t),this._[t])}}),n.nest=function(){var t,e,r={},i=[],u=[];function a(n,u,o){if(o>=i.length)return e?e.call(r,u):t?u.sort(t):u;for(var l,c,f,s,h=-1,p=u.length,g=i[o++],v=new M;++h<p;)(s=v.get(l=g(c=u[h])))?s.push(c):v.set(l,[c]);return n?(c=n(),f=function(t,e){c.set(t,a(n,e,o))}):(c={},f=function(t,e){c[t]=a(n,e,o)}),v.forEach(f),c}return r.map=function(n,t){return a(t,n,0)},r.entries=function(t){return function n(t,e){if(e>=i.length)return t;var r=[],a=u[e++];return t.forEach(function(t,i){r.push({key:t,values:n(i,e)})}),a?r.sort(function(n,t){return a(n.key,t.key)}):r}(a(n.map,t,0),0)},r.key=function(n){return i.push(n),r},r.sortKeys=function(n){return u[i.length-1]=n,r},r.sortValues=function(n){return t=n,r},r.rollup=function(n){return e=n,r},r},n.set=function(n){var t=new A;if(n)for(var e=0,r=n.length;e<r;++e)t.add(n[e]);return t},m(A,{has:w,add:function(n){return this._[b(n+="")]=!0,n},remove:S,values:k,size:N,empty:E,forEach:function(n){for(var t in this._)n.call(this,_(t))}}),n.behavior={},n.rebind=function(n,t){for(var e,r=1,i=arguments.length;++r<i;)n[e=arguments[r]]=function(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}(n,t,t[e]);return n};var T=["webkit","ms","moz","Moz","o","O"];function j(){}function q(){}function R(n){var t=[],e=new M;function r(){for(var e,r=t,i=-1,u=r.length;++i<u;)(e=r[i].on)&&e.apply(this,arguments);return n}return r.on=function(r,i){var u,a=e.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,t=t.slice(0,u=t.indexOf(a)).concat(t.slice(u+1)),e.remove(r)),i&&t.push(e.set(r,{on:i})),n)},r}function L(){n.event.preventDefault()}function P(){for(var t,e=n.event;t=e.sourceEvent;)e=t;return e}function D(t){for(var e=new q,r=0,i=arguments.length;++r<i;)e[arguments[r]]=R(e);return e.of=function(r,i){return function(u){try{var a=u.sourceEvent=n.event;u.target=t,n.event=u,e[u.type].apply(r,i)}finally{n.event=a}}},e}n.dispatch=function(){for(var n=new q,t=-1,e=arguments.length;++t<e;)n[arguments[t]]=R(n);return n},q.prototype.on=function(n,t){var e=n.indexOf("."),r="";if(e>=0&&(r=n.slice(e+1),n=n.slice(0,e)),n)return arguments.length<2?this[n].on(r):this[n].on(r,t);if(2==arguments.length){if(null==t)for(n in this)this.hasOwnProperty(n)&&this[n].on(r,null);return this}},n.event=null,n.requote=function(n){return n.replace(O,"\\$&")};var O=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,I={}.__proto__?function(n,t){n.__proto__=t}:function(n,t){for(var e in t)n[e]=t[e]};function F(n){return I(n,V),n}var U=function(n,t){return t.querySelector(n)},H=function(n,t){return t.querySelectorAll(n)},Y=function(n,t){var e=n.matches||n[C(n,"matchesSelector")];return(Y=function(n,t){return e.call(n,t)})(n,t)};"function"==typeof Sizzle&&(U=function(n,t){return Sizzle(n,t)[0]||null},H=Sizzle,Y=Sizzle.matchesSelector),n.selection=function(){return n.select(i.documentElement)};var V=n.selection.prototype=[];function B(n){return"function"==typeof n?n:function(){return U(n,this)}}function Z(n){return"function"==typeof n?n:function(){return H(n,this)}}V.select=function(n){var t,e,r,i,u=[];n=B(n);for(var a=-1,o=this.length;++a<o;){u.push(t=[]),t.parentNode=(r=this[a]).parentNode;for(var l=-1,c=r.length;++l<c;)(i=r[l])?(t.push(e=n.call(i,i.__data__,l,a)),e&&"__data__"in i&&(e.__data__=i.__data__)):t.push(null)}return F(u)},V.selectAll=function(n){var t,r,i=[];n=Z(n);for(var u=-1,a=this.length;++u<a;)for(var o=this[u],l=-1,c=o.length;++l<c;)(r=o[l])&&(i.push(t=e(n.call(r,r.__data__,l,u))),t.parentNode=r);return F(i)};var X="http://www.w3.org/1999/xhtml",W={svg:"http://www.w3.org/2000/svg",xhtml:X,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function J(t,e){return t=n.ns.qualify(t),null==e?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof e?t.local?function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}:function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}:t.local?function(){this.setAttributeNS(t.space,t.local,e)}:function(){this.setAttribute(t,e)}}function G(n){return n.trim().replace(/\s+/g," ")}function K(t){return RegExp("(?:^|\\s+)"+n.requote(t)+"(?:\\s+|$)","g")}function Q(n){return(n+"").trim().split(/^|\s+/)}function nn(n,t){var e=(n=Q(n).map(nt)).length;return"function"==typeof t?function(){for(var r=-1,i=t.apply(this,arguments);++r<e;)n[r](this,i)}:function(){for(var r=-1;++r<e;)n[r](this,t)}}function nt(n){var t=K(n);return function(e,r){if(i=e.classList)return r?i.add(n):i.remove(n);var i=e.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||e.setAttribute("class",G(i+" "+n))):e.setAttribute("class",G(i.replace(t," ")))}}function ne(n,t,e){return null==t?function(){this.style.removeProperty(n)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(n):this.style.setProperty(n,r,e)}:function(){this.style.setProperty(n,t,e)}}function nr(n,t){return null==t?function(){delete this[n]}:"function"==typeof t?function(){var e=t.apply(this,arguments);null==e?delete this[n]:this[n]=e}:function(){this[n]=t}}function ni(t){return"function"==typeof t?t:(t=n.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var n=this.ownerDocument,e=this.namespaceURI;return e===X&&n.documentElement.namespaceURI===X?n.createElement(t):n.createElementNS(e,t)}}function nu(){var n=this.parentNode;n&&n.removeChild(this)}function na(n){return{__data__:n}}function no(n){return function(){return Y(this,n)}}function nl(n){return arguments.length||(n=h),function(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}}function nc(n,t){for(var e=0,r=n.length;e<r;e++)for(var i,u=n[e],a=0,o=u.length;a<o;a++)(i=u[a])&&t(i,a,e);return n}function nf(n){return I(n,ns),n}n.ns={prefix:W,qualify:function(n){var t=n.indexOf(":"),e=n;return t>=0&&"xmlns"!==(e=n.slice(0,t))&&(n=n.slice(t+1)),W.hasOwnProperty(e)?{space:W[e],local:n}:n}},V.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=n.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(e in t)this.each(J(e,t[e]));return this}return this.each(J(t,e))},V.classed=function(n,t){if(arguments.length<2){if("string"==typeof n){var e=this.node(),r=(n=Q(n)).length,i=-1;if(t=e.classList){for(;++i<r;)if(!t.contains(n[i]))return!1}else for(t=e.getAttribute("class");++i<r;)if(!K(n[i]).test(t))return!1;return!0}for(t in n)this.each(nn(t,n[t]));return this}return this.each(nn(n,t))},V.style=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){for(e in r<2&&(t=""),n)this.each(ne(e,n[e],t));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(n)}e=""}return this.each(ne(n,t,e))},V.property=function(n,t){if(arguments.length<2){if("string"==typeof n)return this.node()[n];for(t in n)this.each(nr(t,n[t]));return this}return this.each(nr(n,t))},V.text=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.textContent=null==t?"":t}:null==n?function(){this.textContent=""}:function(){this.textContent=n}):this.node().textContent},V.html=function(n){return arguments.length?this.each("function"==typeof n?function(){var t=n.apply(this,arguments);this.innerHTML=null==t?"":t}:null==n?function(){this.innerHTML=""}:function(){this.innerHTML=n}):this.node().innerHTML},V.append=function(n){return n=ni(n),this.select(function(){return this.appendChild(n.apply(this,arguments))})},V.insert=function(n,t){return n=ni(n),t=B(t),this.select(function(){return this.insertBefore(n.apply(this,arguments),t.apply(this,arguments)||null)})},V.remove=function(){return this.each(nu)},V.data=function(n,t){var e,r,i=-1,u=this.length;if(!arguments.length){for(n=Array(u=(e=this[0]).length);++i<u;)(r=e[i])&&(n[i]=r.__data__);return n}function a(n,e){var r,i,u,a=n.length,f=e.length,s=Math.min(a,f),h=Array(f),p=Array(f),g=Array(a);if(t){var v,d=new M,y=Array(a);for(r=-1;++r<a;)(i=n[r])&&(d.has(v=t.call(i,i.__data__,r))?g[r]=i:d.set(v,i),y[r]=v);for(r=-1;++r<f;)(i=d.get(v=t.call(e,u=e[r],r)))?!0!==i&&(h[r]=i,i.__data__=u):p[r]=na(u),d.set(v,!0);for(r=-1;++r<a;)r in y&&!0!==d.get(y[r])&&(g[r]=n[r])}else{for(r=-1;++r<s;)i=n[r],u=e[r],i?(i.__data__=u,h[r]=i):p[r]=na(u);for(;r<f;++r)p[r]=na(e[r]);for(;r<a;++r)g[r]=n[r]}p.update=h,p.parentNode=h.parentNode=g.parentNode=n.parentNode,o.push(p),l.push(h),c.push(g)}var o=nf([]),l=F([]),c=F([]);if("function"==typeof n)for(;++i<u;)a(e=this[i],n.call(e,e.parentNode.__data__,i));else for(;++i<u;)a(e=this[i],n);return l.enter=function(){return o},l.exit=function(){return c},l},V.datum=function(n){return arguments.length?this.property("__data__",n):this.property("__data__")},V.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=no(n));for(var u=0,a=this.length;u<a;u++){i.push(t=[]),t.parentNode=(e=this[u]).parentNode;for(var o=0,l=e.length;o<l;o++)(r=e[o])&&n.call(r,r.__data__,o,u)&&t.push(r)}return F(i)},V.order=function(){for(var n=-1,t=this.length;++n<t;)for(var e,r=this[n],i=r.length-1,u=r[i];--i>=0;)(e=r[i])&&(u&&u!==e.nextSibling&&u.parentNode.insertBefore(e,u),u=e);return this},V.sort=function(n){n=nl.apply(this,arguments);for(var t=-1,e=this.length;++t<e;)this[t].sort(n);return this.order()},V.each=function(n){return nc(this,function(t,e,r){n.call(t,t.__data__,e,r)})},V.call=function(n){var t=e(arguments);return n.apply(t[0]=this,t),this},V.empty=function(){return!this.node()},V.node=function(){for(var n=0,t=this.length;n<t;n++)for(var e=this[n],r=0,i=e.length;r<i;r++){var u=e[r];if(u)return u}return null},V.size=function(){var n=0;return nc(this,function(){++n}),n};var ns=[];function nh(t,r,i){var u="__on"+t,a=t.indexOf("."),o=ng;a>0&&(t=t.slice(0,a));var l=np.get(t);function c(){var n=this[u];n&&(this.removeEventListener(t,n,n.$),delete this[u])}return l&&(t=l,o=nv),a?r?function(){var n=o(r,e(arguments));c.call(this),this.addEventListener(t,this[u]=n,n.$=i),n._=r}:c:r?j:function(){var e,r=RegExp("^__on([^.]+)"+n.requote(t)+"$");for(var i in this)if(e=i.match(r)){var u=this[i];this.removeEventListener(e[1],u,u.$),delete this[i]}}}n.selection.enter=nf,n.selection.enter.prototype=ns,ns.append=V.append,ns.empty=V.empty,ns.node=V.node,ns.call=V.call,ns.size=V.size,ns.select=function(n){for(var t,e,r,i,u,a=[],o=-1,l=this.length;++o<l;){r=(i=this[o]).update,a.push(t=[]),t.parentNode=i.parentNode;for(var c=-1,f=i.length;++c<f;)(u=i[c])?(t.push(r[c]=e=n.call(i.parentNode,u.__data__,c,o)),e.__data__=u.__data__):t.push(null)}return F(a)},ns.insert=function(n,t){var e,r,i;return arguments.length<2&&(e=this,t=function(n,t,u){var a,o=e[u].update,l=o.length;for(u!=i&&(i=u,r=0),t>=r&&(r=t+1);!(a=o[r])&&++r<l;);return a}),V.insert.call(this,n,t)},n.select=function(n){var t;return"string"==typeof n?(t=[U(n,i)]).parentNode=i.documentElement:(t=[n]).parentNode=u(n),F([t])},n.selectAll=function(n){var t;return"string"==typeof n?(t=e(H(n,i))).parentNode=i.documentElement:(t=e(n)).parentNode=null,F([t])},V.on=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){for(e in r<2&&(t=!1),n)this.each(nh(e,n[e],t));return this}if(r<2)return(r=this.node()["__on"+n])&&r._;e=!1}return this.each(nh(n,t,e))};var np=n.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ng(t,e){return function(r){var i=n.event;n.event=r,e[0]=this.__data__;try{t.apply(this,e)}finally{n.event=i}}}function nv(n,t){var e=ng(n,t);return function(n){var t=n.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||e.call(this,n)}}i&&np.forEach(function(n){"on"+n in i&&np.remove(n)});var nd,ny=0;function nx(t){var e=".dragsuppress-"+ ++ny,r="click"+e,i=n.select(a(t)).on("touchmove"+e,L).on("dragstart"+e,L).on("selectstart"+e,L);if(null==nd&&(nd=!("onselectstart"in t)&&C(t.style,"userSelect")),nd){var o=u(t).style,l=o[nd];o[nd]="none"}return function(n){if(i.on(e,null),nd&&(o[nd]=l),n){var t=function(){i.on(r,null)};i.on(r,function(){L(),t()},!0),setTimeout(t,0)}}}n.mouse=function(n){return nM(n,P())};var nm=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function nM(t,e){e.changedTouches&&(e=e.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(nm<0){var u=a(t);if(u.scrollX||u.scrollY){var o=(r=n.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();nm=!(o.f||o.e),r.remove()}}return nm?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var l=t.getBoundingClientRect();return[e.clientX-l.left-t.clientLeft,e.clientY-l.top-t.clientTop]}function nb(){return n.event.changedTouches[0].identifier}n.touch=function(n,t,e){if(arguments.length<3&&(e=t,t=P().changedTouches),t){for(var r,i=0,u=t.length;i<u;++i)if((r=t[i]).identifier===e)return nM(n,r)}},n.behavior.drag=function(){var t=D(u,"drag","dragstart","dragend"),e=null,r=o(j,n.mouse,a,"mousemove","mouseup"),i=o(nb,n.touch,z,"touchmove","touchend");function u(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function o(r,i,u,a,o){return function(){var l,c=n.event.target.correspondingElement||n.event.target,f=this.parentNode,s=t.of(this,arguments),h=0,p=r(),g=".drag"+(null==p?"":"-"+p),v=n.select(u(c)).on(a+g,function(){var n,t,e=i(f,p);e&&(n=e[0]-y[0],t=e[1]-y[1],h|=n|t,y=e,s({type:"drag",x:e[0]+l[0],y:e[1]+l[1],dx:n,dy:t}))}).on(o+g,function(){i(f,p)&&(v.on(a+g,null).on(o+g,null),d(h),s({type:"dragend"}))}),d=nx(c),y=i(f,p);e?(l=e.apply(this,arguments),l=[l.x-y[0],l.y-y[1]]):l=[0,0],s({type:"dragstart"})}}return u.origin=function(n){return arguments.length?(e=n,u):e},n.rebind(u,t,"on")},n.touches=function(n,t){return arguments.length<2&&(t=P().touches),t?e(t).map(function(t){var e=nM(n,t);return e.identifier=t.identifier,e}):[]};var n_=1e-6*1e-6,nw=Math.PI,nS=2*nw,nk=nS-1e-6,nN=nw/2,nE=nw/180,nA=180/nw;function nz(n){return n>0?1:n<0?-1:0}function nC(n,t,e){return(t[0]-n[0])*(e[1]-n[1])-(t[1]-n[1])*(e[0]-n[0])}function nT(n){return n>1?0:n<-1?nw:Math.acos(n)}function nj(n){return n>1?nN:n<-1?-nN:Math.asin(n)}function nq(n){return((n=Math.exp(n))+1/n)/2}function nR(n){return(n=Math.sin(n/2))*n}var nL=Math.SQRT2;n.interpolateZoom=function(n,t){var e,r,i=n[0],u=n[1],a=n[2],o=t[0],l=t[1],c=t[2],f=o-i,s=l-u,h=f*f+s*s;if(h<n_)r=Math.log(c/a)/nL,e=function(n){return[i+n*f,u+n*s,a*Math.exp(nL*n*r)]};else{var p=Math.sqrt(h),g=(c*c-a*a+4*h)/(2*a*2*p),v=(c*c-a*a-4*h)/(2*c*2*p),d=Math.log(Math.sqrt(g*g+1)-g);r=(Math.log(Math.sqrt(v*v+1)-v)-d)/nL,e=function(n){var t,e,o=n*r,l=nq(d),c=a/(2*p)*(l*(((t=Math.exp(2*(t=nL*o+d)))-1)/(t+1))-((e=Math.exp(e=d))-1/e)/2);return[i+c*f,u+c*s,a*l/nq(nL*o+d)]}}return e.duration=1e3*r,e},n.behavior.zoom=function(){var t,e,r,u,o,l,c,f,s,h={x:0,y:0,k:1},p=[960,500],g=nO,v=250,d=0,y="mousedown.zoom",x="mousemove.zoom",m="mouseup.zoom",M="touchstart.zoom",b=D(_,"zoomstart","zoom","zoomend");function _(n){n.on(y,T).on(nD+".zoom",q).on("dblclick.zoom",R).on(M,j)}function w(n){return[(n[0]-h.x)/h.k,(n[1]-h.y)/h.k]}function S(n){h.k=Math.max(g[0],Math.min(g[1],n))}function k(n,t){var e;t=[(e=t)[0]*h.k+h.x,e[1]*h.k+h.y],h.x+=n[0]-t[0],h.y+=n[1]-t[1]}function N(t,r,i,u){t.__chart__={x:h.x,y:h.y,k:h.k},S(Math.pow(2,u)),k(e=r,i),t=n.select(t),v>0&&(t=t.transition().duration(v)),t.call(_.event)}function E(){c&&c.domain(l.range().map(function(n){return(n-h.x)/h.k}).map(l.invert)),s&&s.domain(f.range().map(function(n){return(n-h.y)/h.k}).map(f.invert))}function A(n){d++||n({type:"zoomstart"})}function z(n){E(),n({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function C(n){--d||(n({type:"zoomend"}),e=null)}function T(){var t=this,e=b.of(t,arguments),r=0,i=n.select(a(t)).on(x,function(){r=1,k(n.mouse(t),u),z(e)}).on(m,function(){i.on(x,null).on(m,null),o(r),C(e)}),u=w(n.mouse(t)),o=nx(t);u5.call(t),A(e)}function j(){var t,e=this,r=b.of(e,arguments),i={},u=0,a=".zoom-"+n.event.changedTouches[0].identifier,l="touchmove"+a,c="touchend"+a,f=[],s=n.select(e),p=nx(e);function g(){var r=n.touches(e);return t=h.k,r.forEach(function(n){n.identifier in i&&(i[n.identifier]=w(n))}),r}function v(){var t=n.event.target;n.select(t).on(l,d).on(c,x),f.push(t);for(var r=n.event.changedTouches,a=0,s=r.length;a<s;++a)i[r[a].identifier]=null;var p=g(),v=Date.now();if(1===p.length){if(v-o<500){var y=p[0];N(e,y,i[y.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),L()}o=v}else if(p.length>1){var y=p[0],m=p[1],M=y[0]-m[0],b=y[1]-m[1];u=M*M+b*b}}function d(){var a,l,c,f,s=n.touches(e);u5.call(e);for(var h=0,p=s.length;h<p;++h,f=null)if(f=i[(c=s[h]).identifier]){if(l)break;a=c,l=f}if(f){var g=(g=c[0]-a[0])*g+(g=c[1]-a[1])*g,v=u&&Math.sqrt(g/u);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],l=[(l[0]+f[0])/2,(l[1]+f[1])/2],S(v*t)}o=null,k(a,l),z(r)}function x(){if(n.event.touches.length){for(var t=n.event.changedTouches,e=0,u=t.length;e<u;++e)delete i[t[e].identifier];for(var o in i)return void g()}n.selectAll(f).on(a,null),s.on(y,T).on(M,j),p(),C(r)}v(),A(r),s.on(y,null).on(M,v)}function q(){var i=b.of(this,arguments);u?clearTimeout(u):(u5.call(this),t=w(e=r||n.mouse(this)),A(i)),u=setTimeout(function(){u=null,C(i)},50),L(),S(Math.pow(2,.002*nP())*h.k),k(e,t),z(i)}function R(){var t=n.mouse(this),e=Math.log(h.k)/Math.LN2;N(this,t,w(t),n.event.shiftKey?Math.ceil(e)-1:Math.floor(e)+1)}return nD||(nD="onwheel"in i?(nP=function(){return-n.event.deltaY*(n.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(nP=function(){return n.event.wheelDelta},"mousewheel"):(nP=function(){return-n.event.detail},"MozMousePixelScroll")),_.event=function(t){t.each(function(){var t=b.of(this,arguments),r=h;u9?n.select(this).transition().each("start.zoom",function(){h=this.__chart__||{x:0,y:0,k:1},A(t)}).tween("zoom:zoom",function(){var i=p[0],u=p[1],a=e?e[0]:i/2,o=e?e[1]:u/2,l=n.interpolateZoom([(a-h.x)/h.k,(o-h.y)/h.k,i/h.k],[(a-r.x)/r.k,(o-r.y)/r.k,i/r.k]);return function(n){var e=l(n),r=i/e[2];this.__chart__=h={x:a-e[0]*r,y:o-e[1]*r,k:r},z(t)}}).each("interrupt.zoom",function(){C(t)}).each("end.zoom",function(){C(t)}):(this.__chart__=h,A(t),z(t),C(t))})},_.translate=function(n){return arguments.length?(h={x:+n[0],y:+n[1],k:h.k},E(),_):[h.x,h.y]},_.scale=function(n){return arguments.length?(h={x:h.x,y:h.y,k:null},S(+n),E(),_):h.k},_.scaleExtent=function(n){return arguments.length?(g=null==n?nO:[+n[0],+n[1]],_):g},_.center=function(n){return arguments.length?(r=n&&[+n[0],+n[1]],_):r},_.size=function(n){return arguments.length?(p=n&&[+n[0],+n[1]],_):p},_.duration=function(n){return arguments.length?(v=+n,_):v},_.x=function(n){return arguments.length?(c=n,l=n.copy(),h={x:0,y:0,k:1},_):c},_.y=function(n){return arguments.length?(s=n,f=n.copy(),h={x:0,y:0,k:1},_):s},n.rebind(_,b,"on")};var nP,nD,nO=[0,1/0];function nI(){}function nF(n,t,e){return this instanceof nF?void(this.h=+n,this.s=+t,this.l=+e):arguments.length<2?n instanceof nF?new nF(n.h,n.s,n.l):n3(""+n,n9,nF):new nF(n,t,e)}n.color=nI,nI.prototype.toString=function(){return this.rgb()+""},n.hsl=nF;var nU=nF.prototype=new nI;function nH(n,t,e){var r,i;function u(n){var t;return Math.round(255*(((t=n)>360?t-=360:t<0&&(t+=360),t<60)?r+(i-r)*t/60:t<180?i:t<240?r+(i-r)*(240-t)/60:r))}return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:t<0?0:t>1?1:t,i=(e=e<0?0:e>1?1:e)<=.5?e*(1+t):e+t-e*t,r=2*e-i,new n0(u(n+120),u(n),u(n-120))}function nY(t,e,r){return this instanceof nY?void(this.h=+t,this.c=+e,this.l=+r):arguments.length<2?t instanceof nY?new nY(t.h,t.c,t.l):t instanceof nB?nJ(t.l,t.a,t.b):nJ((t=n4((t=n.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new nY(t,e,r)}nU.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),new nF(this.h,this.s,this.l/n)},nU.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new nF(this.h,this.s,n*this.l)},nU.rgb=function(){return nH(this.h,this.s,this.l)},n.hcl=nY;var nV=nY.prototype=new nI;function n$(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),new nB(e,Math.cos(n*=nE)*t,Math.sin(n)*t)}function nB(n,t,e){return this instanceof nB?void(this.l=+n,this.a=+t,this.b=+e):arguments.length<2?n instanceof nB?new nB(n.l,n.a,n.b):n instanceof nY?n$(n.h,n.c,n.l):n4((n=n0(n)).r,n.g,n.b):new nB(n,t,e)}nV.brighter=function(n){return new nY(this.h,this.c,Math.min(100,this.l+nZ*(arguments.length?n:1)))},nV.darker=function(n){return new nY(this.h,this.c,Math.max(0,this.l-nZ*(arguments.length?n:1)))},nV.rgb=function(){return n$(this.h,this.c,this.l).rgb()},n.lab=nB;var nZ=18,nX=nB.prototype=new nI;function nW(n,t,e){var r=(n+16)/116,i=r+t/500,u=r-e/200;return new n0(nQ(3.2404542*(i=.95047*nG(i))-1.5371385*(r=1*nG(r))-.4985314*(u=1.08883*nG(u))),nQ(-.969266*i+1.8760108*r+.041556*u),nQ(.0556434*i-.2040259*r+1.0572252*u))}function nJ(n,t,e){return n>0?new nY(Math.atan2(e,t)*nA,Math.sqrt(t*t+e*e),n):new nY(NaN,NaN,n)}function nG(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function nK(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function nQ(n){return Math.round(255*(n<=.00304?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function n0(n,t,e){return this instanceof n0?void(this.r=~~n,this.g=~~t,this.b=~~e):arguments.length<2?n instanceof n0?new n0(n.r,n.g,n.b):n3(""+n,n0,nH):new n0(n,t,e)}function n1(n){return new n0(n>>16,n>>8&255,255&n)}function n2(n){return n1(n)+""}nX.brighter=function(n){return new nB(Math.min(100,this.l+nZ*(arguments.length?n:1)),this.a,this.b)},nX.darker=function(n){return new nB(Math.max(0,this.l-nZ*(arguments.length?n:1)),this.a,this.b)},nX.rgb=function(){return nW(this.l,this.a,this.b)},n.rgb=n0;var n5=n0.prototype=new nI;function n6(n){return n<16?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function n3(n,t,e){var r,i,u,a=0,o=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(n=n.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return e(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(n7(i[0]),n7(i[1]),n7(i[2]))}return(u=tn.get(n))?t(u.r,u.g,u.b):(null==n||"#"!==n.charAt(0)||isNaN(u=parseInt(n.slice(1),16))||(4===n.length?(a=(a=(3840&u)>>4)>>4|a,o=(o=240&u)>>4|o,l=(l=15&u)<<4|l):7!==n.length||(a=(0xff0000&u)>>16,o=(65280&u)>>8,l=255&u)),t(a,o,l))}function n9(n,t,e){var r,i,u=Math.min(n/=255,t/=255,e/=255),a=Math.max(n,t,e),o=a-u,l=(a+u)/2;return o?(i=l<.5?o/(a+u):o/(2-a-u),r=(n==a?(t-e)/o+(t<e?6:0):t==a?(e-n)/o+2:(n-t)/o+4)*60):(r=NaN,i=l>0&&l<1?0:r),new nF(r,i,l)}function n4(n,t,e){var r=nK((.4124564*(n=n8(n))+.3575761*(t=n8(t))+.1804375*(e=n8(e)))/.95047),i=nK((.2126729*n+.7151522*t+.072175*e)/1);return nB(116*i-16,500*(r-i),200*(i-nK((.0193339*n+.119192*t+.9503041*e)/1.08883)))}function n8(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function n7(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}n5.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b;return t||e||r?(t&&t<30&&(t=30),e&&e<30&&(e=30),r&&r<30&&(r=30),new n0(Math.min(255,t/n),Math.min(255,e/n),Math.min(255,r/n))):new n0(30,30,30)},n5.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),new n0(n*this.r,n*this.g,n*this.b)},n5.hsl=function(){return n9(this.r,this.g,this.b)},n5.toString=function(){return"#"+n6(this.r)+n6(this.g)+n6(this.b)};var tn=n.map({aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32});function tt(n){return"function"==typeof n?n:function(){return n}}function te(n){return function(t,e,r){return 2==arguments.length&&"function"==typeof e&&(r=e,e=null),tr(t,e,n,r)}}function tr(t,r,i,u){var a={},o=n.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,f=null;function s(){var n,t,e,r=c.status;if(!r&&((t=(n=c).responseType)&&"text"!==t?n.response:n.responseText)||r>=200&&r<300||304===r){try{e=i.call(a,c)}catch(n){o.error.call(a,n);return}o.load.call(a,e)}else o.error.call(a,c)}return this.XDomainRequest&&!("withCredentials"in c)&&/^(http(s)?:)?\/\//.test(t)&&(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=s:c.onreadystatechange=function(){c.readyState>3&&s()},c.onprogress=function(t){var e=n.event;n.event=t;try{o.progress.call(a,c)}finally{n.event=e}},a.header=function(n,t){return(n=(n+"").toLowerCase(),arguments.length<2)?l[n]:(null==t?delete l[n]:l[n]=t+"",a)},a.mimeType=function(n){return arguments.length?(r=null==n?null:n+"",a):r},a.responseType=function(n){return arguments.length?(f=n,a):f},a.response=function(n){return i=n,a},["get","post"].forEach(function(n){a[n]=function(){return a.send.apply(a,[n].concat(e(arguments)))}}),a.send=function(n,e,i){if(2==arguments.length&&"function"==typeof e&&(i=e,e=null),c.open(n,t,!0),null==r||"accept"in l||(l.accept=r+",*/*"),c.setRequestHeader)for(var u in l)c.setRequestHeader(u,l[u]);return null!=r&&c.overrideMimeType&&c.overrideMimeType(r),null!=f&&(c.responseType=f),null!=i&&a.on("error",i).on("load",function(n){i(null,n)}),o.beforesend.call(a,c),c.send(null==e?null:e),a},a.abort=function(){return c.abort(),a},n.rebind(a,o,"on"),null==u?a:a.get(1===u.length?function(n,t){u(null==n?t:null)}:u)}tn.forEach(function(n,t){tn.set(n,n1(t))}),n.functor=tt,n.xhr=te(z),n.dsv=function(n,t){var e=RegExp('["'+n+"\n]"),r=n.charCodeAt(0);function i(n,e,r){arguments.length<3&&(r=e,e=null);var i=tr(n,t,null==e?u:a(e),r);return i.row=function(n){return arguments.length?i.response(null==(e=n)?u:a(n)):e},i}function u(n){return i.parse(n.responseText)}function a(n){return function(t){return i.parse(t.responseText,n)}}function o(t){return t.map(l).join(n)}function l(n){return e.test(n)?'"'+n.replace(/\"/g,'""')+'"':n}return i.parse=function(n,t){var e;return i.parseRows(n,function(n,r){if(e)return e(n,r-1);var i=Function("d","return {"+n.map(function(n,t){return JSON.stringify(n)+": d["+t+"]"}).join(",")+"}");e=t?function(n,e){return t(i(n),e)}:i})},i.parseRows=function(n,t){var e,i,u={},a={},o=[],l=n.length,c=0,f=0;function s(){if(c>=l)return a;if(i)return i=!1,u;var t=c;if(34===n.charCodeAt(t)){for(var e=t;e++<l;)if(34===n.charCodeAt(e)){if(34!==n.charCodeAt(e+1))break;++e}c=e+2;var o=n.charCodeAt(e+1);return 13===o?(i=!0,10===n.charCodeAt(e+2)&&++c):10===o&&(i=!0),n.slice(t+1,e).replace(/""/g,'"')}for(;c<l;){var o=n.charCodeAt(c++),f=1;if(10===o)i=!0;else if(13===o)i=!0,10===n.charCodeAt(c)&&(++c,++f);else if(o!==r)continue;return n.slice(t,c-f)}return n.slice(t)}for(;(e=s())!==a;){for(var h=[];e!==u&&e!==a;)h.push(e),e=s();t&&null==(h=t(h,f++))||o.push(h)}return o},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var e=new A,r=[];return t.forEach(function(n){for(var t in n)e.has(t)||r.push(e.add(t))}),[r.map(l).join(n)].concat(t.map(function(t){return r.map(function(n){return l(t[n])}).join(n)})).join("\n")},i.formatRows=function(n){return n.map(o).join("\n")},i},n.csv=n.dsv(",","text/csv"),n.tsv=n.dsv("	","text/tab-separated-values");var ti,tu,ta,to,tl=this[C(this,"requestAnimationFrame")]||function(n){setTimeout(n,17)};function tc(n,t,e){var r=arguments.length;r<2&&(t=0),r<3&&(e=Date.now());var i={c:n,t:e+t,n:null};return tu?tu.n=i:ti=i,tu=i,ta||(to=clearTimeout(to),ta=1,tl(tf)),i}function tf(){var n=ts(),t=th()-n;t>24?(isFinite(t)&&(clearTimeout(to),to=setTimeout(tf,t)),ta=0):(ta=1,tl(tf))}function ts(){for(var n=Date.now(),t=ti;t;)n>=t.t&&t.c(n-t.t)&&(t.c=null),t=t.n;return n}function th(){for(var n,t=ti,e=1/0;t;)t.c?(t.t<e&&(e=t.t),t=(n=t).n):t=n?n.n=t.n:ti=t.n;return tu=n,e}function tp(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}n.timer=function(){tc.apply(this,arguments)},n.timer.flush=function(){ts(),th()},n.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var tg=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(function(n,t){var e=Math.pow(10,3*x(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}});n.formatPrefix=function(t,e){var r=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=n.round(t,tp(t,e))),r=Math.max(-24,Math.min(24,3*Math.floor(((r=1+Math.floor(1e-12+Math.log(t)/Math.LN10))-1)/3)))),tg[8+r/3]};var tv=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,td=n.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(t,e){return(t=n.round(t,tp(t,e))).toFixed(Math.max(0,Math.min(20,tp(t*(1+1e-15),e))))}});function ty(n){return n+""}var tx=n.time={},tm=Date;function tM(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}tM.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){tb.setUTCDate.apply(this._,arguments)},setDay:function(){tb.setUTCDay.apply(this._,arguments)},setFullYear:function(){tb.setUTCFullYear.apply(this._,arguments)},setHours:function(){tb.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){tb.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){tb.setUTCMinutes.apply(this._,arguments)},setMonth:function(){tb.setUTCMonth.apply(this._,arguments)},setSeconds:function(){tb.setUTCSeconds.apply(this._,arguments)},setTime:function(){tb.setTime.apply(this._,arguments)}};var tb=Date.prototype;function t_(n,t,e){function r(t){var e=n(t),r=u(e,1);return t-e<r-t?e:r}function i(e){return t(e=n(new tm(e-1)),1),e}function u(n,e){return t(n=new tm(+n),e),n}function a(n,r,u){var a=i(n),o=[];if(u>1)for(;a<r;)e(a)%u||o.push(new Date(+a)),t(a,1);else for(;a<r;)o.push(new Date(+a)),t(a,1);return o}n.floor=n,n.round=r,n.ceil=i,n.offset=u,n.range=a;var o=n.utc=tw(n);return o.floor=o,o.round=tw(r),o.ceil=tw(i),o.offset=tw(u),o.range=function(n,t,e){try{tm=tM;var r=new tM;return r._=n,a(r,t,e)}finally{tm=Date}},n}function tw(n){return function(t,e){try{tm=tM;var r=new tM;return r._=t,n(r,e)._}finally{tm=Date}}}tx.year=t_(function(n){return(n=tx.day(n)).setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),tx.years=tx.year.range,tx.years.utc=tx.year.utc.range,tx.day=t_(function(n){var t=new tm(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),tx.days=tx.day.range,tx.days.utc=tx.day.utc.range,tx.dayOfYear=function(n){var t=tx.year(n);return Math.floor((n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*6e4)/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=tx[n]=t_(function(n){return(n=tx.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=tx.year(n).getDay();return Math.floor((tx.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});tx[n+"s"]=e.range,tx[n+"s"].utc=e.utc.range,tx[n+"OfYear"]=function(n){var e=tx.year(n).getDay();return Math.floor((tx.dayOfYear(n)+(e+t)%7)/7)}}),tx.week=tx.sunday,tx.weeks=tx.sunday.range,tx.weeks.utc=tx.sunday.utc.range,tx.weekOfYear=tx.sundayOfYear;var tS={"-":"",_:" ",0:"0"},tk=/^\s*\d+/,tN=/^%/;function tE(n,t,e){var r=n<0?"-":"",i=(r?-n:n)+"",u=i.length;return r+(u<e?Array(e-u+1).join(t)+i:i)}function tA(t){return RegExp("^(?:"+t.map(n.requote).join("|")+")","i")}function tz(n){for(var t=new M,e=-1,r=n.length;++e<r;)t.set(n[e].toLowerCase(),e);return t}function tC(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function tT(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e));return r?(n.U=+r[0],e+r[0].length):-1}function tj(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e));return r?(n.W=+r[0],e+r[0].length):-1}function tq(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function tR(n,t,e){tk.lastIndex=0;var r,i=tk.exec(t.slice(e,e+2));return i?(n.y=(r=+i[0])+(r>68?1900:2e3),e+i[0].length):-1}function tL(n,t,e){return/^[+-]\d{4}$/.test(t=t.slice(e,e+5))?(n.Z=-t,e+5):-1}function tP(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function tD(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function tO(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function tI(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function tF(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function tU(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function tH(n,t,e){tk.lastIndex=0;var r=tk.exec(t.slice(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function tY(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=x(t)/60|0,i=x(t)%60;return e+tE(r,"0",2)+tE(i,"0",2)}function tV(n,t,e){tN.lastIndex=0;var r=tN.exec(t.slice(e,e+1));return r?e+r[0].length:-1}function t$(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[0];!r[1](t);)r=n[++e];return r[0](t)}}n.locale=function(t){var e,r,i,u,a;return{numberFormat:(e=t.decimal,r=t.thousands,i=t.grouping,u=t.currency,a=i&&r?function(n,t){for(var e=n.length,u=[],a=0,o=i[0],l=0;e>0&&o>0&&(l+o+1>t&&(o=Math.max(1,t-l)),u.push(n.substring(e-=o,e+o)),!((l+=o+1)>t));)o=i[a=(a+1)%i.length];return u.reverse().join(r)}:z,function(t){var r=tv.exec(t),i=r[1]||" ",o=r[2]||">",l=r[3]||"-",c=r[4]||"",f=r[5],s=+r[6],h=r[7],p=r[8],g=r[9],v=1,d="",y="",x=!1,m=!0;switch(p&&(p=+p.substring(1)),(f||"0"===i&&"="===o)&&(f=i="0",o="="),g){case"n":h=!0,g="g";break;case"%":v=100,y="%",g="f";break;case"p":v=100,y="%",g="r";break;case"b":case"o":case"x":case"X":"#"===c&&(d="0"+g.toLowerCase());case"c":m=!1;case"d":x=!0,p=0;break;case"s":v=-1,g="r"}"$"===c&&(d=u[0],y=u[1]),"r"!=g||p||(g="g"),null!=p&&("g"==g?p=Math.max(1,Math.min(21,p)):("e"==g||"f"==g)&&(p=Math.max(0,Math.min(20,p)))),g=td.get(g)||ty;var M=f&&h;return function(t){var r=y;if(x&&t%1)return"";var u=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===l?"":l;if(v<0){var c=n.formatPrefix(t,p);t=c.scale(t),r=c.symbol+y}else t*=v;var b,_,w=(t=g(t,p)).lastIndexOf(".");if(w<0){var S=m?t.lastIndexOf("e"):-1;S<0?(b=t,_=""):(b=t.substring(0,S),_=t.substring(S))}else b=t.substring(0,w),_=e+t.substring(w+1);!f&&h&&(b=a(b,1/0));var k=d.length+b.length+_.length+(M?0:u.length),N=k<s?Array(k=s-k+1).join(i):"";return M&&(b=a(N+b,N.length?s-_.length:1/0)),u+=d,t=b+_,("<"===o?u+t+N:">"===o?N+u+t:"^"===o?N.substring(0,k>>=1)+u+t+N.substring(k):u+(M?t:N+t))+r}}),timeFormat:function(t){var e=t.dateTime,r=t.date,i=t.time,u=t.periods,a=t.days,o=t.shortDays,l=t.months,c=t.shortMonths;function f(n){var t=n.length;function e(e){for(var r,i,u,a=[],o=-1,l=0;++o<t;)37===n.charCodeAt(o)&&(a.push(n.slice(l,o)),null!=(i=tS[r=n.charAt(++o)])&&(r=n.charAt(++o)),(u=b[r])&&(r=u(e,null==i?"e"===r?" ":"0":i)),a.push(r),l=o+1);return a.push(n.slice(l,o)),a.join("")}return e.parse=function(t){var e={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(s(e,n,t,0)!=t.length)return null;"p"in e&&(e.H=e.H%12+12*e.p);var r=null!=e.Z&&tm!==tM,i=new(r?tM:tm);return"j"in e?i.setFullYear(e.y,0,e.j):"W"in e||"U"in e?("w"in e||(e.w="W"in e?1:0),i.setFullYear(e.y,0,1),i.setFullYear(e.y,0,"W"in e?(e.w+6)%7+7*e.W-(i.getDay()+5)%7:e.w+7*e.U-(i.getDay()+6)%7)):i.setFullYear(e.y,e.m,e.d),i.setHours(e.H+(e.Z/100|0),e.M+e.Z%100,e.S,e.L),r?i._:i},e.toString=function(){return n},e}function s(n,t,e,r){for(var i,u,a,o=0,l=t.length,c=e.length;o<l;){if(r>=c)return -1;if(37===(i=t.charCodeAt(o++))){if(!(u=_[(a=t.charAt(o++))in tS?t.charAt(o++):a])||(r=u(n,e,r))<0)return -1}else if(i!=e.charCodeAt(r++))return -1}return r}f.utc=function(n){var t=f(n);function e(n){try{var e=new(tm=tM);return e._=n,t(e)}finally{tm=Date}}return e.parse=function(n){try{tm=tM;var e=t.parse(n);return e&&e._}finally{tm=Date}},e.toString=t.toString,e},f.multi=f.utc.multi=t$;var h=n.map(),p=tA(a),g=tz(a),v=tA(o),d=tz(o),y=tA(l),x=tz(l),m=tA(c),M=tz(c);u.forEach(function(n,t){h.set(n.toLowerCase(),t)});var b={a:function(n){return o[n.getDay()]},A:function(n){return a[n.getDay()]},b:function(n){return c[n.getMonth()]},B:function(n){return l[n.getMonth()]},c:f(e),d:function(n,t){return tE(n.getDate(),t,2)},e:function(n,t){return tE(n.getDate(),t,2)},H:function(n,t){return tE(n.getHours(),t,2)},I:function(n,t){return tE(n.getHours()%12||12,t,2)},j:function(n,t){return tE(1+tx.dayOfYear(n),t,3)},L:function(n,t){return tE(n.getMilliseconds(),t,3)},m:function(n,t){return tE(n.getMonth()+1,t,2)},M:function(n,t){return tE(n.getMinutes(),t,2)},p:function(n){return u[+(n.getHours()>=12)]},S:function(n,t){return tE(n.getSeconds(),t,2)},U:function(n,t){return tE(tx.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return tE(tx.mondayOfYear(n),t,2)},x:f(r),X:f(i),y:function(n,t){return tE(n.getFullYear()%100,t,2)},Y:function(n,t){return tE(n.getFullYear()%1e4,t,4)},Z:tY,"%":function(){return"%"}},_={a:function(n,t,e){v.lastIndex=0;var r=v.exec(t.slice(e));return r?(n.w=d.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(n,t,e){p.lastIndex=0;var r=p.exec(t.slice(e));return r?(n.w=g.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(n,t,e){m.lastIndex=0;var r=m.exec(t.slice(e));return r?(n.m=M.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(n,t,e){y.lastIndex=0;var r=y.exec(t.slice(e));return r?(n.m=x.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(n,t,e){return s(n,b.c.toString(),t,e)},d:tD,e:tD,H:tI,I:tI,j:tO,L:tH,m:tP,M:tF,p:function(n,t,e){var r=h.get(t.slice(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)},S:tU,U:tT,w:tC,W:tj,x:function(n,t,e){return s(n,b.x.toString(),t,e)},X:function(n,t,e){return s(n,b.X.toString(),t,e)},y:tR,Y:tq,Z:tL,"%":tV};return f}(t)}};var tB=n.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function tZ(){}n.format=tB.numberFormat,n.geo={},tZ.prototype={s:0,t:0,add:function(n){tW(n,this.t,tX),tW(tX.s,this.s,this),this.s?this.t+=tX.t:this.s=tX.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var tX=new tZ;function tW(n,t,e){var r=e.s=n+t,i=r-n;e.t=n-(r-i)+(t-i)}function tJ(n,t){n&&tK.hasOwnProperty(n.type)&&tK[n.type](n,t)}n.geo.stream=function(n,t){n&&tG.hasOwnProperty(n.type)?tG[n.type](n,t):tJ(n,t)};var tG={Feature:function(n,t){tJ(n.geometry,t)},FeatureCollection:function(n,t){for(var e=n.features,r=-1,i=e.length;++r<i;)tJ(e[r].geometry,t)}},tK={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates,t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)n=e[r],t.point(n[0],n[1],n[2])},LineString:function(n,t){tQ(n.coordinates,t,0)},MultiLineString:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)tQ(e[r],t,0)},Polygon:function(n,t){t0(n.coordinates,t)},MultiPolygon:function(n,t){for(var e=n.coordinates,r=-1,i=e.length;++r<i;)t0(e[r],t)},GeometryCollection:function(n,t){for(var e=n.geometries,r=-1,i=e.length;++r<i;)tJ(e[r],t)}};function tQ(n,t,e){var r,i=-1,u=n.length-e;for(t.lineStart();++i<u;)r=n[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function t0(n,t){var e=-1,r=n.length;for(t.polygonStart();++e<r;)tQ(n[e],t,1);t.polygonEnd()}n.geo.area=function(t){return t1=0,n.geo.stream(t,t5),t1};var t1,t2=new tZ,t5={sphere:function(){t1+=4*nw},point:j,lineStart:j,lineEnd:j,polygonStart:function(){t2.reset(),t5.lineStart=t6},polygonEnd:function(){var n=2*t2;t1+=n<0?4*nw+n:n,t5.lineStart=t5.lineEnd=t5.point=j}};function t6(){var n,t,e,r,i;function u(n,t){var u=(n*=nE)-e,a=u>=0?1:-1,o=a*u,l=Math.cos(t=t*nE/2+nw/4),c=Math.sin(t),f=i*c,s=r*l+f*Math.cos(o),h=f*a*Math.sin(o);t2.add(Math.atan2(h,s)),e=n,r=l,i=c}t5.point=function(a,o){t5.point=u,e=(n=a)*nE,r=Math.cos(o=(t=o)*nE/2+nw/4),i=Math.sin(o)},t5.lineEnd=function(){u(n,t)}}function t3(n){var t=n[0],e=n[1],r=Math.cos(e);return[r*Math.cos(t),r*Math.sin(t),Math.sin(e)]}function t9(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function t4(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function t8(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function t7(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function en(n){var t=Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}function et(n){return[Math.atan2(n[1],n[0]),nj(n[2])]}function ee(n,t){return 1e-6>x(n[0]-t[0])&&1e-6>x(n[1]-t[1])}n.geo.bounds=function(){var t,e,r,i,u,a,o,l,c,f,s,h={point:p,lineStart:v,lineEnd:d,polygonStart:function(){h.point=y,h.lineStart=m,h.lineEnd=M,c=0,t5.polygonStart()},polygonEnd:function(){t5.polygonEnd(),h.point=p,h.lineStart=v,h.lineEnd=d,t2<0?(t=-(r=180),e=-(i=90)):c>1e-6?i=90:c<-1e-6&&(e=-90),s[0]=t,s[1]=r}};function p(n,u){f.push(s=[t=n,r=n]),u<e&&(e=u),u>i&&(i=u)}function g(n,a){var o=t3([n*nE,a*nE]);if(l){var c=t4(l,o),f=t4([c[1],-c[0],0],c);en(f),f=et(f);var s=n-u,h=s>0?1:-1,g=f[0]*nA*h,v=x(s)>180;if(v^(h*u<g&&g<h*n)){var d=f[1]*nA;d>i&&(i=d)}else if(v^(h*u<(g=(g+360)%360-180)&&g<h*n)){var d=-f[1]*nA;d<e&&(e=d)}else a<e&&(e=a),a>i&&(i=a);v?n<u?b(t,n)>b(t,r)&&(r=n):b(n,r)>b(t,r)&&(t=n):r>=t?(n<t&&(t=n),n>r&&(r=n)):n>u?b(t,n)>b(t,r)&&(r=n):b(n,r)>b(t,r)&&(t=n)}else p(n,a);l=o,u=n}function v(){h.point=g}function d(){s[0]=t,s[1]=r,h.point=p,l=null}function y(n,t){if(l){var e=n-u;c+=x(e)>180?e+(e>0?360:-360):e}else a=n,o=t;t5.point(n,t),g(n,t)}function m(){t5.lineStart()}function M(){y(a,o),t5.lineEnd(),x(c)>1e-6&&(t=-(r=180)),s[0]=t,s[1]=r,l=null}function b(n,t){return(t-=n)<0?t+360:t}function _(n,t){return n[0]-t[0]}function w(n,t){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}return function(u){i=r=-(t=e=1/0),f=[],n.geo.stream(u,h);var a=f.length;if(a){f.sort(_);for(var o,l=1,c=f[0],p=[c];l<a;++l)w((o=f[l])[0],c)||w(o[1],c)?(b(c[0],o[1])>b(c[0],c[1])&&(c[1]=o[1]),b(o[0],c[1])>b(c[0],c[1])&&(c[0]=o[0])):p.push(c=o);for(var g,o,v=-1/0,a=p.length-1,l=0,c=p[a];l<=a;c=o,++l)o=p[l],(g=b(c[1],o[0]))>v&&(v=g,t=o[0],r=c[1])}return f=s=null,t===1/0||e===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,e],[r,i]]}}(),n.geo.centroid=function(t){ew=eS=ek=eN=eE=eA=ez=eC=eT=ej=eq=0,n.geo.stream(t,er);var e=eT,r=ej,i=eq,u=e*e+r*r+i*i;return u<n_&&(e=eA,r=ez,i=eC,eS<1e-6&&(e=ek,r=eN,i=eE),(u=e*e+r*r+i*i)<n_)?[NaN,NaN]:[Math.atan2(r,e)*nA,nj(i/Math.sqrt(u))*nA]};var er={sphere:j,point:ei,lineStart:ea,lineEnd:eo,polygonStart:function(){er.lineStart=el},polygonEnd:function(){er.lineStart=ea}};function ei(n,t){n*=nE;var e=Math.cos(t*=nE);eu(e*Math.cos(n),e*Math.sin(n),Math.sin(t))}function eu(n,t,e){++ew,ek+=(n-ek)/ew,eN+=(t-eN)/ew,eE+=(e-eE)/ew}function ea(){var n,t,e;function r(r,i){r*=nE;var u=Math.cos(i*=nE),a=u*Math.cos(r),o=u*Math.sin(r),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=t*l-e*o)*c+(c=e*a-n*l)*c+(c=n*o-t*a)*c),n*a+t*o+e*l);eS+=c,eA+=c*(n+(n=a)),ez+=c*(t+(t=o)),eC+=c*(e+(e=l)),eu(n,t,e)}er.point=function(i,u){i*=nE;var a=Math.cos(u*=nE);n=a*Math.cos(i),t=a*Math.sin(i),e=Math.sin(u),er.point=r,eu(n,t,e)}}function eo(){er.point=ei}function el(){var n,t,e,r,i;function u(n,t){n*=nE;var u=Math.cos(t*=nE),a=u*Math.cos(n),o=u*Math.sin(n),l=Math.sin(t),c=r*l-i*o,f=i*a-e*l,s=e*o-r*a,h=Math.sqrt(c*c+f*f+s*s),p=e*a+r*o+i*l,g=h&&-nT(p)/h,v=Math.atan2(h,p);eT+=g*c,ej+=g*f,eq+=g*s,eS+=v,eA+=v*(e+(e=a)),ez+=v*(r+(r=o)),eC+=v*(i+(i=l)),eu(e,r,i)}er.point=function(a,o){n=a,t=o,er.point=u,a*=nE;var l=Math.cos(o*=nE);eu(e=l*Math.cos(a),r=l*Math.sin(a),i=Math.sin(o))},er.lineEnd=function(){u(n,t),er.lineEnd=eo,er.point=ei}}function ec(n,t){function e(e,r){return t((e=n(e,r))[0],e[1])}return n.invert&&t.invert&&(e.invert=function(e,r){return(e=t.invert(e,r))&&n.invert(e[0],e[1])}),e}function ef(){return!0}function es(n,t,e,r,i){var u=[],a=[];if(n.forEach(function(n){if(!((t=n.length-1)<=0)){var t,e=n[0],r=n[t];if(ee(e,r)){i.lineStart();for(var o=0;o<t;++o)i.point((e=n[o])[0],e[1]);i.lineEnd();return}var l=new ep(e,n,null,!0),c=new ep(e,null,l,!1);l.o=c,u.push(l),a.push(c),l=new ep(r,n,null,!1),c=new ep(r,null,l,!0),l.o=c,u.push(l),a.push(c)}}),a.sort(t),eh(u),eh(a),u.length){for(var o=0,l=e,c=a.length;o<c;++o)a[o].e=l=!l;for(var f,s,h=u[0];;){for(var p=h,g=!0;p.v;)if((p=p.n)===h)return;f=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(g)for(var o=0,c=f.length;o<c;++o)i.point((s=f[o])[0],s[1]);else r(p.x,p.n.x,1,i);p=p.n}else{if(g){f=p.p.z;for(var o=f.length-1;o>=0;--o)i.point((s=f[o])[0],s[1])}else r(p.x,p.p.x,-1,i);p=p.p}f=(p=p.o).z,g=!g}while(!p.v)i.lineEnd()}}}function eh(n){if(t=n.length){for(var t,e,r=0,i=n[0];++r<t;)i.n=e=n[r],e.p=i,i=e;i.n=e=n[0],e.p=i}}function ep(n,t,e,r){this.x=n,this.z=t,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}function eg(t,e,r,i){return function(u,a){var o=e(a),l=u.invert(i[0],i[1]),c={point:f,lineStart:h,lineEnd:p,polygonStart:function(){c.point=M,c.lineStart=b,c.lineEnd=_,g=[],v=[]},polygonEnd:function(){c.point=f,c.lineStart=h,c.lineEnd=p,g=n.merge(g);var t=function(n,t){var e=n[0],r=n[1],i=[Math.sin(e),-Math.cos(e),0],u=0,a=0;t2.reset();for(var o=0,l=t.length;o<l;++o){var c=t[o],f=c.length;if(f)for(var s=c[0],h=s[0],p=s[1]/2+nw/4,g=Math.sin(p),v=Math.cos(p),d=1;;){d===f&&(d=0);var y=(n=c[d])[0],x=n[1]/2+nw/4,m=Math.sin(x),M=Math.cos(x),b=y-h,_=b>=0?1:-1,w=_*b,S=w>nw,k=g*m;if(t2.add(Math.atan2(k*_*Math.sin(w),v*M+k*Math.cos(w))),u+=S?b+_*nS:b,S^h>=e^y>=e){var N=t4(t3(s),t3(n));en(N);var E=t4(i,N);en(E);var A=(S^b>=0?-1:1)*nj(E[2]);(r>A||r===A&&(N[0]||N[1]))&&(a+=S^b>=0?1:-1)}if(!d++)break;h=y,g=m,v=M,s=n}}return(u<-1e-6||u<1e-6&&t2<-1e-6)^1&a}(l,v);g.length?(m||(a.polygonStart(),m=!0),es(g,ey,t,r,a)):t&&(m||(a.polygonStart(),m=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),m&&(a.polygonEnd(),m=!1),g=v=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function f(n,e){var r=u(n,e);t(n=r[0],e=r[1])&&a.point(n,e)}function s(n,t){var e=u(n,t);o.point(e[0],e[1])}function h(){c.point=s,o.lineStart()}function p(){c.point=f,o.lineEnd()}var g,v,d,y=ed(),x=e(y),m=!1;function M(n,t){d.push([n,t]);var e=u(n,t);x.point(e[0],e[1])}function b(){x.lineStart(),d=[]}function _(){M(d[0][0],d[0][1]),x.lineEnd();var n,t=x.clean(),e=y.buffer(),r=e.length;if(d.pop(),v.push(d),d=null,r){if(1&t){var i,r=(n=e[0]).length-1,u=-1;if(r>0){for(m||(a.polygonStart(),m=!0),a.lineStart();++u<r;)a.point((i=n[u])[0],i[1]);a.lineEnd()}return}r>1&&2&t&&e.push(e.pop().concat(e.shift())),g.push(e.filter(ev))}}return c}}function ev(n){return n.length>1}function ed(){var n,t=[];return{lineStart:function(){t.push(n=[])},point:function(t,e){n.push([t,e])},lineEnd:j,buffer:function(){var e=t;return t=[],n=null,e},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function ey(n,t){return((n=n.x)[0]<0?n[1]-nN-1e-6:nN-n[1])-((t=t.x)[0]<0?t[1]-nN-1e-6:nN-t[1])}var ex=eg(ef,function(n){var t,e=NaN,r=NaN,i=NaN;return{lineStart:function(){n.lineStart(),t=1},point:function(u,a){var o,l,c,f,s,h,p=u>0?nw:-nw,g=x(u-e);1e-6>x(g-nw)?(n.point(e,r=(r+a)/2>0?nN:-nN),n.point(i,r),n.lineEnd(),n.lineStart(),n.point(p,r),n.point(u,r),t=0):i!==p&&g>=nw&&(1e-6>x(e-i)&&(e-=1e-6*i),1e-6>x(u-p)&&(u-=1e-6*p),o=e,l=r,r=x(h=Math.sin(o-(c=u)))>1e-6?Math.atan((Math.sin(l)*(s=Math.cos(a))*Math.sin(c)-Math.sin(a)*(f=Math.cos(l))*Math.sin(o))/(f*s*h)):(l+a)/2,n.point(i,r),n.lineEnd(),n.lineStart(),n.point(p,r),t=0),n.point(e=u,r=a),i=p},lineEnd:function(){n.lineEnd(),e=r=NaN},clean:function(){return 2-t}}},function(n,t,e,r){var i;if(null==n)i=e*nN,r.point(-nw,i),r.point(0,i),r.point(nw,i),r.point(nw,0),r.point(nw,-i),r.point(0,-i),r.point(-nw,-i),r.point(-nw,0),r.point(-nw,i);else if(x(n[0]-t[0])>1e-6){var u=n[0]<t[0]?nw:-nw;i=e*u/2,r.point(-u,i),r.point(0,i),r.point(u,i)}else r.point(t[0],t[1])},[-nw,-nw/2]);function em(n,t,e,r){return function(i){var u,a=i.a,o=i.b,l=a.x,c=a.y,f=o.x,s=o.y,h=0,p=1,g=f-l,v=s-c;if(u=n-l,g||!(u>0)){if(u/=g,g<0){if(u<h)return;u<p&&(p=u)}else if(g>0){if(u>p)return;u>h&&(h=u)}if(u=e-l,g||!(u<0)){if(u/=g,g<0){if(u>p)return;u>h&&(h=u)}else if(g>0){if(u<h)return;u<p&&(p=u)}if(u=t-c,v||!(u>0)){if(u/=v,v<0){if(u<h)return;u<p&&(p=u)}else if(v>0){if(u>p)return;u>h&&(h=u)}if(u=r-c,v||!(u<0)){if(u/=v,v<0){if(u>p)return;u>h&&(h=u)}else if(v>0){if(u<h)return;u<p&&(p=u)}return h>0&&(i.a={x:l+h*g,y:c+h*v}),p<1&&(i.b={x:l+p*g,y:c+p*v}),i}}}}}}function eM(t,e,r,i){return function(l){var c,f,s,h,p,g,v,d,y,x,m,M=l,b=ed(),_=em(t,e,r,i),w={point:N,lineStart:function(){w.point=E,x&&x.push(m=[]),v=!0,g=!1,h=p=NaN},lineEnd:function(){y&&(E(c,f),s&&g&&b.rejoin(),y.push(b.buffer())),w.point=N,g&&l.lineEnd()},polygonStart:function(){l=b,y=[],x=[],d=!0},polygonEnd:function(){l=M,y=n.merge(y);var e=function(n){for(var t=0,e=x.length,r=n[1],i=0;i<e;++i)for(var u,a=1,o=x[i],l=o.length,c=o[0];a<l;++a)u=o[a],c[1]<=r?u[1]>r&&nC(c,u,n)>0&&++t:u[1]<=r&&0>nC(c,u,n)&&--t,c=u;return 0!==t}([t,i]),r=d&&e,u=y.length;(r||u)&&(l.polygonStart(),r&&(l.lineStart(),S(null,null,1,l),l.lineEnd()),u&&es(y,a,e,S,l),l.polygonEnd()),y=x=m=null}};function S(n,a,l,c){var f=0,s=0;if(null==n||(f=u(n,l))!==(s=u(a,l))||0>o(n,a)^l>0)do c.point(0===f||3===f?t:r,f>1?i:e);while((f=(f+l+4)%4)!==s)else c.point(a[0],a[1])}function k(n,u){return t<=n&&n<=r&&e<=u&&u<=i}function N(n,t){k(n,t)&&l.point(n,t)}function E(n,t){var e=k(n=Math.max(-1e9,Math.min(1e9,n)),t=Math.max(-1e9,Math.min(1e9,t)));if(x&&m.push([n,t]),v)c=n,f=t,s=e,v=!1,e&&(l.lineStart(),l.point(n,t));else if(e&&g)l.point(n,t);else{var r={a:{x:h,y:p},b:{x:n,y:t}};_(r)?(g||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),e||l.lineEnd(),d=!1):e&&(l.lineStart(),l.point(n,t),d=!1)}h=n,p=t,g=e}return w};function u(n,i){return 1e-6>x(n[0]-t)?i>0?0:3:1e-6>x(n[0]-r)?i>0?2:1:1e-6>x(n[1]-e)?i>0?1:0:i>0?3:2}function a(n,t){return o(n.x,t.x)}function o(n,t){var e=u(n,1),r=u(t,1);return e!==r?e-r:0===e?t[1]-n[1]:1===e?n[0]-t[0]:2===e?n[1]-t[1]:t[0]-n[0]}}function eb(n){var t=0,e=nw/3,r=eG(n),i=r(t,e);return i.parallels=function(n){return arguments.length?r(t=n[0]*nw/180,e=n[1]*nw/180):[t/nw*180,e/nw*180]},i}function e_(n,t){var e=Math.sin(n),r=(e+Math.sin(t))/2,i=1+e*(2*r-e),u=Math.sqrt(i)/r;function a(n,t){var e=Math.sqrt(i-2*r*Math.sin(t))/r;return[e*Math.sin(n*=r),u-e*Math.cos(n)]}return a.invert=function(n,t){var e=u-t;return[Math.atan2(n,e)/r,nj((i-(n*n+e*e)*r*r)/(2*r))]},a}n.geo.clipExtent=function(){var n,t,e,r,i,u,a={stream:function(n){return i&&(i.valid=!1),(i=u(n)).valid=!0,i},extent:function(o){return arguments.length?(u=eM(n=+o[0][0],t=+o[0][1],e=+o[1][0],r=+o[1][1]),i&&(i.valid=!1,i=null),a):[[n,t],[e,r]]}};return a.extent([[0,0],[960,500]])},(n.geo.conicEqualArea=function(){return eb(e_)}).raw=e_,n.geo.albers=function(){return n.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},n.geo.albersUsa=function(){var t,e,r,i,u=n.geo.albers(),a=n.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o=n.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(n,e){t=[n,e]}};function c(n){var u=n[0],a=n[1];return t=null,e(u,a),t||(r(u,a),t)||i(u,a),t}return c.invert=function(n){var t=u.scale(),e=u.translate(),r=(n[0]-e[0])/t,i=(n[1]-e[1])/t;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?o:u).invert(n)},c.stream=function(n){var t=u.stream(n),e=a.stream(n),r=o.stream(n);return{point:function(n,i){t.point(n,i),e.point(n,i),r.point(n,i)},sphere:function(){t.sphere(),e.sphere(),r.sphere()},lineStart:function(){t.lineStart(),e.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),e.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),e.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),e.polygonEnd(),r.polygonEnd()}}},c.precision=function(n){return arguments.length?(u.precision(n),a.precision(n),o.precision(n),c):u.precision()},c.scale=function(n){return arguments.length?(u.scale(n),a.scale(.35*n),o.scale(n),c.translate(u.translate())):u.scale()},c.translate=function(n){if(!arguments.length)return u.translate();var t=u.scale(),f=+n[0],s=+n[1];return e=u.translate(n).clipExtent([[f-.455*t,s-.238*t],[f+.455*t,s+.238*t]]).stream(l).point,r=a.translate([f-.307*t,s+.201*t]).clipExtent([[f-.425*t+1e-6,s+.12*t+1e-6],[f-.214*t-1e-6,s+.234*t-1e-6]]).stream(l).point,i=o.translate([f-.205*t,s+.212*t]).clipExtent([[f-.214*t+1e-6,s+.166*t+1e-6],[f-.115*t-1e-6,s+.234*t-1e-6]]).stream(l).point,c},c.scale(1070)};var ew,eS,ek,eN,eE,eA,ez,eC,eT,ej,eq,eR,eL,eP={point:j,lineStart:j,lineEnd:j,polygonStart:function(){eL=0,eP.lineStart=eD},polygonEnd:function(){eP.lineStart=eP.lineEnd=eP.point=j,eR+=x(eL/2)}};function eD(){var n,t,e,r;function i(n,t){eL+=r*n-e*t,e=n,r=t}eP.point=function(u,a){eP.point=i,n=e=u,t=r=a},eP.lineEnd=function(){i(n,t)}}var eO={point:function(n,t){n<rb&&(rb=n),n>rw&&(rw=n),t<r_&&(r_=t),t>rS&&(rS=t)},lineStart:j,lineEnd:j,polygonStart:j,polygonEnd:j};function eI(){var n=eF(4.5),t=[],e={point:r,lineStart:function(){e.point=i},lineEnd:a,polygonStart:function(){e.lineEnd=o},polygonEnd:function(){e.lineEnd=a,e.point=r},pointRadius:function(t){return n=eF(t),e},result:function(){if(t.length){var n=t.join("");return t=[],n}}};function r(e,r){t.push("M",e,",",r,n)}function i(n,r){t.push("M",n,",",r),e.point=u}function u(n,e){t.push("L",n,",",e)}function a(){e.point=r}function o(){t.push("Z")}return e}function eF(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}var eU={point:eH,lineStart:eY,lineEnd:eV,polygonStart:function(){eU.lineStart=e$},polygonEnd:function(){eU.point=eH,eU.lineStart=eY,eU.lineEnd=eV}};function eH(n,t){ek+=n,eN+=t,++eE}function eY(){var n,t;function e(e,r){var i=e-n,u=r-t,a=Math.sqrt(i*i+u*u);eA+=a*(n+e)/2,ez+=a*(t+r)/2,eC+=a,eH(n=e,t=r)}eU.point=function(r,i){eU.point=e,eH(n=r,t=i)}}function eV(){eU.point=eH}function e$(){var n,t,e,r;function i(n,t){var i=n-e,u=t-r,a=Math.sqrt(i*i+u*u);eA+=a*(e+n)/2,ez+=a*(r+t)/2,eC+=a,eT+=(a=r*n-e*t)*(e+n),ej+=a*(r+t),eq+=3*a,eH(e=n,r=t)}eU.point=function(u,a){eU.point=i,eH(n=e=u,t=r=a)},eU.lineEnd=function(){i(n,t)}}function eB(n){var t=4.5,e={point:r,lineStart:function(){e.point=i},lineEnd:a,polygonStart:function(){e.lineEnd=o},polygonEnd:function(){e.lineEnd=a,e.point=r},pointRadius:function(n){return t=n,e},result:j};function r(e,r){n.moveTo(e+t,r),n.arc(e,r,t,0,nS)}function i(t,r){n.moveTo(t,r),e.point=u}function u(t,e){n.lineTo(t,e)}function a(){e.point=r}function o(){n.closePath()}return e}function eZ(n){var t=.5,e=Math.cos(30*nE),r=16;function i(t){return(r?function(t){var e,i,a,o,l,c,f,s,h,p,g,v,d={point:y,lineStart:x,lineEnd:M,polygonStart:function(){t.polygonStart(),d.lineStart=b},polygonEnd:function(){t.polygonEnd(),d.lineStart=x}};function y(e,r){e=n(e,r),t.point(e[0],e[1])}function x(){s=NaN,d.point=m,t.lineStart()}function m(e,i){var a=t3([e,i]),o=n(e,i);u(s,h,f,p,g,v,s=o[0],h=o[1],f=e,p=a[0],g=a[1],v=a[2],r,t),t.point(s,h)}function M(){d.point=y,t.lineEnd()}function b(){x(),d.point=_,d.lineEnd=w}function _(n,t){m(e=n,t),i=s,a=h,o=p,l=g,c=v,d.point=m}function w(){u(s,h,f,p,g,v,i,a,e,o,l,c,r,t),d.lineEnd=M,M()}return d}:function(t){return eW(t,function(e,r){e=n(e,r),t.point(e[0],e[1])})})(t)}function u(r,i,a,o,l,c,f,s,h,p,g,v,d,y){var m=f-r,M=s-i,b=m*m+M*M;if(b>4*t&&d--){var _=o+p,w=l+g,S=c+v,k=Math.sqrt(_*_+w*w+S*S),N=Math.asin(S/=k),E=1e-6>x(x(S)-1)||1e-6>x(a-h)?(a+h)/2:Math.atan2(w,_),A=n(E,N),z=A[0],C=A[1],T=z-r,j=C-i,q=M*T-m*j;(q*q/b>t||x((m*T+M*j)/b-.5)>.3||o*p+l*g+c*v<e)&&(u(r,i,a,o,l,c,z,C,E,_/=k,w/=k,S,d,y),y.point(z,C),u(z,C,E,_,w,S,f,s,h,p,g,v,d,y))}}return i.precision=function(n){return arguments.length?(r=(t=n*n)>0&&16,i):Math.sqrt(t)},i}function eX(n){this.stream=n}function eW(n,t){return{point:t,sphere:function(){n.sphere()},lineStart:function(){n.lineStart()},lineEnd:function(){n.lineEnd()},polygonStart:function(){n.polygonStart()},polygonEnd:function(){n.polygonEnd()}}}function eJ(n){return eG(function(){return n})()}function eG(t){var e,r,i,u,a,o,l=eZ(function(n,t){return[(n=e(n,t))[0]*c+u,a-n[1]*c]}),c=150,f=480,s=250,h=0,p=0,g=0,v=0,d=0,y=ex,m=z,M=null,b=null;function _(n){return[(n=i(n[0]*nE,n[1]*nE))[0]*c+u,a-n[1]*c]}function w(n){return(n=i.invert((n[0]-u)/c,(a-n[1])/c))&&[n[0]*nA,n[1]*nA]}function S(){i=ec(r=e1(g,v,d),e);var n=e(h,p);return u=f-n[0]*c,a=s+n[1]*c,k()}function k(){return o&&(o.valid=!1,o=null),_}return _.stream=function(n){return o&&(o.valid=!1),(o=eK(y(r,l(m(n))))).valid=!0,o},_.clipAngle=function(n){return arguments.length?(y=null==n?(M=n,ex):function(n){var t=Math.cos(n),e=t>0,r=x(t)>1e-6;return eg(i,function(n){var t,o,l,c,f;return{lineStart:function(){c=l=!1,f=1},point:function(s,h){var p,g,v=[s,h],d=i(s,h),y=e?d?0:a(s,h):d?a(s+(s<0?nw:-nw),h):0;!t&&(c=l=d)&&n.lineStart(),d!==l&&(g=u(t,v),(ee(t,g)||ee(v,g))&&(v[0]+=1e-6,v[1]+=1e-6,d=i(v[0],v[1]))),d!==l?(f=0,d?(n.lineStart(),g=u(v,t),n.point(g[0],g[1])):(g=u(t,v),n.point(g[0],g[1]),n.lineEnd()),t=g):r&&t&&e^d&&!(y&o)&&(p=u(v,t,!0))&&(f=0,e?(n.lineStart(),n.point(p[0][0],p[0][1]),n.point(p[1][0],p[1][1]),n.lineEnd()):(n.point(p[1][0],p[1][1]),n.lineEnd(),n.lineStart(),n.point(p[0][0],p[0][1]))),!d||t&&ee(t,v)||n.point(v[0],v[1]),t=v,l=d,o=y},lineEnd:function(){l&&n.lineEnd(),t=null},clean:function(){return f|(c&&l)<<1}}},e3(n,6*nE),e?[0,-n]:[-nw,n-nw]);function i(n,e){return Math.cos(n)*Math.cos(e)>t}function u(n,e,r){var i=t3(n),u=t3(e),a=[1,0,0],o=t4(i,u),l=t9(o,o),c=o[0],f=l-c*c;if(!f)return!r&&n;var s=t4(a,o),h=t7(a,t*l/f);t8(h,t7(o,-t*c/f));var p=t9(h,s),g=t9(s,s),v=p*p-g*(t9(h,h)-1);if(!(v<0)){var d=Math.sqrt(v),y=t7(s,(-p-d)/g);if(t8(y,h),y=et(y),!r)return y;var m,M=n[0],b=e[0],_=n[1],w=e[1];b<M&&(m=M,M=b,b=m);var S=b-M,k=1e-6>x(S-nw);if(!k&&w<_&&(m=_,_=w,w=m),k||S<1e-6?k?_+w>0^y[1]<(1e-6>x(y[0]-M)?_:w):_<=y[1]&&y[1]<=w:S>nw^(M<=y[0]&&y[0]<=b)){var N=t7(s,(-p+d)/g);return t8(N,h),[y,et(N)]}}}function a(t,r){var i=e?n:nw-n,u=0;return t<-i?u|=1:t>i&&(u|=2),r<-i?u|=4:r>i&&(u|=8),u}}((M=+n)*nE),k()):M},_.clipExtent=function(n){return arguments.length?(b=n,m=n?eM(n[0][0],n[0][1],n[1][0],n[1][1]):z,k()):b},_.scale=function(n){return arguments.length?(c=+n,S()):c},_.translate=function(n){return arguments.length?(f=+n[0],s=+n[1],S()):[f,s]},_.center=function(n){return arguments.length?(h=n[0]%360*nE,p=n[1]%360*nE,S()):[h*nA,p*nA]},_.rotate=function(n){return arguments.length?(g=n[0]%360*nE,v=n[1]%360*nE,d=n.length>2?n[2]%360*nE:0,S()):[g*nA,v*nA,d*nA]},n.rebind(_,l,"precision"),function(){return e=t.apply(this,arguments),_.invert=e.invert&&w,S()}}function eK(n){return eW(n,function(t,e){n.point(t*nE,e*nE)})}function eQ(n,t){return[n,t]}function e0(n,t){return[n>nw?n-nS:n<-nw?n+nS:n,t]}function e1(n,t,e){return n?t||e?ec(e5(n),e6(t,e)):e5(n):t||e?e6(t,e):e0}function e2(n){return function(t,e){return[(t+=n)>nw?t-nS:t<-nw?t+nS:t,e]}}function e5(n){var t=e2(n);return t.invert=e2(-n),t}function e6(n,t){var e=Math.cos(n),r=Math.sin(n),i=Math.cos(t),u=Math.sin(t);function a(n,t){var a=Math.cos(t),o=Math.cos(n)*a,l=Math.sin(n)*a,c=Math.sin(t),f=c*e+o*r;return[Math.atan2(l*i-f*u,o*e-c*r),nj(f*i+l*u)]}return a.invert=function(n,t){var a=Math.cos(t),o=Math.cos(n)*a,l=Math.sin(n)*a,c=Math.sin(t),f=c*i-l*u;return[Math.atan2(l*i+c*u,o*e+f*r),nj(f*e-o*r)]},a}function e3(n,t){var e=Math.cos(n),r=Math.sin(n);return function(i,u,a,o){var l=a*t;null!=i?(i=e9(e,i),u=e9(e,u),(a>0?i<u:i>u)&&(i+=a*nS)):(i=n+a*nS,u=n-.5*l);for(var c,f=i;a>0?f>u:f<u;f-=l)o.point((c=et([e,-r*Math.cos(f),-r*Math.sin(f)]))[0],c[1])}}function e9(n,t){var e=t3(t);e[0]-=n,en(e);var r=nT(-e[1]);return((0>-e[2]?-r:r)+2*Math.PI-1e-6)%(2*Math.PI)}function e4(t,e,r){var i=n.range(t,e-1e-6,r).concat(e);return function(n){return i.map(function(t){return[n,t]})}}function e8(t,e,r){var i=n.range(t,e-1e-6,r).concat(e);return function(n){return i.map(function(t){return[t,n]})}}function e7(n){return n.source}function rn(n){return n.target}n.geo.path=function(){var t,e,r,i,u,a=4.5;function o(t){return t&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),u&&u.valid||(u=r(i)),n.geo.stream(t,u)),i.result()}return o.area=function(t){return eR=0,n.geo.stream(t,r(eP)),eR},o.centroid=function(t){return ek=eN=eE=eA=ez=eC=eT=ej=eq=0,n.geo.stream(t,r(eU)),eq?[eT/eq,ej/eq]:eC?[eA/eC,ez/eC]:eE?[ek/eE,eN/eE]:[NaN,NaN]},o.bounds=function(t){return rw=rS=-(rb=r_=1/0),n.geo.stream(t,r(eO)),[[rb,r_],[rw,rS]]},o.projection=function(n){var e;return arguments.length?(r=(t=n)?n.stream||(e=eZ(function(t,e){return n([t*nA,e*nA])}),function(n){return eK(e(n))}):z,u=null,o):t},o.context=function(n){return arguments.length?(i=null==(e=n)?new eI:new eB(n),"function"!=typeof a&&i.pointRadius(a),u=null,o):e},o.pointRadius=function(n){return arguments.length?(a="function"==typeof n?n:(i.pointRadius(+n),+n),o):a},o.projection(n.geo.albersUsa()).context(null)},n.geo.transform=function(n){return{stream:function(t){var e=new eX(t);for(var r in n)e[r]=n[r];return e}}},eX.prototype={point:function(n,t){this.stream.point(n,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},n.geo.projection=eJ,n.geo.projectionMutator=eG,(n.geo.equirectangular=function(){return eJ(eQ)}).raw=eQ.invert=eQ,n.geo.rotation=function(n){function t(t){return t=n(t[0]*nE,t[1]*nE),t[0]*=nA,t[1]*=nA,t}return n=e1(n[0]%360*nE,n[1]*nE,n.length>2?n[2]*nE:0),t.invert=function(t){return t=n.invert(t[0]*nE,t[1]*nE),t[0]*=nA,t[1]*=nA,t},t},e0.invert=eQ,n.geo.circle=function(){var n,t,e=[0,0],r=6;function i(){var n="function"==typeof e?e.apply(this,arguments):e,r=e1(-n[0]*nE,-n[1]*nE,0).invert,i=[];return t(null,null,1,{point:function(n,t){i.push(n=r(n,t)),n[0]*=nA,n[1]*=nA}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(n){return arguments.length?(e=n,i):e},i.angle=function(e){return arguments.length?(t=e3((n=+e)*nE,r*nE),i):n},i.precision=function(e){return arguments.length?(t=e3(n*nE,(r=+e)*nE),i):r},i.angle(90)},n.geo.distance=function(n,t){var e,r=(t[0]-n[0])*nE,i=n[1]*nE,u=t[1]*nE,a=Math.sin(r),o=Math.cos(r),l=Math.sin(i),c=Math.cos(i),f=Math.sin(u),s=Math.cos(u);return Math.atan2(Math.sqrt((e=s*a)*e+(e=c*f-l*s*o)*e),l*f+c*s*o)},n.geo.graticule=function(){var t,e,r,i,u,a,o,l,c,f,s,h,p=10,g=10,v=90,d=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:M()}}function M(){return n.range(Math.ceil(i/v)*v,r,v).map(s).concat(n.range(Math.ceil(l/d)*d,o,d).map(h)).concat(n.range(Math.ceil(e/p)*p,t,p).filter(function(n){return x(n%v)>1e-6}).map(c)).concat(n.range(Math.ceil(a/g)*g,u,g).filter(function(n){return x(n%d)>1e-6}).map(f))}return m.lines=function(){return M().map(function(n){return{type:"LineString",coordinates:n}})},m.outline=function(){return{type:"Polygon",coordinates:[s(i).concat(h(o).slice(1),s(r).reverse().slice(1),h(l).reverse().slice(1))]}},m.extent=function(n){return arguments.length?m.majorExtent(n).minorExtent(n):m.minorExtent()},m.majorExtent=function(n){return arguments.length?(i=+n[0][0],r=+n[1][0],l=+n[0][1],o=+n[1][1],i>r&&(n=i,i=r,r=n),l>o&&(n=l,l=o,o=n),m.precision(y)):[[i,l],[r,o]]},m.minorExtent=function(n){return arguments.length?(e=+n[0][0],t=+n[1][0],a=+n[0][1],u=+n[1][1],e>t&&(n=e,e=t,t=n),a>u&&(n=a,a=u,u=n),m.precision(y)):[[e,a],[t,u]]},m.step=function(n){return arguments.length?m.majorStep(n).minorStep(n):m.minorStep()},m.majorStep=function(n){return arguments.length?(v=+n[0],d=+n[1],m):[v,d]},m.minorStep=function(n){return arguments.length?(p=+n[0],g=+n[1],m):[p,g]},m.precision=function(n){return arguments.length?(y=+n,c=e4(a,u,90),f=e8(e,t,y),s=e4(l,o,90),h=e8(i,r,y),m):y},m.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,-80.000001],[180,80.000001]])},n.geo.greatArc=function(){var t,e,r=e7,i=rn;function u(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),e||i.apply(this,arguments)]}}return u.distance=function(){return n.geo.distance(t||r.apply(this,arguments),e||i.apply(this,arguments))},u.source=function(n){return arguments.length?(r=n,t="function"==typeof n?null:n,u):r},u.target=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,u):i},u.precision=function(){return arguments.length?u:0},u},n.geo.interpolate=function(n,t){var e,r,i,u,a,o,l,c,f,s,h,p,g,v,d;return e=n[0]*nE,r=n[1]*nE,i=t[0]*nE,u=t[1]*nE,a=Math.cos(r),o=Math.sin(r),l=Math.cos(u),c=Math.sin(u),f=a*Math.cos(e),s=a*Math.sin(e),h=l*Math.cos(i),p=l*Math.sin(i),v=1/Math.sin(g=2*Math.asin(Math.sqrt(nR(u-r)+a*l*nR(i-e)))),(d=g?function(n){var t=Math.sin(n*=g)*v,e=Math.sin(g-n)*v,r=e*f+t*h,i=e*s+t*p;return[Math.atan2(i,r)*nA,Math.atan2(e*o+t*c,Math.sqrt(r*r+i*i))*nA]}:function(){return[e*nA,r*nA]}).distance=g,d},n.geo.length=function(t){return rk=0,n.geo.stream(t,rt),rk};var rt={sphere:j,point:j,lineStart:function(){var n,t,e;function r(r,i){var u=Math.sin(i*=nE),a=Math.cos(i),o=x((r*=nE)-n),l=Math.cos(o);rk+=Math.atan2(Math.sqrt((o=a*Math.sin(o))*o+(o=e*u-t*a*l)*o),t*u+e*a*l),n=r,t=u,e=a}rt.point=function(i,u){n=i*nE,t=Math.sin(u*=nE),e=Math.cos(u),rt.point=r},rt.lineEnd=function(){rt.point=rt.lineEnd=j}},lineEnd:j,polygonStart:j,polygonEnd:j};function re(n,t){function e(t,e){var r=Math.cos(e),i=n(Math.cos(t)*r);return[i*r*Math.sin(t),i*Math.sin(e)]}return e.invert=function(n,e){var r=Math.sqrt(n*n+e*e),i=t(r),u=Math.sin(i);return[Math.atan2(n*u,r*Math.cos(i)),Math.asin(r&&e*u/r)]},e}var rr=re(function(n){return Math.sqrt(2/(1+n))},function(n){return 2*Math.asin(n/2)});(n.geo.azimuthalEqualArea=function(){return eJ(rr)}).raw=rr;var ri=re(function(n){var t=Math.acos(n);return t&&t/Math.sin(t)},z);function ru(n,t){var e=Math.cos(n),r=function(n){return Math.tan(nw/4+n/2)},i=n===t?Math.sin(n):Math.log(e/Math.cos(t))/Math.log(r(t)/r(n)),u=e*Math.pow(r(n),i)/i;if(!i)return rl;function a(n,t){u>0?t<-nN+1e-6&&(t=-nN+1e-6):t>nN-1e-6&&(t=nN-1e-6);var e=u/Math.pow(r(t),i);return[e*Math.sin(i*n),u-e*Math.cos(i*n)]}return a.invert=function(n,t){var e=u-t,r=nz(i)*Math.sqrt(n*n+e*e);return[Math.atan2(n,e)/i,2*Math.atan(Math.pow(u/r,1/i))-nN]},a}function ra(n,t){var e=Math.cos(n),r=n===t?Math.sin(n):(e-Math.cos(t))/(t-n),i=e/r+n;if(1e-6>x(r))return eQ;function u(n,t){var e=i-t;return[e*Math.sin(r*n),i-e*Math.cos(r*n)]}return u.invert=function(n,t){var e=i-t;return[Math.atan2(n,e)/r,i-nz(r)*Math.sqrt(n*n+e*e)]},u}(n.geo.azimuthalEquidistant=function(){return eJ(ri)}).raw=ri,(n.geo.conicConformal=function(){return eb(ru)}).raw=ru,(n.geo.conicEquidistant=function(){return eb(ra)}).raw=ra;var ro=re(function(n){return 1/n},Math.atan);function rl(n,t){return[n,Math.log(Math.tan(nw/4+t/2))]}function rc(n){var t,e=eJ(n),r=e.scale,i=e.translate,u=e.clipExtent;return e.scale=function(){var n=r.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.translate=function(){var n=i.apply(e,arguments);return n===e?t?e.clipExtent(null):e:n},e.clipExtent=function(n){var a=u.apply(e,arguments);if(a===e){if(t=null==n){var o=nw*r(),l=i();u([[l[0]-o,l[1]-o],[l[0]+o,l[1]+o]])}}else t&&(a=null);return a},e.clipExtent(null)}(n.geo.gnomonic=function(){return eJ(ro)}).raw=ro,rl.invert=function(n,t){return[n,2*Math.atan(Math.exp(t))-nN]},(n.geo.mercator=function(){return rc(rl)}).raw=rl;var rf=re(function(){return 1},Math.asin);(n.geo.orthographic=function(){return eJ(rf)}).raw=rf;var rs=re(function(n){return 1/(1+n)},function(n){return 2*Math.atan(n)});function rh(n,t){return[Math.log(Math.tan(nw/4+t/2)),-n]}function rp(n){return n[0]}function rg(n){return n[1]}function rv(n){for(var t=n.length,e=[0,1],r=2,i=2;i<t;i++){for(;r>1&&0>=nC(n[e[r-2]],n[e[r-1]],n[i]);)--r;e[r++]=i}return e.slice(0,r)}function rd(n,t){return n[0]-t[0]||n[1]-t[1]}(n.geo.stereographic=function(){return eJ(rs)}).raw=rs,rh.invert=function(n,t){return[-t,2*Math.atan(Math.exp(n))-nN]},(n.geo.transverseMercator=function(){var n=rc(rh),t=n.center,e=n.rotate;return n.center=function(n){return n?t([-n[1],n[0]]):[(n=t())[1],-n[0]]},n.rotate=function(n){return n?e([n[0],n[1],n.length>2?n[2]+90:90]):[(n=e())[0],n[1],n[2]-90]},e([0,0,90])}).raw=rh,n.geom={},n.geom.hull=function(n){var t=rp,e=rg;if(arguments.length)return r(n);function r(n){if(n.length<3)return[];var r,i=tt(t),u=tt(e),a=n.length,o=[],l=[];for(r=0;r<a;r++)o.push([+i.call(this,n[r],r),+u.call(this,n[r],r),r]);for(o.sort(rd),r=0;r<a;r++)l.push([o[r][0],-o[r][1]]);var c=rv(o),f=rv(l),s=f[0]===c[0],h=f[f.length-1]===c[c.length-1],p=[];for(r=c.length-1;r>=0;--r)p.push(n[o[c[r]][2]]);for(r=+s;r<f.length-h;++r)p.push(n[o[f[r]][2]]);return p}return r.x=function(n){return arguments.length?(t=n,r):t},r.y=function(n){return arguments.length?(e=n,r):e},r},n.geom.polygon=function(n){return I(n,ry),n};var ry=n.geom.polygon.prototype=[];function rx(n,t,e){return(e[0]-t[0])*(n[1]-t[1])<(e[1]-t[1])*(n[0]-t[0])}function rm(n,t,e,r){var i=n[0],u=e[0],a=t[0]-i,o=r[0]-u,l=n[1],c=e[1],f=t[1]-l,s=r[1]-c,h=(o*(l-c)-s*(i-u))/(s*a-o*f);return[i+h*a,l+h*f]}function rM(n){var t=n[0],e=n[n.length-1];return!(t[0]-e[0]||t[1]-e[1])}ry.area=function(){for(var n,t=-1,e=this.length,r=this[e-1],i=0;++t<e;)n=r,r=this[t],i+=n[1]*r[0]-n[0]*r[1];return .5*i},ry.centroid=function(n){var t,e,r=-1,i=this.length,u=0,a=0,o=this[i-1];for(arguments.length||(n=-1/(6*this.area()));++r<i;)t=o,o=this[r],e=t[0]*o[1]-o[0]*t[1],u+=(t[0]+o[0])*e,a+=(t[1]+o[1])*e;return[u*n,a*n]},ry.clip=function(n){for(var t,e,r,i,u,a,o=rM(n),l=-1,c=this.length-rM(this),f=this[c-1];++l<c;){for(t=n.slice(),n.length=0,i=this[l],u=t[(r=t.length-o)-1],e=-1;++e<r;)rx(a=t[e],f,i)?(rx(u,f,i)||n.push(rm(u,a,f,i)),n.push(a)):rx(u,f,i)&&n.push(rm(u,a,f,i)),u=a;o&&n.push(n[0]),f=i}return n};var rb,r_,rw,rS,rk,rN,rE,rA,rz,rC,rT=[],rj=[];function rq(){rZ(this),this.edge=this.site=this.circle=null}function rR(n){var t=rT.pop()||new rq;return t.site=n,t}function rL(n){rU(n),rA.remove(n),rT.push(n),rZ(n)}function rP(n,t){var e=n.site,r=e.x,i=e.y,u=i-t;if(!u)return r;var a=n.P;if(!a)return-1/0;var o=(e=a.site).x,l=e.y,c=l-t;if(!c)return o;var f=o-r,s=1/u-1/c,h=f/c;return s?(-h+Math.sqrt(h*h-2*s*(f*f/(-2*c)-l+c/2+i-u/2)))/s+r:(r+o)/2}function rD(n){this.site=n,this.edges=[]}function rO(n,t){return t.angle-n.angle}function rI(){rZ(this),this.x=this.y=this.arc=this.site=this.cy=null}function rF(n){var t=n.P,e=n.N;if(t&&e){var r=t.site,i=n.site,u=e.site;if(r!==u){var a=i.x,o=i.y,l=r.x-a,c=r.y-o,f=u.x-a,s=u.y-o,h=2*(l*s-c*f);if(!(h>=-n_)){var p=l*l+c*c,g=f*f+s*s,v=(s*p-c*g)/h,d=(l*g-f*p)/h,s=d+o,y=rj.pop()||new rI;y.arc=n,y.site=i,y.x=v+a,y.y=s+Math.sqrt(v*v+d*d),y.cy=s,n.circle=y;for(var x=null,m=rC._;m;)if(y.y<m.y||y.y===m.y&&y.x<=m.x){if(m.L)m=m.L;else{x=m.P;break}}else if(m.R)m=m.R;else{x=m;break}rC.insert(x,y),x||(rz=y)}}}}function rU(n){var t=n.circle;t&&(t.P||(rz=t.N),rC.remove(t),rj.push(t),rZ(t),n.circle=null)}function rH(n,t){this.l=n,this.r=t,this.a=this.b=null}function rY(n,t,e,r){var i=new rH(n,t);return rN.push(i),e&&rV(i,n,t,e),r&&rV(i,t,n,r),rE[n.i].edges.push(new r$(i,n,t)),rE[t.i].edges.push(new r$(i,t,n)),i}function rV(n,t,e,r){n.a||n.b?n.l===e?n.b=r:n.a=r:(n.a=r,n.l=t,n.r=e)}function r$(n,t,e){var r=n.a,i=n.b;this.edge=n,this.site=t,this.angle=e?Math.atan2(e.y-t.y,e.x-t.x):n.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function rB(){this._=null}function rZ(n){n.U=n.C=n.L=n.R=n.P=n.N=null}function rX(n,t){var e=t.R,r=t.U;r?r.L===t?r.L=e:r.R=e:n._=e,e.U=r,t.U=e,t.R=e.L,t.R&&(t.R.U=t),e.L=t}function rW(n,t){var e=t.L,r=t.U;r?r.L===t?r.L=e:r.R=e:n._=e,e.U=r,t.U=e,t.L=e.R,t.L&&(t.L.U=t),e.R=t}function rJ(n){for(;n.L;)n=n.L;return n}function rG(n,t){var e,r,i,u=n.sort(rK).pop();for(rN=[],rE=Array(n.length),rA=new rB,rC=new rB;;)if(i=rz,u&&(!i||u.y<i.y||u.y===i.y&&u.x<i.x))(u.x!==e||u.y!==r)&&(rE[u.i]=new rD(u),function(n){for(var t,e,r,i,u=n.x,a=n.y,o=rA._;o;)if((r=rP(o,a)-u)>1e-6)o=o.L;else if((i=u-function(n,t){var e=n.N;if(e)return rP(e,t);var r=n.site;return r.y===t?r.x:1/0}(o,a))>1e-6){if(!o.R){t=o;break}o=o.R}else{r>-1e-6?(t=o.P,e=o):i>-1e-6?(t=o,e=o.N):t=e=o;break}var l=rR(n);if(rA.insert(t,l),t||e){if(t===e){rU(t),e=rR(t.site),rA.insert(l,e),l.edge=e.edge=rY(t.site,l.site),rF(t),rF(e);return}if(!e){l.edge=rY(t.site,l.site);return}rU(t),rU(e);var c=t.site,f=c.x,s=c.y,h=n.x-f,p=n.y-s,g=e.site,v=g.x-f,d=g.y-s,y=2*(h*d-p*v),x=h*h+p*p,m=v*v+d*d,M={x:(d*x-p*m)/y+f,y:(h*m-v*x)/y+s};rV(e.edge,c,g,M),l.edge=rY(c,n,null,M),e.edge=rY(n,g,null,M),rF(t),rF(e)}}(u),e=u.x,r=u.y),u=n.pop();else if(i)!function(n){var t=n.circle,e=t.x,r=t.cy,i={x:e,y:r},u=n.P,a=n.N,o=[n];rL(n);for(var l=u;l.circle&&1e-6>x(e-l.circle.x)&&1e-6>x(r-l.circle.cy);)u=l.P,o.unshift(l),rL(l),l=u;o.unshift(l),rU(l);for(var c=a;c.circle&&1e-6>x(e-c.circle.x)&&1e-6>x(r-c.circle.cy);)a=c.N,o.push(c),rL(c),c=a;o.push(c),rU(c);var f,s=o.length;for(f=1;f<s;++f)c=o[f],l=o[f-1],rV(c.edge,l.site,c.site,i);l=o[0],(c=o[s-1]).edge=rY(l.site,c.site,null,i),rF(l),rF(c)}(i.arc);else break;t&&(function(n){for(var t,e=rN,r=em(n[0][0],n[0][1],n[1][0],n[1][1]),i=e.length;i--;)(!function(n,t){var e=n.b;if(e)return!0;var r,i,u=n.a,a=t[0][0],o=t[1][0],l=t[0][1],c=t[1][1],f=n.l,s=n.r,h=f.x,p=f.y,g=s.x,v=s.y,d=(h+g)/2;if(v===p){if(d<a||d>=o)return;if(h>g){if(u){if(u.y>=c)return}else u={x:d,y:l};e={x:d,y:c}}else{if(u){if(u.y<l)return}else u={x:d,y:c};e={x:d,y:l}}}else if(r=(h-g)/(v-p),i=(p+v)/2-r*d,r<-1||r>1){if(h>g){if(u){if(u.y>=c)return}else u={x:(l-i)/r,y:l};e={x:(c-i)/r,y:c}}else{if(u){if(u.y<l)return}else u={x:(c-i)/r,y:c};e={x:(l-i)/r,y:l}}}else if(p<v){if(u){if(u.x>=o)return}else u={x:a,y:r*a+i};e={x:o,y:r*o+i}}else{if(u){if(u.x<a)return}else u={x:o,y:r*o+i};e={x:a,y:r*a+i}}return n.a=u,n.b=e,!0}(t=e[i],n)||!r(t)||1e-6>x(t.a.x-t.b.x)&&1e-6>x(t.a.y-t.b.y))&&(t.a=t.b=null,e.splice(i,1))}(t),function(n){for(var t,e,r,i,u,a,o,l,c,f,s=n[0][0],h=n[1][0],p=n[0][1],g=n[1][1],v=rE,d=v.length;d--;)if((u=v[d])&&u.prepare())for(l=(o=u.edges).length,a=0;a<l;)r=(f=o[a].end()).x,i=f.y,t=(c=o[++a%l].start()).x,e=c.y,(x(r-t)>1e-6||x(i-e)>1e-6)&&(o.splice(a,0,new r$(function(n,t,e){var r=new rH(n,null);return r.a=t,r.b=e,rN.push(r),r}(u.site,f,1e-6>x(r-s)&&g-i>1e-6?{x:s,y:1e-6>x(t-s)?e:g}:1e-6>x(i-g)&&h-r>1e-6?{x:1e-6>x(e-g)?t:h,y:g}:1e-6>x(r-h)&&i-p>1e-6?{x:h,y:1e-6>x(t-h)?e:p}:1e-6>x(i-p)&&r-s>1e-6?{x:1e-6>x(e-p)?t:s,y:p}:null),u.site,null)),++l)}(t));var a={cells:rE,edges:rN};return rA=rC=rN=rE=null,a}function rK(n,t){return t.y-n.y||t.x-n.x}rD.prototype.prepare=function(){for(var n,t=this.edges,e=t.length;e--;)(n=t[e].edge).b&&n.a||t.splice(e,1);return t.sort(rO),t.length},r$.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},rB.prototype={insert:function(n,t){var e,r,i;if(n){if(t.P=n,t.N=n.N,n.N&&(n.N.P=t),n.N=t,n.R){for(n=n.R;n.L;)n=n.L;n.L=t}else n.R=t;e=n}else this._?(n=rJ(this._),t.P=null,t.N=n,n.P=n.L=t,e=n):(t.P=t.N=null,this._=t,e=null);for(t.L=t.R=null,t.U=e,t.C=!0,n=t;e&&e.C;)r=e.U,e===r.L?(i=r.R)&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.R&&(rX(this,e),e=(n=e).U),e.C=!1,r.C=!0,rW(this,r)):(i=r.L)&&i.C?(e.C=i.C=!1,r.C=!0,n=r):(n===e.L&&(rW(this,e),e=(n=e).U),e.C=!1,r.C=!0,rX(this,r)),e=n.U;this._.C=!1},remove:function(n){n.N&&(n.N.P=n.P),n.P&&(n.P.N=n.N),n.N=n.P=null;var t,e,r,i=n.U,u=n.L,a=n.R;if(e=u?a?rJ(a):u:a,i?i.L===n?i.L=e:i.R=e:this._=e,u&&a?(r=e.C,e.C=n.C,e.L=u,u.U=e,e!==a?(i=e.U,e.U=n.U,n=e.R,i.L=n,e.R=a,a.U=e):(e.U=i,i=e,n=e.R)):(r=n.C,n=e),n&&(n.U=i),!r){if(n&&n.C){n.C=!1;return}do{if(n===this._)break;if(n===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,rX(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,rW(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,rX(this,i),n=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,rW(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,rX(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,rW(this,i),n=this._;break}t.C=!0,n=i,i=i.U}while(!n.C)n&&(n.C=!1)}}},n.geom.voronoi=function(n){var t=rp,e=rg,r=t,i=e,u=rQ;if(n)return a(n);function a(n){var t=Array(n.length),e=u[0][0],r=u[0][1],i=u[1][0],a=u[1][1];return rG(o(n),u).cells.forEach(function(u,o){var l=u.edges,c=u.site;(t[o]=l.length?l.map(function(n){var t=n.start();return[t.x,t.y]}):c.x>=e&&c.x<=i&&c.y>=r&&c.y<=a?[[e,a],[i,a],[i,r],[e,r]]:[]).point=n[o]}),t}function o(n){return n.map(function(n,t){return{x:1e-6*Math.round(r(n,t)/1e-6),y:1e-6*Math.round(i(n,t)/1e-6),i:t}})}return a.links=function(n){return rG(o(n)).edges.filter(function(n){return n.l&&n.r}).map(function(t){return{source:n[t.l.i],target:n[t.r.i]}})},a.triangles=function(n){var t=[];return rG(o(n)).cells.forEach(function(e,r){for(var i,u,a=e.site,o=e.edges.sort(rO),l=-1,c=o.length,f=o[c-1].edge,s=f.l===a?f.r:f.l;++l<c;)u=s,s=(f=o[l].edge).l===a?f.r:f.l,r<u.i&&r<s.i&&0>(i=s,(a.x-i.x)*(u.y-a.y)-(a.x-u.x)*(i.y-a.y))&&t.push([n[r],n[u.i],n[s.i]])}),t},a.x=function(n){return arguments.length?(r=tt(t=n),a):t},a.y=function(n){return arguments.length?(i=tt(e=n),a):e},a.clipExtent=function(n){return arguments.length?(u=null==n?rQ:n,a):u===rQ?null:u},a.size=function(n){return arguments.length?a.clipExtent(n&&[[0,0],n]):u===rQ?null:u&&u[1]},a};var rQ=[[-1e6,-1e6],[1e6,1e6]];function r0(n){return n.x}function r1(n){return n.y}function r2(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function r5(t,e){t=n.rgb(t),e=n.rgb(e);var r=t.r,i=t.g,u=t.b,a=e.r-r,o=e.g-i,l=e.b-u;return function(n){return"#"+n6(Math.round(r+a*n))+n6(Math.round(i+o*n))+n6(Math.round(u+l*n))}}function r6(n,t){var e,r={},i={};for(e in n)e in t?r[e]=r7(n[e],t[e]):i[e]=n[e];for(e in t)e in n||(i[e]=t[e]);return function(n){for(e in r)i[e]=r[e](n);return i}}function r3(n,t){return n=+n,t=+t,function(e){return n*(1-e)+t*e}}function r9(n,t){var e,r,i,u=r4.lastIndex=r8.lastIndex=0,a=-1,o=[],l=[];for(n+="",t+="";(e=r4.exec(n))&&(r=r8.exec(t));)(i=r.index)>u&&(i=t.slice(u,i),o[a]?o[a]+=i:o[++a]=i),(e=e[0])===(r=r[0])?o[a]?o[a]+=r:o[++a]=r:(o[++a]=null,l.push({i:a,x:r3(e,r)})),u=r8.lastIndex;return u<t.length&&(i=t.slice(u),o[a]?o[a]+=i:o[++a]=i),o.length<2?l[0]?(t=l[0].x,function(n){return t(n)+""}):function(){return t}:(t=l.length,function(n){for(var e,r=0;r<t;++r)o[(e=l[r]).i]=e.x(n);return o.join("")})}n.geom.delaunay=function(t){return n.geom.voronoi().triangles(t)},n.geom.quadtree=function(n,t,e,r,i){var u,a=rp,o=rg;if(u=arguments.length)return a=r0,o=r1,3===u&&(i=e,r=t,e=t=0),l(n);function l(n){var l,c,f,s,h,p,g,v,d,y=tt(a),m=tt(o);if(null!=t)p=t,g=e,v=r,d=i;else if(v=d=-(p=g=1/0),c=[],f=[],h=n.length,u)for(s=0;s<h;++s)(l=n[s]).x<p&&(p=l.x),l.y<g&&(g=l.y),l.x>v&&(v=l.x),l.y>d&&(d=l.y),c.push(l.x),f.push(l.y);else for(s=0;s<h;++s){var M=+y(l=n[s],s),b=+m(l,s);M<p&&(p=M),b<g&&(g=b),M>v&&(v=M),b>d&&(d=b),c.push(M),f.push(b)}var _=v-p,w=d-g;function S(n,t,e,r,i,u,a,o){if(!(isNaN(e)||isNaN(r))){if(n.leaf){var l=n.x,c=n.y;if(null!=l){if(x(l-e)+x(c-r)<.01)k(n,t,e,r,i,u,a,o);else{var f=n.point;n.x=n.y=n.point=null,k(n,f,l,c,i,u,a,o),k(n,t,e,r,i,u,a,o)}}else n.x=e,n.y=r,n.point=t}else k(n,t,e,r,i,u,a,o)}}function k(n,t,e,r,i,u,a,o){var l=(i+a)*.5,c=(u+o)*.5,f=e>=l,s=r>=c,h=s<<1|f;n.leaf=!1,n=n.nodes[h]||(n.nodes[h]=r2()),f?i=l:a=l,s?u=c:o=c,S(n,t,e,r,i,u,a,o)}_>w?d=g+_:v=p+w;var N=r2();if(N.add=function(n){S(N,n,+y(n,++s),+m(n,s),p,g,v,d)},N.visit=function(n){(function n(t,e,r,i,u,a){if(!t(e,r,i,u,a)){var o=(r+u)*.5,l=(i+a)*.5,c=e.nodes;c[0]&&n(t,c[0],r,i,o,l),c[1]&&n(t,c[1],o,i,u,l),c[2]&&n(t,c[2],r,l,o,a),c[3]&&n(t,c[3],o,l,u,a)}})(n,N,p,g,v,d)},N.find=function(n){var t,e,r,i,u,a,o,l;return t=n[0],e=n[1],l=1/0,function n(c,f,s,h,p){if(!(f>u)&&!(s>a)&&!(h<r)&&!(p<i)){if(g=c.point){var g,v=t-c.x,d=e-c.y,y=v*v+d*d;if(y<l){var x=Math.sqrt(l=y);r=t-x,i=e-x,u=t+x,a=e+x,o=g}}for(var m=c.nodes,M=(f+h)*.5,b=(s+p)*.5,_=t>=M,w=e>=b,S=w<<1|_,k=S+4;S<k;++S)if(c=m[3&S])switch(3&S){case 0:n(c,f,s,M,b);break;case 1:n(c,M,s,h,b);break;case 2:n(c,f,b,M,p);break;case 3:n(c,M,b,h,p)}}}(N,r=p,i=g,u=v,a=d),o},s=-1,null==t){for(;++s<h;)S(N,n[s],c[s],f[s],p,g,v,d);--s}else n.forEach(N.add);return c=f=n=l=null,N}return l.x=function(n){return arguments.length?(a=n,l):a},l.y=function(n){return arguments.length?(o=n,l):o},l.extent=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=+n[0][0],e=+n[0][1],r=+n[1][0],i=+n[1][1]),l):null==t?null:[[t,e],[r,i]]},l.size=function(n){return arguments.length?(null==n?t=e=r=i=null:(t=e=0,r=+n[0],i=+n[1]),l):null==t?null:[r-t,i-e]},l},n.interpolateRgb=r5,n.interpolateObject=r6,n.interpolateNumber=r3,n.interpolateString=r9;var r4=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r8=RegExp(r4.source,"g");function r7(t,e){for(var r,i=n.interpolators.length;--i>=0&&!(r=n.interpolators[i](t,e)););return r}function it(n,t){var e,r=[],i=[],u=n.length,a=t.length,o=Math.min(n.length,t.length);for(e=0;e<o;++e)r.push(r7(n[e],t[e]));for(;e<u;++e)i[e]=n[e];for(;e<a;++e)i[e]=t[e];return function(n){for(e=0;e<o;++e)i[e]=r[e](n);return i}}n.interpolate=r7,n.interpolators=[function(n,t){var e=typeof t;return("string"===e?tn.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?r5:r9:t instanceof nI?r5:Array.isArray(t)?it:"object"===e&&isNaN(t)?r6:r3)(n,t)}],n.interpolateArray=it;var ie=function(){return z},ir=n.map({linear:ie,poly:function(n){return function(t){return Math.pow(t,n)}},quad:function(){return io},cubic:function(){return il},sin:function(){return is},exp:function(){return ih},circle:function(){return ip},elastic:function(n,t){var e;return arguments.length<2&&(t=.45),arguments.length?e=t/nS*Math.asin(1/n):(n=1,e=t/4),function(r){return 1+n*Math.pow(2,-10*r)*Math.sin((r-e)*nS/t)}},back:function(n){return n||(n=1.70158),function(t){return t*t*((n+1)*t-n)}},bounce:function(){return ig}}),ii=n.map({in:z,out:iu,"in-out":ia,"out-in":function(n){return ia(iu(n))}});function iu(n){return function(t){return 1-n(1-t)}}function ia(n){return function(t){return .5*(t<.5?n(2*t):2-n(2-2*t))}}function io(n){return n*n}function il(n){return n*n*n}function ic(n){if(n<=0)return 0;if(n>=1)return 1;var t=n*n,e=t*n;return 4*(n<.5?e:3*(n-t)+e-.75)}function is(n){return 1-Math.cos(n*nN)}function ih(n){return Math.pow(2,10*(n-1))}function ip(n){return 1-Math.sqrt(1-n*n)}function ig(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375}function iv(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function id(n){var t,e=[n.a,n.b],r=[n.c,n.d],i=ix(e),u=iy(e,r),a=ix((t=-u,r[0]+=t*e[0],r[1]+=t*e[1],r))||0;e[0]*r[1]<r[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,u*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-r[0],r[1]))*nA,this.translate=[n.e,n.f],this.scale=[i,a],this.skew=a?Math.atan2(u,a)*nA:0}function iy(n,t){return n[0]*t[0]+n[1]*t[1]}function ix(n){var t=Math.sqrt(iy(n,n));return t&&(n[0]/=t,n[1]/=t),t}n.ease=function(n){var e,r=n.indexOf("-"),i=r>=0?n.slice(0,r):n,u=r>=0?n.slice(r+1):"in";return i=ir.get(i)||ie,e=(u=ii.get(u)||z)(i.apply(null,t.call(arguments,1))),function(n){return n<=0?0:n>=1?1:e(n)}},n.interpolateHcl=function(t,e){t=n.hcl(t),e=n.hcl(e);var r=t.h,i=t.c,u=t.l,a=e.h-r,o=e.c-i,l=e.l-u;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(a)?(a=0,r=isNaN(r)?e.h:r):a>180?a-=360:a<-180&&(a+=360),function(n){return n$(r+a*n,i+o*n,u+l*n)+""}},n.interpolateHsl=function(t,e){t=n.hsl(t),e=n.hsl(e);var r=t.h,i=t.s,u=t.l,a=e.h-r,o=e.s-i,l=e.l-u;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(a)?(a=0,r=isNaN(r)?e.h:r):a>180?a-=360:a<-180&&(a+=360),function(n){return nH(r+a*n,i+o*n,u+l*n)+""}},n.interpolateLab=function(t,e){t=n.lab(t),e=n.lab(e);var r=t.l,i=t.a,u=t.b,a=e.l-r,o=e.a-i,l=e.b-u;return function(n){return nW(r+a*n,i+o*n,u+l*n)+""}},n.interpolateRound=iv,n.transform=function(t){var e=i.createElementNS(n.ns.prefix.svg,"g");return(n.transform=function(n){if(null!=n){e.setAttribute("transform",n);var t=e.transform.baseVal.consolidate()}return new id(t?t.matrix:im)})(t)},id.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var im={a:1,b:0,c:0,d:1,e:0,f:0};function iM(n){return n.length?n.pop()+",":""}function ib(t,e){var r,i,u,a,o=[],l=[];return t=n.transform(t),e=n.transform(e),!function(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push("translate(",null,",",null,")");r.push({i:i-4,x:r3(n[0],t[0])},{i:i-2,x:r3(n[1],t[1])})}else(t[0]||t[1])&&e.push("translate("+t+")")}(t.translate,e.translate,o,l),(r=t.rotate)!==(i=e.rotate)?(r-i>180?i+=360:i-r>180&&(r+=360),l.push({i:o.push(iM(o)+"rotate(",null,")")-2,x:r3(r,i)})):i&&o.push(iM(o)+"rotate("+i+")"),(u=t.skew)!==(a=e.skew)?l.push({i:o.push(iM(o)+"skewX(",null,")")-2,x:r3(u,a)}):a&&o.push(iM(o)+"skewX("+a+")"),!function(n,t,e,r){if(n[0]!==t[0]||n[1]!==t[1]){var i=e.push(iM(e)+"scale(",null,",",null,")");r.push({i:i-4,x:r3(n[0],t[0])},{i:i-2,x:r3(n[1],t[1])})}else(1!==t[0]||1!==t[1])&&e.push(iM(e)+"scale("+t+")")}(t.scale,e.scale,o,l),t=e=null,function(n){for(var t,e=-1,r=l.length;++e<r;)o[(t=l[e]).i]=t.x(n);return o.join("")}}function i_(n,t){return t=(t-=n=+n)||1/t,function(e){return(e-n)/t}}function iw(n,t){return t=(t-=n=+n)||1/t,function(e){return Math.max(0,Math.min(1,(e-n)/t))}}function iS(n){for(var t=[],e=n.parent;null!=e;)t.push(n),n=e,e=e.parent;return t.push(n),t}function ik(n){n.fixed|=2}function iN(n){n.fixed&=-7}function iE(n){n.fixed|=4,n.px=n.x,n.py=n.y}function iA(n){n.fixed&=-5}n.interpolateTransform=ib,n.layout={},n.layout.bundle=function(){return function(n){for(var t=[],e=-1,r=n.length;++e<r;)t.push(function(n){for(var t=n.source,e=n.target,r=function(n,t){if(n===t)return n;for(var e=iS(n),r=iS(t),i=e.pop(),u=r.pop(),a=null;i===u;)a=i,i=e.pop(),u=r.pop();return a}(t,e),i=[t];t!==r;)i.push(t=t.parent);for(var u=i.length;e!==r;)i.splice(u,0,e),e=e.parent;return i}(n[e]));return t}},n.layout.chord=function(){var t,e,r,i,u,a,o,l={},c=0;function f(){var l,f,h,p,g,v={},d=[],y=n.range(i),x=[];for(t=[],e=[],l=0,p=-1;++p<i;){for(f=0,g=-1;++g<i;)f+=r[p][g];d.push(f),x.push(n.range(i)),l+=f}for(u&&y.sort(function(n,t){return u(d[n],d[t])}),a&&x.forEach(function(n,t){n.sort(function(n,e){return a(r[t][n],r[t][e])})}),l=(nS-c*i)/l,f=0,p=-1;++p<i;){for(h=f,g=-1;++g<i;){var m=y[p],M=x[m][g],b=r[m][M],_=f,w=f+=b*l;v[m+"-"+M]={index:m,subindex:M,startAngle:_,endAngle:w,value:b}}e[m]={index:m,startAngle:h,endAngle:f,value:d[m]},f+=c}for(p=-1;++p<i;)for(g=p-1;++g<i;){var S=v[p+"-"+g],k=v[g+"-"+p];(S.value||k.value)&&t.push(S.value<k.value?{source:k,target:S}:{source:S,target:k})}o&&s()}function s(){t.sort(function(n,t){return o((n.source.value+n.target.value)/2,(t.source.value+t.target.value)/2)})}return l.matrix=function(n){return arguments.length?(i=(r=n)&&r.length,t=e=null,l):r},l.padding=function(n){return arguments.length?(c=n,t=e=null,l):c},l.sortGroups=function(n){return arguments.length?(u=n,t=e=null,l):u},l.sortSubgroups=function(n){return arguments.length?(a=n,t=null,l):a},l.sortChords=function(n){return arguments.length?(o=n,t&&s(),l):o},l.chords=function(){return t||f(),t},l.groups=function(){return e||f(),e},l},n.layout.force=function(){var t,e,r,i,u,a,o={},l=n.dispatch("start","tick","end"),c=[1,1],f=.9,s=iz,h=iC,p=-30,g=iT,v=.1,d=.64,y=[],x=[];function m(t){t.px=n.event.x,t.py=n.event.y,o.resume()}return o.tick=function(){if((r*=.99)<.005)return t=null,l.end({type:"end",alpha:r=0}),!0;var e,o,s,h,m,M,b,_,w,S=y.length,k=x.length;for(o=0;o<k;++o)h=(s=x[o]).source,(M=(_=(m=s.target).x-h.x)*_+(w=m.y-h.y)*w)&&(_*=M=r*u[o]*((M=Math.sqrt(M))-i[o])/M,w*=M,m.x-=_*(b=h.weight+m.weight?h.weight/(h.weight+m.weight):.5),m.y-=w*b,h.x+=_*(b=1-b),h.y+=w*b);if((b=r*v)&&(_=c[0]/2,w=c[1]/2,o=-1,b))for(;++o<S;)s=y[o],s.x+=(_-s.x)*b,s.y+=(w-s.y)*b;if(p)for(function n(t,e,r){var i=0,u=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,l=o.length,c=-1;++c<l;)null!=(a=o[c])&&(n(a,e,r),t.charge+=a.charge,i+=a.charge*a.cx,u+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var f=e*r[t.point.index];t.charge+=t.pointCharge=f,i+=f*t.point.x,u+=f*t.point.y}t.cx=i/t.charge,t.cy=u/t.charge}(e=n.geom.quadtree(y),r,a),o=-1;++o<S;)(s=y[o]).fixed||e.visit(function(n){return function(t,e,r,i){if(t.point!==n){var u=t.cx-n.x,a=t.cy-n.y,o=i-e,l=u*u+a*a;if(o*o/d<l){if(l<g){var c=t.charge/l;n.px-=u*c,n.py-=a*c}return!0}if(t.point&&l&&l<g){var c=t.pointCharge/l;n.px-=u*c,n.py-=a*c}}return!t.charge}}(s));for(o=-1;++o<S;)(s=y[o]).fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*f,s.y-=(s.py-(s.py=s.y))*f);l.tick({type:"tick",alpha:r})},o.nodes=function(n){return arguments.length?(y=n,o):y},o.links=function(n){return arguments.length?(x=n,o):x},o.size=function(n){return arguments.length?(c=n,o):c},o.linkDistance=function(n){return arguments.length?(s="function"==typeof n?n:+n,o):s},o.distance=o.linkDistance,o.linkStrength=function(n){return arguments.length?(h="function"==typeof n?n:+n,o):h},o.friction=function(n){return arguments.length?(f=+n,o):f},o.charge=function(n){return arguments.length?(p="function"==typeof n?n:+n,o):p},o.chargeDistance=function(n){return arguments.length?(g=n*n,o):Math.sqrt(g)},o.gravity=function(n){return arguments.length?(v=+n,o):v},o.theta=function(n){return arguments.length?(d=n*n,o):Math.sqrt(d)},o.alpha=function(n){return arguments.length?(n=+n,r?n>0?r=n:(t.c=null,t.t=NaN,t=null,l.end({type:"end",alpha:r=0})):n>0&&(l.start({type:"start",alpha:r=n}),t=tc(o.tick)),o):r},o.start=function(){var n,t,e,r=y.length,l=x.length,f=c[0],g=c[1];for(n=0;n<r;++n)(e=y[n]).index=n,e.weight=0;for(n=0;n<l;++n)"number"==typeof(e=x[n]).source&&(e.source=y[e.source]),"number"==typeof e.target&&(e.target=y[e.target]),++e.source.weight,++e.target.weight;for(n=0;n<r;++n)isNaN((e=y[n]).x)&&(e.x=v("x",f)),isNaN(e.y)&&(e.y=v("y",g)),isNaN(e.px)&&(e.px=e.x),isNaN(e.py)&&(e.py=e.y);if(i=[],"function"==typeof s)for(n=0;n<l;++n)i[n]=+s.call(this,x[n],n);else for(n=0;n<l;++n)i[n]=s;if(u=[],"function"==typeof h)for(n=0;n<l;++n)u[n]=+h.call(this,x[n],n);else for(n=0;n<l;++n)u[n]=h;if(a=[],"function"==typeof p)for(n=0;n<r;++n)a[n]=+p.call(this,y[n],n);else for(n=0;n<r;++n)a[n]=p;function v(e,i){if(!t){for(c=0,t=Array(r);c<r;++c)t[c]=[];for(c=0;c<l;++c){var u=x[c];t[u.source.index].push(u.target),t[u.target.index].push(u.source)}}for(var a,o=t[n],c=-1,f=o.length;++c<f;)if(!isNaN(a=o[c][e]))return a;return Math.random()*i}return o.resume()},o.resume=function(){return o.alpha(.1)},o.stop=function(){return o.alpha(0)},o.drag=function(){if(e||(e=n.behavior.drag().origin(z).on("dragstart.force",ik).on("drag.force",m).on("dragend.force",iN)),!arguments.length)return e;this.on("mouseover.force",iE).on("mouseout.force",iA).call(e)},n.rebind(o,l,"on")};var iz=20,iC=1,iT=1/0;function ij(t,e){return n.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=iO,t}function iq(n,t){for(var e,r,i=[n];null!=(n=i.pop());)if(t(n),(r=n.children)&&(e=r.length))for(;--e>=0;)i.push(r[e])}function iR(n,t){for(var e=[n],r=[];null!=(n=e.pop());)if(r.push(n),(u=n.children)&&(i=u.length))for(var i,u,a=-1;++a<i;)e.push(u[a]);for(;null!=(n=r.pop());)t(n)}function iL(n){return n.children}function iP(n){return n.value}function iD(n,t){return t.value-n.value}function iO(t){return n.merge(t.map(function(n){return(n.children||[]).map(function(t){return{source:n,target:t}})}))}n.layout.hierarchy=function(){var n=iD,t=iL,e=iP;function r(i){var u,a,o,l,c=[i],f=[];for(i.depth=0;null!=(l=c.pop());)if(f.push(l),(a=t.call(r,l,l.depth))&&(u=a.length)){for(;--u>=0;)c.push(o=a[u]),o.parent=l,o.depth=l.depth+1;e&&(l.value=0),l.children=a}else e&&(l.value=+e.call(r,l,l.depth)||0),delete l.children;return iR(i,function(t){var r,i;n&&(r=t.children)&&r.sort(n),e&&(i=t.parent)&&(i.value+=t.value)}),f}return r.sort=function(t){return arguments.length?(n=t,r):n},r.children=function(n){return arguments.length?(t=n,r):t},r.value=function(n){return arguments.length?(e=n,r):e},r.revalue=function(n){return e&&(iq(n,function(n){n.children&&(n.value=0)}),iR(n,function(n){var t;n.children||(n.value=+e.call(r,n,n.depth)||0),(t=n.parent)&&(t.value+=n.value)})),n},r},n.layout.partition=function(){var t=n.layout.hierarchy(),e=[1,1];function r(n,r){var i=t.call(this,n,r);return function n(t,e,r,i){var u=t.children;if(t.x=e,t.y=t.depth*i,t.dx=r,t.dy=i,u&&(a=u.length)){var a,o,l,c=-1;for(r=t.value?r/t.value:0;++c<a;)n(o=u[c],e,l=o.value*r,i),e+=l}}(i[0],0,e[0],e[1]/function n(t){var e=t.children,r=0;if(e&&(i=e.length))for(var i,u=-1;++u<i;)r=Math.max(r,n(e[u]));return 1+r}(i[0])),i}return r.size=function(n){return arguments.length?(e=n,r):e},ij(r,t)},n.layout.pie=function(){var t=Number,e=iI,r=0,i=nS,u=0;function a(o){var l,c=o.length,f=o.map(function(n,e){return+t.call(a,n,e)}),s=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-s,p=Math.min(Math.abs(h)/c,+("function"==typeof u?u.apply(this,arguments):u)),g=p*(h<0?-1:1),v=n.sum(f),d=v?(h-c*g)/v:0,y=n.range(c),x=[];return null!=e&&y.sort(e===iI?function(n,t){return f[t]-f[n]}:function(n,t){return e(o[n],o[t])}),y.forEach(function(n){x[n]={data:o[n],value:l=f[n],startAngle:s,endAngle:s+=l*d+g,padAngle:p}}),x}return a.value=function(n){return arguments.length?(t=n,a):t},a.sort=function(n){return arguments.length?(e=n,a):e},a.startAngle=function(n){return arguments.length?(r=n,a):r},a.endAngle=function(n){return arguments.length?(i=n,a):i},a.padAngle=function(n){return arguments.length?(u=n,a):u},a};var iI={};function iF(n){return n.x}function iU(n){return n.y}function iH(n,t,e){n.y0=t,n.y=e}n.layout.stack=function(){var t=z,e=i$,r=iB,i=iH,u=iF,a=iU;function o(l,c){if(!(p=l.length))return l;var f=l.map(function(n,e){return t.call(o,n,e)}),s=f.map(function(n){return n.map(function(n,t){return[u.call(o,n,t),a.call(o,n,t)]})}),h=e.call(o,s,c);f=n.permute(f,h),s=n.permute(s,h);var p,g,v,d,y=r.call(o,s,c),x=f[0].length;for(v=0;v<x;++v)for(i.call(o,f[0][v],d=y[v],s[0][v][1]),g=1;g<p;++g)i.call(o,f[g][v],d+=s[g-1][v][1],s[g][v][1]);return l}return o.values=function(n){return arguments.length?(t=n,o):t},o.order=function(n){return arguments.length?(e="function"==typeof n?n:iY.get(n)||i$,o):e},o.offset=function(n){return arguments.length?(r="function"==typeof n?n:iV.get(n)||iB,o):r},o.x=function(n){return arguments.length?(u=n,o):u},o.y=function(n){return arguments.length?(a=n,o):a},o.out=function(n){return arguments.length?(i=n,o):i},o};var iY=n.map({"inside-out":function(t){var e,r,i=t.length,u=t.map(iZ),a=t.map(iX),o=n.range(i).sort(function(n,t){return u[n]-u[t]}),l=0,c=0,f=[],s=[];for(e=0;e<i;++e)r=o[e],l<c?(l+=a[r],f.push(r)):(c+=a[r],s.push(r));return s.reverse().concat(f)},reverse:function(t){return n.range(t.length).reverse()},default:i$}),iV=n.map({silhouette:function(n){var t,e,r,i=n.length,u=n[0].length,a=[],o=0,l=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];r>o&&(o=r),a.push(r)}for(e=0;e<u;++e)l[e]=(o-a[e])/2;return l},wiggle:function(n){var t,e,r,i,u,a,o,l,c,f=n.length,s=n[0],h=s.length,p=[];for(e=1,p[0]=l=c=0;e<h;++e){for(t=0,i=0;t<f;++t)i+=n[t][e][1];for(t=0,u=0,o=s[e][0]-s[e-1][0];t<f;++t){for(r=0,a=(n[t][e][1]-n[t][e-1][1])/(2*o);r<t;++r)a+=(n[r][e][1]-n[r][e-1][1])/o;u+=a*n[t][e][1]}p[e]=l-=i?u/i*o:0,l<c&&(c=l)}for(e=0;e<h;++e)p[e]-=c;return p},expand:function(n){var t,e,r,i=n.length,u=n[0].length,a=1/i,o=[];for(e=0;e<u;++e){for(t=0,r=0;t<i;t++)r+=n[t][e][1];if(r)for(t=0;t<i;t++)n[t][e][1]/=r;else for(t=0;t<i;t++)n[t][e][1]=a}for(e=0;e<u;++e)o[e]=0;return o},zero:iB});function i$(t){return n.range(t.length)}function iB(n){for(var t=-1,e=n[0].length,r=[];++t<e;)r[t]=0;return r}function iZ(n){for(var t,e=1,r=0,i=n[0][1],u=n.length;e<u;++e)(t=n[e][1])>i&&(r=e,i=t);return r}function iX(n){return n.reduce(iW,0)}function iW(n,t){return n+t[1]}function iJ(n,t){return iG(n,Math.ceil(Math.log(t.length)/Math.LN2+1))}function iG(n,t){for(var e=-1,r=+n[0],i=(n[1]-r)/t,u=[];++e<=t;)u[e]=i*e+r;return u}function iK(t){return[n.min(t),n.max(t)]}function iQ(n,t){return n.value-t.value}function i0(n,t){var e=n._pack_next;n._pack_next=t,t._pack_prev=n,t._pack_next=e,e._pack_prev=t}function i1(n,t){n._pack_next=t,t._pack_prev=n}function i2(n,t){var e=t.x-n.x,r=t.y-n.y,i=n.r+t.r;return .999*i*i>e*e+r*r}function i5(n){if((t=n.children)&&(l=t.length)){var t,e,r,i,u,a,o,l,c=1/0,f=-1/0,s=1/0,h=-1/0;if(t.forEach(i6),(e=t[0]).x=-e.r,e.y=0,m(e),l>1&&((r=t[1]).x=r.r,r.y=0,m(r),l>2))for(i9(e,r,i=t[2]),m(i),i0(e,i),e._pack_prev=i,i0(i,r),r=e._pack_next,u=3;u<l;u++){i9(e,r,i=t[u]);var p=0,g=1,v=1;for(a=r._pack_next;a!==r;a=a._pack_next,g++)if(i2(a,i)){p=1;break}if(1==p)for(o=e._pack_prev;o!==a._pack_prev&&!i2(o,i);o=o._pack_prev,v++);p?(g<v||g==v&&r.r<e.r?i1(e,r=a):i1(e=o,r),u--):(i0(e,i),r=i,m(i))}var d=(c+f)/2,y=(s+h)/2,x=0;for(u=0;u<l;u++)i=t[u],i.x-=d,i.y-=y,x=Math.max(x,i.r+Math.sqrt(i.x*i.x+i.y*i.y));n.r=x,t.forEach(i3)}function m(n){c=Math.min(n.x-n.r,c),f=Math.max(n.x+n.r,f),s=Math.min(n.y-n.r,s),h=Math.max(n.y+n.r,h)}}function i6(n){n._pack_next=n._pack_prev=n}function i3(n){delete n._pack_next,delete n._pack_prev}function i9(n,t,e){var r=n.r+e.r,i=t.x-n.x,u=t.y-n.y;if(r&&(i||u)){var a=t.r+e.r,o=i*i+u*u;a*=a,r*=r;var l=.5+(r-a)/(2*o),c=Math.sqrt(Math.max(0,2*a*(r+o)-(r-=o)*r-a*a))/(2*o);e.x=n.x+l*i+c*u,e.y=n.y+l*u-c*i}else e.x=n.x+r,e.y=n.y}function i4(n,t){return n.parent==t.parent?1:2}function i8(n){var t=n.children;return t.length?t[0]:n.t}function i7(n){var t,e=n.children;return(t=e.length)?e[t-1]:n.t}function un(n){return{x:n.x,y:n.y,dx:n.dx,dy:n.dy}}function ut(n,t){var e=n.x+t[3],r=n.y+t[0],i=n.dx-t[1]-t[3],u=n.dy-t[0]-t[2];return i<0&&(e+=i/2,i=0),u<0&&(r+=u/2,u=0),{x:e,y:r,dx:i,dy:u}}function ue(n){var t=n[0],e=n[n.length-1];return t<e?[t,e]:[e,t]}function ur(n){return n.rangeExtent?n.rangeExtent():ue(n.range())}function ui(n,t,e,r){var i=e(n[0],n[1]),u=r(t[0],t[1]);return function(n){return u(i(n))}}function uu(n,t){var e,r=0,i=n.length-1,u=n[r],a=n[i];return a<u&&(e=r,r=i,i=e,e=u,u=a,a=e),n[r]=t.floor(u),n[i]=t.ceil(a),n}function ua(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:uo}n.layout.histogram=function(){var t=!0,e=Number,r=iK,i=iJ;function u(u,a){for(var o,l,c=[],f=u.map(e,this),s=r.call(this,f,a),h=i.call(this,s,f,a),a=-1,p=f.length,g=h.length-1,v=t?1:1/p;++a<g;)(o=c[a]=[]).dx=h[a+1]-(o.x=h[a]),o.y=0;if(g>0)for(a=-1;++a<p;)(l=f[a])>=s[0]&&l<=s[1]&&(o=c[n.bisect(h,l,1,g)-1],o.y+=v,o.push(u[a]));return c}return u.value=function(n){return arguments.length?(e=n,u):e},u.range=function(n){return arguments.length?(r=tt(n),u):r},u.bins=function(n){return arguments.length?(i="number"==typeof n?function(t){return iG(t,n)}:tt(n),u):i},u.frequency=function(n){return arguments.length?(t=!!n,u):t},u},n.layout.pack=function(){var t,e=n.layout.hierarchy().sort(iQ),r=0,i=[1,1];function u(n,u){var a=e.call(this,n,u),o=a[0],l=i[0],c=i[1],f=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(o.x=o.y=0,iR(o,function(n){n.r=+f(n.value)}),iR(o,i5),r){var s=r*(t?1:Math.max(2*o.r/l,2*o.r/c))/2;iR(o,function(n){n.r+=s}),iR(o,i5),iR(o,function(n){n.r-=s})}return function n(t,e,r,i){var u=t.children;if(t.x=e+=i*t.x,t.y=r+=i*t.y,t.r*=i,u)for(var a=-1,o=u.length;++a<o;)n(u[a],e,r,i)}(o,l/2,c/2,t?1:1/Math.max(2*o.r/l,2*o.r/c)),a}return u.size=function(n){return arguments.length?(i=n,u):i},u.radius=function(n){return arguments.length?(t=null==n||"function"==typeof n?n:+n,u):t},u.padding=function(n){return arguments.length?(r=+n,u):r},ij(u,e)},n.layout.tree=function(){var t=n.layout.hierarchy().sort(null).value(null),e=i4,r=[1,1],i=null;function u(n,u){var c=t.call(this,n,u),f=c[0],s=function(n){for(var t,e={A:null,children:[n]},r=[e];null!=(t=r.pop());)for(var i,u=t.children,a=0,o=u.length;a<o;++a)r.push((u[a]=i={_:u[a],parent:t,children:(i=u[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return e.children[0]}(f);if(iR(s,a),s.parent.m=-s.z,iq(s,o),i)iq(f,l);else{var h=f,p=f,g=f;iq(f,function(n){n.x<h.x&&(h=n),n.x>p.x&&(p=n),n.depth>g.depth&&(g=n)});var v=e(h,p)/2-h.x,d=r[0]/(p.x+e(p,h)/2+v),y=r[1]/(g.depth||1);iq(f,function(n){n.x=(n.x+v)*d,n.y=n.depth*y})}return c}function a(n){var t=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(t.length){!function(n){for(var t,e=0,r=0,i=n.children,u=i.length;--u>=0;)t=i[u],t.z+=e,t.m+=e,e+=t.s+(r+=t.c)}(n);var u=(t[0].z+t[t.length-1].z)/2;i?(n.z=i.z+e(n._,i._),n.m=n.z-u):n.z=u}else i&&(n.z=i.z+e(n._,i._));n.parent.A=function(n,t,r){if(t){for(var i,u,a,o=n,l=n,c=t,f=o.parent.children[0],s=o.m,h=l.m,p=c.m,g=f.m;c=i7(c),o=i8(o),c&&o;)f=i8(f),(l=i7(l)).a=n,(a=c.z+p-o.z-s+e(c._,o._))>0&&(function(n,t,e){var r=e/(t.i-n.i);t.c-=r,t.s+=e,n.c+=r,t.z+=e,t.m+=e}((i=c,u=r,i.a.parent===n.parent?i.a:u),n,a),s+=a,h+=a),p+=c.m,s+=o.m,g+=f.m,h+=l.m;c&&!i7(l)&&(l.t=c,l.m+=p-h),o&&!i8(f)&&(f.t=o,f.m+=s-g,r=n)}return r}(n,i,n.parent.A||r[0])}function o(n){n._.x=n.z+n.parent.m,n.m+=n.parent.m}function l(n){n.x*=r[0],n.y=n.depth*r[1]}return u.separation=function(n){return arguments.length?(e=n,u):e},u.size=function(n){return arguments.length?(i=null==(r=n)?l:null,u):i?null:r},u.nodeSize=function(n){return arguments.length?(i=null==(r=n)?null:l,u):i?r:null},ij(u,t)},n.layout.cluster=function(){var t=n.layout.hierarchy().sort(null).value(null),e=i4,r=[1,1],i=!1;function u(u,a){var o,l=t.call(this,u,a),c=l[0],f=0;iR(c,function(t){var r=t.children;r&&r.length?(t.x=r.reduce(function(n,t){return n+t.x},0)/r.length,t.y=1+n.max(r,function(n){return n.y})):(t.x=o?f+=e(t,o):0,t.y=0,o=t)});var s=function n(t){var e=t.children;return e&&e.length?n(e[0]):t}(c),h=function n(t){var e,r=t.children;return r&&(e=r.length)?n(r[e-1]):t}(c),p=s.x-e(s,h)/2,g=h.x+e(h,s)/2;return iR(c,i?function(n){n.x=(n.x-c.x)*r[0],n.y=(c.y-n.y)*r[1]}:function(n){n.x=(n.x-p)/(g-p)*r[0],n.y=(1-(c.y?n.y/c.y:1))*r[1]}),l}return u.separation=function(n){return arguments.length?(e=n,u):e},u.size=function(n){return arguments.length?(i=null==(r=n),u):i?null:r},u.nodeSize=function(n){return arguments.length?(i=null!=(r=n),u):i?r:null},ij(u,t)},n.layout.treemap=function(){var t,e=n.layout.hierarchy(),r=Math.round,i=[1,1],u=null,a=un,o=!1,l="squarify",c=.5*(1+Math.sqrt(5));function f(n,t){for(var e,r,i=-1,u=n.length;++i<u;)r=(e=n[i]).value*(t<0?0:t),e.area=isNaN(r)||r<=0?0:r}function s(n,t,e,i){var u,a=-1,o=n.length,l=e.x,c=e.y,f=t?r(n.area/t):0;if(t==e.dx){for((i||f>e.dy)&&(f=e.dy);++a<o;)(u=n[a]).x=l,u.y=c,u.dy=f,l+=u.dx=Math.min(e.x+e.dx-l,f?r(u.area/f):0);u.z=!0,u.dx+=e.x+e.dx-l,e.y+=f,e.dy-=f}else{for((i||f>e.dx)&&(f=e.dx);++a<o;)(u=n[a]).x=l,u.y=c,u.dx=f,c+=u.dy=Math.min(e.y+e.dy-c,f?r(u.area/f):0);u.z=!1,u.dy+=e.y+e.dy-c,e.x+=f,e.dx-=f}}function h(n){var r=t||e(n),u=r[0];return u.x=u.y=0,u.value?(u.dx=i[0],u.dy=i[1]):u.dx=u.dy=0,t&&e.revalue(u),f([u],u.dx*u.dy/u.value),(t?function n(t){var e=t.children;if(e&&e.length){var r,i=a(t),u=e.slice(),o=[];for(f(u,i.dx*i.dy/t.value),o.area=0;r=u.pop();)o.push(r),o.area+=r.area,null!=r.z&&(s(o,r.z?i.dx:i.dy,i,!u.length),o.length=o.area=0);e.forEach(n)}}:function n(t){var e=t.children;if(e&&e.length){var r,i,u,o=a(t),h=[],p=e.slice(),g=1/0,v="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&t.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(f(p,o.dx*o.dy/t.value),h.area=0;(u=p.length)>0;)h.push(r=p[u-1]),h.area+=r.area,"squarify"!==l||(i=function(n,t){for(var e,r=n.area,i=0,u=1/0,a=-1,o=n.length;++a<o;)(e=n[a].area)&&(e<u&&(u=e),e>i&&(i=e));return r*=r,t*=t,r?Math.max(t*i*c/r,r/(t*u*c)):1/0}(h,v))<=g?(p.pop(),g=i):(h.area-=h.pop().area,s(h,v,o,!1),v=Math.min(o.dx,o.dy),h.length=h.area=0,g=1/0);h.length&&(s(h,v,o,!0),h.length=h.area=0),e.forEach(n)}})(u),o&&(t=r),r}return h.size=function(n){return arguments.length?(i=n,h):i},h.padding=function(n){var t;return arguments.length?(a=null==(u=n)?un:"function"==(t=typeof n)?function(t){var e=n.call(h,t,t.depth);return null==e?un(t):ut(t,"number"==typeof e?[e,e,e,e]:e)}:("number"===t&&(n=[n,n,n,n]),function(t){return ut(t,n)}),h):u},h.round=function(n){return arguments.length?(r=n?Math.round:Number,h):r!=Number},h.sticky=function(n){return arguments.length?(o=n,t=null,h):o},h.ratio=function(n){return arguments.length?(c=n,h):c},h.mode=function(n){return arguments.length?(l=n+"",h):l},ij(h,e)},n.random={normal:function(n,t){var e=arguments.length;return e<2&&(t=1),e<1&&(n=0),function(){var e,r,i;do i=(e=2*Math.random()-1)*e+(r=2*Math.random()-1)*r;while(!i||i>1)return n+t*e*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=n.random.normal.apply(n,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=n.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(n){return function(){for(var t=0,e=0;e<n;e++)t+=Math.random();return t}}},n.scale={};var uo={floor:z,ceil:z};function ul(t,e,r,i){var u=[],a=[],o=0,l=Math.min(t.length,e.length)-1;for(t[l]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=l;)u.push(r(t[o-1],t[o])),a.push(i(e[o-1],e[o]));return function(e){var r=n.bisect(t,e,1,l)-1;return a[r](u[r](e))}}function uc(t,e){return n.rebind(t,e,"range","rangeRound","interpolate","clamp")}function uf(n,t){return uu(n,ua(us(n,t)[2])),uu(n,ua(us(n,t)[2])),n}function us(n,t){null==t&&(t=10);var e=ue(n),r=e[1]-e[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),u=t/r*i;return u<=.15?i*=10:u<=.35?i*=5:u<=.75&&(i*=2),e[0]=Math.ceil(e[0]/i)*i,e[1]=Math.floor(e[1]/i)*i+.5*i,e[2]=i,e}function uh(t,e){return n.range.apply(n,us(t,e))}function up(t,e,r){var i=us(t,e);if(r){var u,a,o=tv.exec(r);if(o.shift(),"s"===o[8]){var l=n.formatPrefix(Math.max(x(i[0]),x(i[1])));return o[7]||(o[7]="."+uv(l.scale(i[2]))),o[8]="f",r=n.format(o.join("")),function(n){return r(l.scale(n))+l.symbol}}o[7]||(o[7]="."+(u=o[8],a=uv(i[2]),u in ug?Math.abs(a-uv(Math.max(x(i[0]),x(i[1]))))+ +("e"!==u):a-("%"===u)*2)),r=o.join("")}else r=",."+uv(i[2])+"f";return n.format(r)}n.scale.linear=function(){return function n(t,e,r,i){var u,a;function o(){var n=Math.min(t.length,e.length)>2?ul:ui,o=i?iw:i_;return u=n(t,e,o,r),a=n(e,t,o,r7),l}function l(n){return u(n)}return l.invert=function(n){return a(n)},l.domain=function(n){return arguments.length?(t=n.map(Number),o()):t},l.range=function(n){return arguments.length?(e=n,o()):e},l.rangeRound=function(n){return l.range(n).interpolate(iv)},l.clamp=function(n){return arguments.length?(i=n,o()):i},l.interpolate=function(n){return arguments.length?(r=n,o()):r},l.ticks=function(n){return uh(t,n)},l.tickFormat=function(n,e){return up(t,n,e)},l.nice=function(n){return uf(t,n),o()},l.copy=function(){return n(t,e,r,i)},o()}([0,1],[0,1],r7,!1)};var ug={s:1,g:1,p:1,r:1,e:1};function uv(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}n.scale.log=function(){return function t(e,r,i,u){function a(n){return(i?Math.log(n<0?0:n):-Math.log(n>0?0:-n))/Math.log(r)}function o(n){return i?Math.pow(r,n):-Math.pow(r,-n)}function l(n){return e(a(n))}return l.invert=function(n){return o(e.invert(n))},l.domain=function(n){return arguments.length?(i=n[0]>=0,e.domain((u=n.map(Number)).map(a)),l):u},l.base=function(n){return arguments.length?(r=+n,e.domain(u.map(a)),l):r},l.nice=function(){var n=uu(u.map(a),i?Math:uy);return e.domain(n),u=n.map(o),l},l.ticks=function(){var n=ue(u),t=[],e=n[0],l=n[1],c=Math.floor(a(e)),f=Math.ceil(a(l)),s=r%1?2:r;if(isFinite(f-c)){if(i){for(;c<f;c++)for(var h=1;h<s;h++)t.push(o(c)*h);t.push(o(c))}else for(t.push(o(c));c++<f;)for(var h=s-1;h>0;h--)t.push(o(c)*h);for(c=0;t[c]<e;c++);for(f=t.length;t[f-1]>l;f--);t=t.slice(c,f)}return t},l.tickFormat=function(t,e){if(!arguments.length)return ud;arguments.length<2?e=ud:"function"!=typeof e&&(e=n.format(e));var i=Math.max(1,r*t/l.ticks().length);return function(n){var t=n/o(Math.round(a(n)));return t*r<r-.5&&(t*=r),t<=i?e(n):""}},l.copy=function(){return t(e.copy(),r,i,u)},uc(l,e)}(n.scale.linear().domain([0,1]),10,!0,[1,10])};var ud=n.format(".0e"),uy={floor:function(n){return-Math.ceil(-n)},ceil:function(n){return-Math.floor(-n)}};function ux(n){return function(t){return t<0?-Math.pow(-t,n):Math.pow(t,n)}}n.scale.pow=function(){return function n(t,e,r){var i=ux(e),u=ux(1/e);function a(n){return t(i(n))}return a.invert=function(n){return u(t.invert(n))},a.domain=function(n){return arguments.length?(t.domain((r=n.map(Number)).map(i)),a):r},a.ticks=function(n){return uh(r,n)},a.tickFormat=function(n,t){return up(r,n,t)},a.nice=function(n){return a.domain(uf(r,n))},a.exponent=function(n){return arguments.length?(i=ux(e=n),u=ux(1/e),t.domain(r.map(i)),a):e},a.copy=function(){return n(t.copy(),e,r)},uc(a,t)}(n.scale.linear(),1,[0,1])},n.scale.sqrt=function(){return n.scale.pow().exponent(.5)},n.scale.ordinal=function(){return function t(e,r){var i,u,a;function o(n){return u[((i.get(n)||("range"===r.t?i.set(n,e.push(n)):NaN))-1)%u.length]}function l(t,r){return n.range(e.length).map(function(n){return t+r*n})}return o.domain=function(n){if(!arguments.length)return e;e=[],i=new M;for(var t,u=-1,a=n.length;++u<a;)i.has(t=n[u])||i.set(t,e.push(t));return o[r.t].apply(o,r.a)},o.range=function(n){return arguments.length?(u=n,a=0,r={t:"range",a:arguments},o):u},o.rangePoints=function(n,t){arguments.length<2&&(t=0);var i=n[0],c=n[1],f=e.length<2?(i=(i+c)/2,0):(c-i)/(e.length-1+t);return u=l(i+f*t/2,f),a=0,r={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(n,t){arguments.length<2&&(t=0);var i=n[0],c=n[1],f=e.length<2?(i=c=Math.round((i+c)/2),0):(c-i)/(e.length-1+t)|0;return u=l(i+Math.round(f*t/2+(c-i-(e.length-1+t)*f)/2),f),a=0,r={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(n,t,i){arguments.length<2&&(t=0),arguments.length<3&&(i=t);var c=n[1]<n[0],f=n[c-0],s=(n[1-c]-f)/(e.length-t+2*i);return u=l(f+s*i,s),c&&u.reverse(),a=s*(1-t),r={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(n,t,i){arguments.length<2&&(t=0),arguments.length<3&&(i=t);var c=n[1]<n[0],f=n[c-0],s=n[1-c],h=Math.floor((s-f)/(e.length-t+2*i));return u=l(f+Math.round((s-f-(e.length-t)*h)/2),h),c&&u.reverse(),a=Math.round(h*(1-t)),r={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return a},o.rangeExtent=function(){return ue(r.a[0])},o.copy=function(){return t(e,r)},o.domain(e)}([],{t:"range",a:[[]]})},n.scale.category10=function(){return n.scale.ordinal().range(um)},n.scale.category20=function(){return n.scale.ordinal().range(uM)},n.scale.category20b=function(){return n.scale.ordinal().range(ub)},n.scale.category20c=function(){return n.scale.ordinal().range(u_)};var um=[2062260,0xff7f0e,2924588,0xd62728,9725885,9197131,0xe377c2,8355711,0xbcbd22,1556175].map(n2),uM=[2062260,0xaec7e8,0xff7f0e,0xffbb78,2924588,0x98df8a,0xd62728,0xff9896,9725885,0xc5b0d5,9197131,0xc49c94,0xe377c2,0xf7b6d2,8355711,0xc7c7c7,0xbcbd22,0xdbdb8d,1556175,0x9edae5].map(n2),ub=[3750777,5395619,7040719,0x9c9ede,6519097,9216594,0xb5cf6b,0xcedb9c,9202993,0xbd9e39,0xe7ba52,0xe7cb94,8666169,0xad494a,0xd6616b,0xe7969c,8077683,0xa55194,0xce6dbd,0xde9ed6].map(n2),u_=[3244733,7057110,0x9ecae1,0xc6dbef,0xe6550d,0xfd8d3c,0xfdae6b,0xfdd0a2,3253076,7652470,0xa1d99b,0xc7e9c0,7695281,0x9e9ac8,0xbcbddc,0xdadaeb,6513507,9868950,0xbdbdbd,0xd9d9d9].map(n2);function uw(){return 0}n.scale.quantile=function(){return function t(e,r){var i;function u(){var t=0,u=r.length;for(i=[];++t<u;)i[t-1]=n.quantile(e,t/u);return a}function a(t){if(!isNaN(t=+t))return r[n.bisect(i,t)]}return a.domain=function(n){return arguments.length?(e=n.map(p).filter(g).sort(h),u()):e},a.range=function(n){return arguments.length?(r=n,u()):r},a.quantiles=function(){return i},a.invertExtent=function(n){return(n=r.indexOf(n))<0?[NaN,NaN]:[n>0?i[n-1]:e[0],n<i.length?i[n]:e[e.length-1]]},a.copy=function(){return t(e,r)},u()}([],[])},n.scale.quantize=function(){return function n(t,e,r){var i,u;function a(n){return r[Math.max(0,Math.min(u,Math.floor(i*(n-t))))]}function o(){return i=r.length/(e-t),u=r.length-1,a}return a.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],o()):[t,e]},a.range=function(n){return arguments.length?(r=n,o()):r},a.invertExtent=function(n){return[n=(n=r.indexOf(n))<0?NaN:n/i+t,n+1/i]},a.copy=function(){return n(t,e,r)},o()}(0,1,[0,1])},n.scale.threshold=function(){return function t(e,r){function i(t){if(t<=t)return r[n.bisect(e,t)]}return i.domain=function(n){return arguments.length?(e=n,i):e},i.range=function(n){return arguments.length?(r=n,i):r},i.invertExtent=function(n){return[e[(n=r.indexOf(n))-1],e[n]]},i.copy=function(){return t(e,r)},i}([.5],[0,1])},n.scale.identity=function(){return function n(t){function e(n){return+n}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(n){return uh(t,n)},e.tickFormat=function(n,e){return up(t,n,e)},e.copy=function(){return n(t)},e}([0,1])},n.svg={},n.svg.arc=function(){var n=uk,t=uN,e=uw,r=uS,i=uE,u=uA,a=uz;function o(){var o=Math.max(0,+n.apply(this,arguments)),c=Math.max(0,+t.apply(this,arguments)),f=i.apply(this,arguments)-nN,s=u.apply(this,arguments)-nN,h=Math.abs(s-f),p=f>s?0:1;if(c<o&&(g=c,c=o,o=g),h>=nk)return l(c,p)+(o?l(o,1-p):"")+"Z";var g,v,d,y,x,m,M,b,_,w,S,k,N=0,E=0,A=[];if((y=(+a.apply(this,arguments)||0)/2)&&(d=r===uS?Math.sqrt(o*o+c*c):+r.apply(this,arguments),p||(E*=-1),c&&(E=nj(d/c*Math.sin(y))),o&&(N=nj(d/o*Math.sin(y)))),c){x=c*Math.cos(f+E),m=c*Math.sin(f+E),M=c*Math.cos(s-E),b=c*Math.sin(s-E);var z=Math.abs(s-f-2*E)<=nw?0:1;if(E&&uC(x,m,M,b)===p^z){var C=(f+s)/2;x=c*Math.cos(C),m=c*Math.sin(C),M=b=null}}else x=m=0;if(o){_=o*Math.cos(s-N),w=o*Math.sin(s-N),S=o*Math.cos(f+N),k=o*Math.sin(f+N);var T=Math.abs(f-s+2*N)<=nw?0:1;if(N&&uC(_,w,S,k)===1-p^T){var j=(f+s)/2;_=o*Math.cos(j),w=o*Math.sin(j),S=k=null}}else _=w=0;if(h>1e-6&&(g=Math.min(Math.abs(c-o)/2,+e.apply(this,arguments)))>.001){v=o<c^p?0:1;var q=g,R=g;if(h<nw){var L=null==S?[_,w]:null==M?[x,m]:rm([x,m],[S,k],[M,b],[_,w]),P=x-L[0],D=m-L[1],O=M-L[0],I=b-L[1],F=1/Math.sin(Math.acos((P*O+D*I)/(Math.sqrt(P*P+D*D)*Math.sqrt(O*O+I*I)))/2),U=Math.sqrt(L[0]*L[0]+L[1]*L[1]);R=Math.min(g,(o-U)/(F-1)),q=Math.min(g,(c-U)/(F+1))}if(null!=M){var H=uT(null==S?[_,w]:[S,k],[x,m],c,q,p),Y=uT([M,b],[_,w],c,q,p);g===q?A.push("M",H[0],"A",q,",",q," 0 0,",v," ",H[1],"A",c,",",c," 0 ",1-p^uC(H[1][0],H[1][1],Y[1][0],Y[1][1]),",",p," ",Y[1],"A",q,",",q," 0 0,",v," ",Y[0]):A.push("M",H[0],"A",q,",",q," 0 1,",v," ",Y[0])}else A.push("M",x,",",m);if(null!=S){var V=uT([x,m],[S,k],o,-R,p),B=uT([_,w],null==M?[x,m]:[M,b],o,-R,p);g===R?A.push("L",B[0],"A",R,",",R," 0 0,",v," ",B[1],"A",o,",",o," 0 ",p^uC(B[1][0],B[1][1],V[1][0],V[1][1]),",",1-p," ",V[1],"A",R,",",R," 0 0,",v," ",V[0]):A.push("L",B[0],"A",R,",",R," 0 0,",v," ",V[0])}else A.push("L",_,",",w)}else A.push("M",x,",",m),null!=M&&A.push("A",c,",",c," 0 ",z,",",p," ",M,",",b),A.push("L",_,",",w),null!=S&&A.push("A",o,",",o," 0 ",T,",",1-p," ",S,",",k);return A.push("Z"),A.join("")}function l(n,t){return"M0,"+n+"A"+n+","+n+" 0 1,"+t+" 0,"+-n+"A"+n+","+n+" 0 1,"+t+" 0,"+n}return o.innerRadius=function(t){return arguments.length?(n=tt(t),o):n},o.outerRadius=function(n){return arguments.length?(t=tt(n),o):t},o.cornerRadius=function(n){return arguments.length?(e=tt(n),o):e},o.padRadius=function(n){return arguments.length?(r=n==uS?uS:tt(n),o):r},o.startAngle=function(n){return arguments.length?(i=tt(n),o):i},o.endAngle=function(n){return arguments.length?(u=tt(n),o):u},o.padAngle=function(n){return arguments.length?(a=tt(n),o):a},o.centroid=function(){var e=(+n.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +u.apply(this,arguments))/2-nN;return[Math.cos(r)*e,Math.sin(r)*e]},o};var uS="auto";function uk(n){return n.innerRadius}function uN(n){return n.outerRadius}function uE(n){return n.startAngle}function uA(n){return n.endAngle}function uz(n){return n&&n.padAngle}function uC(n,t,e,r){return(n-e)*t-(t-r)*n>0?0:1}function uT(n,t,e,r,i){var u=n[0]-t[0],a=n[1]-t[1],o=(i?r:-r)/Math.sqrt(u*u+a*a),l=o*a,c=-o*u,f=n[0]+l,s=n[1]+c,h=t[0]+l,p=t[1]+c,g=(f+h)/2,v=(s+p)/2,d=h-f,y=p-s,x=d*d+y*y,m=e-r,M=f*p-h*s,b=(y<0?-1:1)*Math.sqrt(Math.max(0,m*m*x-M*M)),_=(M*y-d*b)/x,w=(-M*d-y*b)/x,S=(M*y+d*b)/x,k=(-M*d+y*b)/x,N=_-g,E=w-v,A=S-g,z=k-v;return N*N+E*E>A*A+z*z&&(_=S,w=k),[[_-l,w-c],[_*e/m,w*e/m]]}function uj(n){var t=rp,e=rg,r=ef,i=uR,u=i.key,a=.7;function o(u){var o,l=[],c=[],f=-1,s=u.length,h=tt(t),p=tt(e);function g(){l.push("M",i(n(c),a))}for(;++f<s;)r.call(this,o=u[f],f)?c.push([+h.call(this,o,f),+p.call(this,o,f)]):c.length&&(g(),c=[]);return c.length&&g(),l.length?l.join(""):null}return o.x=function(n){return arguments.length?(t=n,o):t},o.y=function(n){return arguments.length?(e=n,o):e},o.defined=function(n){return arguments.length?(r=n,o):r},o.interpolate=function(n){return arguments.length?(u="function"==typeof n?i=n:(i=uq.get(n)||uR).key,o):u},o.tension=function(n){return arguments.length?(a=n,o):a},o}n.svg.line=function(){return uj(z)};var uq=n.map({linear:uR,"linear-closed":uL,step:function(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r[0]+(r=n[t])[0])/2,"V",r[1]);return e>1&&i.push("H",r[0]),i.join("")},"step-before":uP,"step-after":uD,basis:uF,"basis-open":function(n){if(n.length<4)return uR(n);for(var t,e=[],r=-1,i=n.length,u=[0],a=[0];++r<3;)t=n[r],u.push(t[0]),a.push(t[1]);for(e.push(uU(uV,u)+","+uU(uV,a)),--r;++r<i;)t=n[r],u.shift(),u.push(t[0]),a.shift(),a.push(t[1]),u$(e,u,a);return e.join("")},"basis-closed":function(n){for(var t,e,r=-1,i=n.length,u=i+4,a=[],o=[];++r<4;)e=n[r%i],a.push(e[0]),o.push(e[1]);for(t=[uU(uV,a),",",uU(uV,o)],--r;++r<u;)e=n[r%i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),u$(t,a,o);return t.join("")},bundle:function(n,t){var e=n.length-1;if(e)for(var r,i,u=n[0][0],a=n[0][1],o=n[e][0]-u,l=n[e][1]-a,c=-1;++c<=e;)r=n[c],i=c/e,r[0]=t*r[0]+(1-t)*(u+i*o),r[1]=t*r[1]+(1-t)*(a+i*l);return uF(n)},cardinal:function(n,t){return n.length<3?uR(n):n[0]+uO(n,uI(n,t))},"cardinal-open":function(n,t){return n.length<4?uR(n):n[1]+uO(n.slice(1,-1),uI(n,t))},"cardinal-closed":function(n,t){return n.length<3?uL(n):n[0]+uO((n.push(n[0]),n),uI([n[n.length-2]].concat(n,[n[1]]),t))},monotone:function(n){return n.length<3?uR(n):n[0]+uO(n,function(n){for(var t,e,r,i,u=[],a=function(n){for(var t=0,e=n.length-1,r=[],i=n[0],u=n[1],a=r[0]=uB(i,u);++t<e;)r[t]=(a+(a=uB(i=u,u=n[t+1])))/2;return r[t]=a,r}(n),o=-1,l=n.length-1;++o<l;)1e-6>x(t=uB(n[o],n[o+1]))?a[o]=a[o+1]=0:(i=(e=a[o]/t)*e+(r=a[o+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),a[o]=i*e,a[o+1]=i*r);for(o=-1;++o<=l;)u.push([(i=(n[Math.min(l,o+1)][0]-n[Math.max(0,o-1)][0])/(6*(1+a[o]*a[o])))||0,a[o]*i||0]);return u}(n))}});function uR(n){return n.length>1?n.join("L"):n+"Z"}function uL(n){return n.join("L")+"Z"}function uP(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("V",(r=n[t])[1],"H",r[0]);return i.join("")}function uD(n){for(var t=0,e=n.length,r=n[0],i=[r[0],",",r[1]];++t<e;)i.push("H",(r=n[t])[0],"V",r[1]);return i.join("")}function uO(n,t){if(t.length<1||n.length!=t.length&&n.length!=t.length+2)return uR(n);var e=n.length!=t.length,r="",i=n[0],u=n[1],a=t[0],o=a,l=1;if(e&&(r+="Q"+(u[0]-2*a[0]/3)+","+(u[1]-2*a[1]/3)+","+u[0]+","+u[1],i=n[1],l=2),t.length>1){o=t[1],u=n[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(u[0]-o[0])+","+(u[1]-o[1])+","+u[0]+","+u[1];for(var c=2;c<t.length;c++,l++)u=n[l],o=t[c],r+="S"+(u[0]-o[0])+","+(u[1]-o[1])+","+u[0]+","+u[1]}if(e){var f=n[l];r+="Q"+(u[0]+2*o[0]/3)+","+(u[1]+2*o[1]/3)+","+f[0]+","+f[1]}return r}function uI(n,t){for(var e,r=[],i=(1-t)/2,u=n[0],a=n[1],o=1,l=n.length;++o<l;)e=u,u=a,r.push([i*((a=n[o])[0]-e[0]),i*(a[1]-e[1])]);return r}function uF(n){if(n.length<3)return uR(n);var t=1,e=n.length,r=n[0],i=r[0],u=r[1],a=[i,i,i,(r=n[1])[0]],o=[u,u,u,r[1]],l=[i,",",u,"L",uU(uV,a),",",uU(uV,o)];for(n.push(n[e-1]);++t<=e;)r=n[t],a.shift(),a.push(r[0]),o.shift(),o.push(r[1]),u$(l,a,o);return n.pop(),l.push("L",r),l.join("")}function uU(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]+n[3]*t[3]}uq.forEach(function(n,t){t.key=n,t.closed=/-closed$/.test(n)});var uH=[0,2/3,1/3,0],uY=[0,1/3,2/3,0],uV=[0,1/6,2/3,1/6];function u$(n,t,e){n.push("C",uU(uH,t),",",uU(uH,e),",",uU(uY,t),",",uU(uY,e),",",uU(uV,t),",",uU(uV,e))}function uB(n,t){return(t[1]-n[1])/(t[0]-n[0])}function uZ(n){for(var t,e,r,i=-1,u=n.length;++i<u;)e=(t=n[i])[0],r=t[1]-nN,t[0]=e*Math.cos(r),t[1]=e*Math.sin(r);return n}function uX(n){var t=rp,e=rp,r=0,i=rg,u=ef,a=uR,o=a.key,l=a,c="L",f=.7;function s(o){var s,h,p,g=[],v=[],d=[],y=-1,x=o.length,m=tt(t),M=tt(r),b=t===e?function(){return h}:tt(e),_=r===i?function(){return p}:tt(i);function w(){g.push("M",a(n(d),f),c,l(n(v.reverse()),f),"Z")}for(;++y<x;)u.call(this,s=o[y],y)?(v.push([h=+m.call(this,s,y),p=+M.call(this,s,y)]),d.push([+b.call(this,s,y),+_.call(this,s,y)])):v.length&&(w(),v=[],d=[]);return v.length&&w(),g.length?g.join(""):null}return s.x=function(n){return arguments.length?(t=e=n,s):e},s.x0=function(n){return arguments.length?(t=n,s):t},s.x1=function(n){return arguments.length?(e=n,s):e},s.y=function(n){return arguments.length?(r=i=n,s):i},s.y0=function(n){return arguments.length?(r=n,s):r},s.y1=function(n){return arguments.length?(i=n,s):i},s.defined=function(n){return arguments.length?(u=n,s):u},s.interpolate=function(n){return arguments.length?(o="function"==typeof n?a=n:(a=uq.get(n)||uR).key,l=a.reverse||a,c=a.closed?"M":"L",s):o},s.tension=function(n){return arguments.length?(f=n,s):f},s}function uW(n){return n.radius}function uJ(n){return[n.x,n.y]}function uG(){return 64}function uK(){return"circle"}function uQ(n){var t=Math.sqrt(n/nw);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}n.svg.line.radial=function(){var n=uj(uZ);return n.radius=n.x,delete n.x,n.angle=n.y,delete n.y,n},uP.reverse=uD,uD.reverse=uP,n.svg.area=function(){return uX(z)},n.svg.area.radial=function(){var n=uX(uZ);return n.radius=n.x,delete n.x,n.innerRadius=n.x0,delete n.x0,n.outerRadius=n.x1,delete n.x1,n.angle=n.y,delete n.y,n.startAngle=n.y0,delete n.y0,n.endAngle=n.y1,delete n.y1,n},n.svg.chord=function(){var n=e7,t=rn,e=uW,r=uE,i=uA;function u(e,r){var i,u,l,c,f,s,h,p,g,v=a(this,n,e,r),d=a(this,t,e,r);return"M"+v.p0+o(v.r,v.p1,v.a1-v.a0)+(v.a0==d.a0&&v.a1==d.a1?(v.r,v.p1,v.r,"Q 0,0 "+v.p0):(v.r,v.p1,d.r,"Q 0,0 "+d.p0+o(d.r,d.p1,d.a1-d.a0)+(d.r,d.p1,v.r,"Q 0,0 "+v.p0)))+"Z"}function a(n,t,u,a){var o=t.call(n,u,a),l=e.call(n,o,a),c=r.call(n,o,a)-nN,f=i.call(n,o,a)-nN;return{r:l,a0:c,a1:f,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(f),l*Math.sin(f)]}}function o(n,t,e){return"A"+n+","+n+" 0 "+ +(e>nw)+",1 "+t}return u.radius=function(n){return arguments.length?(e=tt(n),u):e},u.source=function(t){return arguments.length?(n=tt(t),u):n},u.target=function(n){return arguments.length?(t=tt(n),u):t},u.startAngle=function(n){return arguments.length?(r=tt(n),u):r},u.endAngle=function(n){return arguments.length?(i=tt(n),u):i},u},n.svg.diagonal=function(){var n=e7,t=rn,e=uJ;function r(r,i){var u=n.call(this,r,i),a=t.call(this,r,i),o=(u.y+a.y)/2,l=[u,{x:u.x,y:o},{x:a.x,y:o},a];return"M"+(l=l.map(e))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(t){return arguments.length?(n=tt(t),r):n},r.target=function(n){return arguments.length?(t=tt(n),r):t},r.projection=function(n){return arguments.length?(e=n,r):e},r},n.svg.diagonal.radial=function(){var t=n.svg.diagonal(),e=uJ,r=t.projection;return t.projection=function(n){var t;return arguments.length?r((t=e=n,function(){var n=t.apply(this,arguments),e=n[0],r=n[1]-nN;return[e*Math.cos(r),e*Math.sin(r)]})):e},t},n.svg.symbol=function(){var n=uK,t=uG;function e(e,r){return(u0.get(n.call(this,e,r))||uQ)(t.call(this,e,r))}return e.type=function(t){return arguments.length?(n=tt(t),e):n},e.size=function(n){return arguments.length?(t=tt(n),e):t},e};var u0=n.map({circle:uQ,cross:function(n){var t=Math.sqrt(n/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(n){var t=Math.sqrt(n/(2*u2)),e=t*u2;return"M0,"+-t+"L"+e+",0 0,"+t+" "+-e+",0Z"},square:function(n){var t=Math.sqrt(n)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(n){var t=Math.sqrt(n/u1),e=t*u1/2;return"M0,"+e+"L"+t+","+-e+" "+-t+","+-e+"Z"},"triangle-up":function(n){var t=Math.sqrt(n/u1),e=t*u1/2;return"M0,"+-e+"L"+t+","+e+" "+-t+","+e+"Z"}});n.svg.symbolTypes=u0.keys();var u1=Math.sqrt(3),u2=Math.tan(30*nE);V.transition=function(n){for(var t,e,r=u9||++u7,i=ae(n),u=[],a=u4||{time:Date.now(),ease:ic,delay:0,duration:250},o=-1,l=this.length;++o<l;){u.push(t=[]);for(var c=this[o],f=-1,s=c.length;++f<s;)(e=c[f])&&ar(e,f,i,r,a),t.push(e)}return u3(u,i,r)},V.interrupt=function(n){return this.each(null==n?u5:u6(ae(n)))};var u5=u6(ae());function u6(n){return function(){var t,e,r;(t=this[n])&&(r=t[e=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[e]:delete this[n],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function u3(n,t,e){return I(n,u8),n.namespace=t,n.id=e,n}var u9,u4,u8=[],u7=0;function an(n,t,e,r){var i=n.id,u=n.namespace;return nc(n,"function"==typeof e?function(n,a,o){n[u][i].tween.set(t,r(e.call(n,n.__data__,a,o)))}:(e=r(e),function(n){n[u][i].tween.set(t,e)}))}function at(n){return null==n&&(n=""),function(){this.textContent=n}}function ae(n){return null==n?"__transition__":"__transition_"+n+"__"}function ar(n,t,e,r,i){var u,a,o,l,c,f=n[e]||(n[e]={active:0,count:0}),s=f[r];function h(e){var i=f.active,h=f[i];for(var g in h&&(h.timer.c=null,h.timer.t=NaN,--f.count,delete f[i],h.event&&h.event.interrupt.call(n,n.__data__,h.index)),f)if(+g<r){var v=f[g];v.timer.c=null,v.timer.t=NaN,--f.count,delete f[g]}a.c=p,tc(function(){return a.c&&p(e||1)&&(a.c=null,a.t=NaN),1},0,u),f.active=r,s.event&&s.event.start.call(n,n.__data__,t),c=[],s.tween.forEach(function(e,r){(r=r.call(n,n.__data__,t))&&c.push(r)}),l=s.ease,o=s.duration}function p(i){for(var u=i/o,a=l(u),h=c.length;h>0;)c[--h].call(n,a);if(u>=1)return s.event&&s.event.end.call(n,n.__data__,t),--f.count?delete f[r]:delete n[e],1}!s&&(a=tc(function(n){var t=s.delay;if(a.t=t+u,t<=n)return h(n-t);a.c=h},0,u=i.time),s=f[r]={tween:new M,time:u,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++f.count)}u8.call=V.call,u8.empty=V.empty,u8.node=V.node,u8.size=V.size,n.transition=function(t,e){return t&&t.transition?u9?t.transition(e):t:n.selection().transition(t)},n.transition.prototype=u8,u8.select=function(n){var t,e,r,i=this.id,u=this.namespace,a=[];n=B(n);for(var o=-1,l=this.length;++o<l;){a.push(t=[]);for(var c=this[o],f=-1,s=c.length;++f<s;)(r=c[f])&&(e=n.call(r,r.__data__,f,o))?("__data__"in r&&(e.__data__=r.__data__),ar(e,f,u,i,r[u][i]),t.push(e)):t.push(null)}return u3(a,u,i)},u8.selectAll=function(n){var t,e,r,i,u,a=this.id,o=this.namespace,l=[];n=Z(n);for(var c=-1,f=this.length;++c<f;)for(var s=this[c],h=-1,p=s.length;++h<p;)if(r=s[h]){u=r[o][a],e=n.call(r,r.__data__,h,c),l.push(t=[]);for(var g=-1,v=e.length;++g<v;)(i=e[g])&&ar(i,g,o,a,u),t.push(i)}return u3(l,o,a)},u8.filter=function(n){var t,e,r,i=[];"function"!=typeof n&&(n=no(n));for(var u=0,a=this.length;u<a;u++){i.push(t=[]);for(var e=this[u],o=0,l=e.length;o<l;o++)(r=e[o])&&n.call(r,r.__data__,o,u)&&t.push(r)}return u3(i,this.namespace,this.id)},u8.tween=function(n,t){var e=this.id,r=this.namespace;return arguments.length<2?this.node()[r][e].tween.get(n):nc(this,null==t?function(t){t[r][e].tween.remove(n)}:function(i){i[r][e].tween.set(n,t)})},u8.attr=function(t,e){if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var r="transform"==t?ib:r7,i=n.ns.qualify(t);function u(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return an(this,"attr."+t,e,i.local?function(n){return null==n?a:(n+="",function(){var t,e=this.getAttributeNS(i.space,i.local);return e!==n&&(t=r(e,n),function(n){this.setAttributeNS(i.space,i.local,t(n))})})}:function(n){return null==n?u:(n+="",function(){var t,e=this.getAttribute(i);return e!==n&&(t=r(e,n),function(n){this.setAttribute(i,t(n))})})})},u8.attrTween=function(t,e){var r=n.ns.qualify(t);return this.tween("attr."+t,r.local?function(n,t){var i=e.call(this,n,t,this.getAttributeNS(r.space,r.local));return i&&function(n){this.setAttributeNS(r.space,r.local,i(n))}}:function(n,t){var i=e.call(this,n,t,this.getAttribute(r));return i&&function(n){this.setAttribute(r,i(n))}})},u8.style=function(n,t,e){var r=arguments.length;if(r<3){if("string"!=typeof n){for(e in r<2&&(t=""),n)this.style(e,n[e],t);return this}e=""}function i(){this.style.removeProperty(n)}return an(this,"style."+n,t,function(t){return null==t?i:(t+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(n);return i!==t&&(r=r7(i,t),function(t){this.style.setProperty(n,r(t),e)})})})},u8.styleTween=function(n,t,e){return arguments.length<3&&(e=""),this.tween("style."+n,function(r,i){var u=t.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(n));return u&&function(t){this.style.setProperty(n,u(t),e)}})},u8.text=function(n){return an(this,"text",n,at)},u8.remove=function(){var n=this.namespace;return this.each("end.transition",function(){var t;this[n].count<2&&(t=this.parentNode)&&t.removeChild(this)})},u8.ease=function(t){var e=this.id,r=this.namespace;return arguments.length<1?this.node()[r][e].ease:("function"!=typeof t&&(t=n.ease.apply(n,arguments)),nc(this,function(n){n[r][e].ease=t}))},u8.delay=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].delay:nc(this,"function"==typeof n?function(r,i,u){r[e][t].delay=+n.call(r,r.__data__,i,u)}:(n=+n,function(r){r[e][t].delay=n}))},u8.duration=function(n){var t=this.id,e=this.namespace;return arguments.length<1?this.node()[e][t].duration:nc(this,"function"==typeof n?function(r,i,u){r[e][t].duration=Math.max(1,n.call(r,r.__data__,i,u))}:(n=Math.max(1,n),function(r){r[e][t].duration=n}))},u8.each=function(t,e){var r=this.id,i=this.namespace;if(arguments.length<2){var u=u4,a=u9;try{u9=r,nc(this,function(n,e,u){u4=n[i][r],t.call(n,n.__data__,e,u)})}finally{u4=u,u9=a}}else nc(this,function(u){var a=u[i][r];(a.event||(a.event=n.dispatch("start","end","interrupt"))).on(t,e)});return this},u8.transition=function(){for(var n,t,e,r,i=this.id,u=++u7,a=this.namespace,o=[],l=0,c=this.length;l<c;l++){o.push(n=[]);for(var t=this[l],f=0,s=t.length;f<s;f++)(e=t[f])&&(r=e[a][i],ar(e,f,a,u,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),n.push(e)}return u3(o,a,u)},n.svg.axis=function(){var t,r=n.scale.linear(),i=ai,u=6,a=6,o=3,l=[10],c=null;function f(e){e.each(function(){var e,f=n.select(this),s=this.__chart__||r,h=this.__chart__=r.copy(),p=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,g=null==t?h.tickFormat?h.tickFormat.apply(h,l):z:t,v=f.selectAll(".tick").data(p,h),d=v.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),y=n.transition(v.exit()).style("opacity",1e-6).remove(),x=n.transition(v.order()).style("opacity",1),m=Math.max(u,0)+o,M=ur(h),b=f.selectAll(".domain").data([0]),_=(b.enter().append("path").attr("class","domain"),n.transition(b));d.append("line"),d.append("text");var w,S,k,N,E=d.select("line"),A=x.select("line"),C=v.select("text").text(g),T=d.select("text"),j=x.select("text"),q="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(e=aa,w="x",k="y",S="x2",N="y2",C.attr("dy",q<0?"0em":".71em").style("text-anchor","middle"),_.attr("d","M"+M[0]+","+q*a+"V0H"+M[1]+"V"+q*a)):(e=ao,w="y",k="x",S="y2",N="x2",C.attr("dy",".32em").style("text-anchor",q<0?"end":"start"),_.attr("d","M"+q*a+","+M[0]+"H0V"+M[1]+"H"+q*a)),E.attr(N,q*u),T.attr(k,q*m),A.attr(S,0).attr(N,q*u),j.attr(w,0).attr(k,q*m),h.rangeBand){var R=h,L=R.rangeBand()/2;s=h=function(n){return R(n)+L}}else s.rangeBand?s=h:y.call(e,h,s);d.call(e,s,h),x.call(e,h,h)})}return f.scale=function(n){return arguments.length?(r=n,f):r},f.orient=function(n){return arguments.length?(i=n in au?n+"":ai,f):i},f.ticks=function(){return arguments.length?(l=e(arguments),f):l},f.tickValues=function(n){return arguments.length?(c=n,f):c},f.tickFormat=function(n){return arguments.length?(t=n,f):t},f.tickSize=function(n){var t=arguments.length;return t?(u=+n,a=+arguments[t-1],f):u},f.innerTickSize=function(n){return arguments.length?(u=+n,f):u},f.outerTickSize=function(n){return arguments.length?(a=+n,f):a},f.tickPadding=function(n){return arguments.length?(o=+n,f):o},f.tickSubdivide=function(){return arguments.length&&f},f};var ai="bottom",au={top:1,right:1,bottom:1,left:1};function aa(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate("+(isFinite(r)?r:e(n))+",0)"})}function ao(n,t,e){n.attr("transform",function(n){var r=t(n);return"translate(0,"+(isFinite(r)?r:e(n))+")"})}n.svg.brush=function(){var t,e,r=D(h,"brushstart","brush","brushend"),i=null,u=null,o=[0,0],l=[0,0],c=!0,f=!0,s=ac[0];function h(t){t.each(function(){var t=n.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",d).on("touchstart.brush",d),e=t.selectAll(".background").data([0]);e.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(s,z);r.exit().remove(),r.enter().append("g").attr("class",function(n){return"resize "+n}).style("cursor",function(n){return al[n]}).append("rect").attr("x",function(n){return/[ew]$/.test(n)?-3:null}).attr("y",function(n){return/^[ns]/.test(n)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",h.empty()?"none":null);var a,o=n.transition(t),l=n.transition(e);i&&(a=ur(i),l.attr("x",a[0]).attr("width",a[1]-a[0]),g(o)),u&&(a=ur(u),l.attr("y",a[0]).attr("height",a[1]-a[0]),v(o)),p(o)})}function p(n){n.selectAll(".resize").attr("transform",function(n){return"translate("+o[+/e$/.test(n)]+","+l[+/^s/.test(n)]+")"})}function g(n){n.select(".extent").attr("x",o[0]),n.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function v(n){n.select(".extent").attr("y",l[0]),n.selectAll(".extent,.e>rect,.w>rect").attr("height",l[1]-l[0])}function d(){var s,d,y=this,x=n.select(n.event.target),m=r.of(y,arguments),M=n.select(y),b=x.datum(),_=!/^(n|s)$/.test(b)&&i,w=!/^(e|w)$/.test(b)&&u,S=x.classed("extent"),k=nx(y),N=n.mouse(y),E=n.select(a(y)).on("keydown.brush",function(){32==n.event.keyCode&&(S||(s=null,N[0]-=o[1],N[1]-=l[1],S=2),L())}).on("keyup.brush",function(){32==n.event.keyCode&&2==S&&(N[0]+=o[1],N[1]+=l[1],S=0,L())});if(n.event.changedTouches?E.on("touchmove.brush",C).on("touchend.brush",j):E.on("mousemove.brush",C).on("mouseup.brush",j),M.interrupt().selectAll("*").interrupt(),S)N[0]=o[0]-N[0],N[1]=l[0]-N[1];else if(b){var A=+/w$/.test(b),z=+/^n/.test(b);d=[o[1-A]-N[0],l[1-z]-N[1]],N[0]=o[A],N[1]=l[z]}else n.event.altKey&&(s=N.slice());function C(){var t=n.mouse(y),e=!1;d&&(t[0]+=d[0],t[1]+=d[1]),S||(n.event.altKey?(s||(s=[(o[0]+o[1])/2,(l[0]+l[1])/2]),N[0]=o[+(t[0]<s[0])],N[1]=l[+(t[1]<s[1])]):s=null),_&&T(t,i,0)&&(g(M),e=!0),w&&T(t,u,1)&&(v(M),e=!0),e&&(p(M),m({type:"brush",mode:S?"move":"resize"}))}function T(n,r,i){var u,a,h=ur(r),p=h[0],g=h[1],v=N[i],d=i?l:o,y=d[1]-d[0];if(S&&(p-=v,g-=y+v),u=(i?f:c)?Math.max(p,Math.min(g,n[i])):n[i],S?a=(u+=v)+y:(s&&(v=Math.max(p,Math.min(g,2*s[i]-u))),v<u?(a=u,u=v):a=v),d[0]!=u||d[1]!=a)return i?e=null:t=null,d[0]=u,d[1]=a,!0}function j(){C(),M.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),n.select("body").style("cursor",null),E.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),k(),m({type:"brushend"})}M.style("pointer-events","none").selectAll(".resize").style("display",null),n.select("body").style("cursor",x.style("cursor")),m({type:"brushstart"}),C()}return h.event=function(i){i.each(function(){var i=r.of(this,arguments),u={x:o,y:l,i:t,j:e},a=this.__chart__||u;this.__chart__=u,u9?n.select(this).transition().each("start.brush",function(){t=a.i,e=a.j,o=a.x,l=a.y,i({type:"brushstart"})}).tween("brush:brush",function(){var n=it(o,u.x),r=it(l,u.y);return t=e=null,function(t){o=u.x=n(t),l=u.y=r(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=u.i,e=u.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},h.x=function(n){return arguments.length?(s=ac[!(i=n)<<1|!u],h):i},h.y=function(n){return arguments.length?(s=ac[!i<<1|!(u=n)],h):u},h.clamp=function(n){return arguments.length?(i&&u?(c=!!n[0],f=!!n[1]):i?c=!!n:u&&(f=!!n),h):i&&u?[c,f]:i?c:u?f:null},h.extent=function(n){var r,a,c,f,s;return arguments.length?(i&&(r=n[0],a=n[1],u&&(r=r[0],a=a[0]),t=[r,a],i.invert&&(r=i(r),a=i(a)),a<r&&(s=r,r=a,a=s),(r!=o[0]||a!=o[1])&&(o=[r,a])),u&&(c=n[0],f=n[1],i&&(c=c[1],f=f[1]),e=[c,f],u.invert&&(c=u(c),f=u(f)),f<c&&(s=c,c=f,f=s),(c!=l[0]||f!=l[1])&&(l=[c,f])),h):(i&&(t?(r=t[0],a=t[1]):(r=o[0],a=o[1],i.invert&&(r=i.invert(r),a=i.invert(a)),a<r&&(s=r,r=a,a=s))),u&&(e?(c=e[0],f=e[1]):(c=l[0],f=l[1],u.invert&&(c=u.invert(c),f=u.invert(f)),f<c&&(s=c,c=f,f=s))),i&&u?[[r,c],[a,f]]:i?[r,a]:u&&[c,f])},h.clear=function(){return h.empty()||(o=[0,0],l=[0,0],t=e=null),h},h.empty=function(){return!!i&&o[0]==o[1]||!!u&&l[0]==l[1]},n.rebind(h,r,"on")};var al={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ac=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],af=tx.format=tB.timeFormat,as=af.utc,ah=as("%Y-%m-%dT%H:%M:%S.%LZ");function ap(n){return n.toISOString()}function ag(t,e,r){function i(n){return t(n)}function u(t,r){var i=(t[1]-t[0])/r,u=n.bisect(ad,i);return u==ad.length?[e.year,us(t.map(function(n){return n/31536e6}),r)[2]]:u?e[i/ad[u-1]<ad[u]/i?u-1:u]:[am,us(t,r)[2]]}return i.invert=function(n){return av(t.invert(n))},i.domain=function(n){return arguments.length?(t.domain(n),i):t.domain().map(av)},i.nice=function(n,t){var e=i.domain(),r=ue(e),a=null==n?u(r,10):"number"==typeof n&&u(r,n);function o(e){return!isNaN(e)&&!n.range(e,av(+e+1),t).length}return a&&(n=a[0],t=a[1]),i.domain(uu(e,t>1?{floor:function(t){for(;o(t=n.floor(t));)t=av(t-1);return t},ceil:function(t){for(;o(t=n.ceil(t));)t=av(+t+1);return t}}:n))},i.ticks=function(n,t){var e=ue(i.domain()),r=null==n?u(e,10):"number"==typeof n?u(e,n):!n.range&&[{range:n},t];return r&&(n=r[0],t=r[1]),n.range(e[0],av(+e[1]+1),t<1?1:t)},i.tickFormat=function(){return r},i.copy=function(){return ag(t.copy(),e,r)},uc(i,t)}function av(n){return new Date(n)}af.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ap:ah,ap.parse=function(n){var t=new Date(n);return isNaN(t)?null:t},ap.toString=ah.toString,tx.second=t_(function(n){return new tm(1e3*Math.floor(n/1e3))},function(n,t){n.setTime(n.getTime()+1e3*Math.floor(t))},function(n){return n.getSeconds()}),tx.seconds=tx.second.range,tx.seconds.utc=tx.second.utc.range,tx.minute=t_(function(n){return new tm(6e4*Math.floor(n/6e4))},function(n,t){n.setTime(n.getTime()+6e4*Math.floor(t))},function(n){return n.getMinutes()}),tx.minutes=tx.minute.range,tx.minutes.utc=tx.minute.utc.range,tx.hour=t_(function(n){var t=n.getTimezoneOffset()/60;return new tm((Math.floor(n/36e5-t)+t)*36e5)},function(n,t){n.setTime(n.getTime()+36e5*Math.floor(t))},function(n){return n.getHours()}),tx.hours=tx.hour.range,tx.hours.utc=tx.hour.utc.range,tx.month=t_(function(n){return(n=tx.day(n)).setDate(1),n},function(n,t){n.setMonth(n.getMonth()+t)},function(n){return n.getMonth()}),tx.months=tx.month.range,tx.months.utc=tx.month.utc.range;var ad=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ay=[[tx.second,1],[tx.second,5],[tx.second,15],[tx.second,30],[tx.minute,1],[tx.minute,5],[tx.minute,15],[tx.minute,30],[tx.hour,1],[tx.hour,3],[tx.hour,6],[tx.hour,12],[tx.day,1],[tx.day,2],[tx.week,1],[tx.month,1],[tx.month,3],[tx.year,1]],ax=af.multi([[".%L",function(n){return n.getMilliseconds()}],[":%S",function(n){return n.getSeconds()}],["%I:%M",function(n){return n.getMinutes()}],["%I %p",function(n){return n.getHours()}],["%a %d",function(n){return n.getDay()&&1!=n.getDate()}],["%b %d",function(n){return 1!=n.getDate()}],["%B",function(n){return n.getMonth()}],["%Y",ef]]),am={range:function(t,e,r){return n.range(Math.ceil(t/r)*r,+e,r).map(av)},floor:z,ceil:z};ay.year=tx.year,tx.scale=function(){return ag(n.scale.linear(),ay,ax)};var aM=ay.map(function(n){return[n[0].utc,n[1]]}),ab=as.multi([[".%L",function(n){return n.getUTCMilliseconds()}],[":%S",function(n){return n.getUTCSeconds()}],["%I:%M",function(n){return n.getUTCMinutes()}],["%I %p",function(n){return n.getUTCHours()}],["%a %d",function(n){return n.getUTCDay()&&1!=n.getUTCDate()}],["%b %d",function(n){return 1!=n.getUTCDate()}],["%B",function(n){return n.getUTCMonth()}],["%Y",ef]]);function a_(n){return JSON.parse(n.responseText)}function aw(n){var t=i.createRange();return t.selectNode(i.body),t.createContextualFragment(n.responseText)}aM.year=tx.year.utc,tx.scale.utc=function(){return ag(n.scale.linear(),aM,ab)},n.text=te(function(n){return n.responseText}),n.json=function(n,t){return tr(n,"application/json",a_,t)},n.html=function(n,t){return tr(n,"text/html",aw,t)},n.xml=te(function(n){return n.responseXML}),"function"==typeof define&&define.amd?(this.d3=n,define(n)):r?r=n:this.d3=n}();var i={};Object.defineProperty(i,"__esModule",{value:!0,configurable:!0}),n(i,"VERSION",()=>u),n(i,"restArguments",()=>S),n(i,"isObject",()=>k),n(i,"isNull",()=>N),n(i,"isUndefined",()=>E),n(i,"isBoolean",()=>A),n(i,"isElement",()=>z),n(i,"isString",()=>T),n(i,"isNumber",()=>j),n(i,"isDate",()=>q),n(i,"isRegExp",()=>R),n(i,"isError",()=>L),n(i,"isSymbol",()=>P),n(i,"isArrayBuffer",()=>D),n(i,"isDataView",()=>B),n(i,"isArray",()=>Z),n(i,"isFunction",()=>F),n(i,"isArguments",()=>J),n(i,"isFinite",()=>G),n(i,"isNaN",()=>K),n(i,"isTypedArray",()=>nu),n(i,"isEmpty",()=>nc),n(i,"isMatch",()=>nf),n(i,"isEqual",()=>ng),n(i,"isMap",()=>nw),n(i,"isWeakMap",()=>nS),n(i,"isSet",()=>nk),n(i,"isWeakSet",()=>nN),n(i,"keys",()=>nl),n(i,"allKeys",()=>nv),n(i,"values",()=>nE),n(i,"pairs",()=>nA),n(i,"invert",()=>nz),n(i,"functions",()=>nC),n(i,"methods",()=>nC),n(i,"extend",()=>nj),n(i,"extendOwn",()=>nq),n(i,"assign",()=>nq),n(i,"defaults",()=>nR),n(i,"create",()=>nP),n(i,"clone",()=>nD),n(i,"tap",()=>nO),n(i,"get",()=>nH),n(i,"has",()=>nY),n(i,"mapObject",()=>nG),n(i,"identity",()=>nV),n(i,"constant",()=>Q),n(i,"noop",()=>nK),n(i,"toPath",()=>nI),n(i,"property",()=>nB),n(i,"propertyOf",()=>nQ),n(i,"matcher",()=>n$),n(i,"matches",()=>n$),n(i,"times",()=>n0),n(i,"random",()=>n1),n(i,"now",()=>n2),n(i,"escape",()=>n3),n(i,"unescape",()=>n9),n(i,"templateSettings",()=>n4),n(i,"template",()=>tr),n(i,"result",()=>ti),n(i,"uniqueId",()=>ta),n(i,"chain",()=>to),n(i,"iteratee",()=>nW),n(i,"partial",()=>tf),n(i,"bind",()=>ts),n(i,"bindAll",()=>tg),n(i,"memoize",()=>tv),n(i,"delay",()=>td),n(i,"defer",()=>ty),n(i,"throttle",()=>tx),n(i,"debounce",()=>tm),n(i,"wrap",()=>tM),n(i,"negate",()=>tb),n(i,"compose",()=>t_),n(i,"after",()=>tw),n(i,"before",()=>tS),n(i,"once",()=>tk),n(i,"findKey",()=>tN),n(i,"findIndex",()=>tA),n(i,"findLastIndex",()=>tz),n(i,"sortedIndex",()=>tC),n(i,"indexOf",()=>tj),n(i,"lastIndexOf",()=>tq),n(i,"find",()=>tR),n(i,"detect",()=>tR),n(i,"findWhere",()=>tL),n(i,"each",()=>tP),n(i,"forEach",()=>tP),n(i,"map",()=>tD),n(i,"collect",()=>tD),n(i,"reduce",()=>tI),n(i,"foldl",()=>tI),n(i,"inject",()=>tI),n(i,"reduceRight",()=>tF),n(i,"foldr",()=>tF),n(i,"filter",()=>tU),n(i,"select",()=>tU),n(i,"reject",()=>tH),n(i,"every",()=>tY),n(i,"all",()=>tY),n(i,"some",()=>tV),n(i,"any",()=>tV),n(i,"contains",()=>t$),n(i,"includes",()=>t$),n(i,"include",()=>t$),n(i,"invoke",()=>tB),n(i,"pluck",()=>tZ),n(i,"where",()=>tX),n(i,"max",()=>tW),n(i,"min",()=>tJ),n(i,"shuffle",()=>t0),n(i,"sample",()=>tQ),n(i,"sortBy",()=>t1),n(i,"groupBy",()=>t5),n(i,"indexBy",()=>t6),n(i,"countBy",()=>t3),n(i,"partition",()=>t9),n(i,"toArray",()=>tK),n(i,"size",()=>t4),n(i,"pick",()=>t7),n(i,"omit",()=>en),n(i,"first",()=>ee),n(i,"head",()=>ee),n(i,"take",()=>ee),n(i,"initial",()=>et),n(i,"last",()=>ei),n(i,"rest",()=>er),n(i,"tail",()=>er),n(i,"drop",()=>er),n(i,"compact",()=>eu),n(i,"flatten",()=>ea),n(i,"without",()=>el),n(i,"uniq",()=>ec),n(i,"unique",()=>ec),n(i,"union",()=>ef),n(i,"intersection",()=>es),n(i,"difference",()=>eo),n(i,"unzip",()=>eh),n(i,"transpose",()=>eh),n(i,"zip",()=>ep),n(i,"object",()=>eg),n(i,"range",()=>ev),n(i,"chunk",()=>ed),n(i,"mixin",()=>ex),n(i,"default",()=>em);var u="1.13.7",a="object"==typeof self&&self.self===self&&self||"object"==typeof t&&t.global===t&&t||Function("return this")()||{},o=Array.prototype,l=Object.prototype,c="undefined"!=typeof Symbol?Symbol.prototype:null,f=o.push,s=o.slice,h=l.toString,p=l.hasOwnProperty,g="undefined"!=typeof ArrayBuffer,v="undefined"!=typeof DataView,d=Array.isArray,y=Object.keys,x=Object.create,m=g&&ArrayBuffer.isView,M=isNaN,b=isFinite,_=!({toString:null}).propertyIsEnumerable("toString"),w=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function S(n,t){return t=null==t?n.length-1:+t,function(){for(var e=Math.max(arguments.length-t,0),r=Array(e),i=0;i<e;i++)r[i]=arguments[i+t];switch(t){case 0:return n.call(this,r);case 1:return n.call(this,arguments[0],r);case 2:return n.call(this,arguments[0],arguments[1],r)}var u=Array(t+1);for(i=0;i<t;i++)u[i]=arguments[i];return u[t]=r,n.apply(this,u)}}function k(n){var t=typeof n;return"function"===t||"object"===t&&!!n}function N(n){return null===n}function E(n){return void 0===n}function A(n){return!0===n||!1===n||"[object Boolean]"===h.call(n)}function z(n){return!!(n&&1===n.nodeType)}function C(n){var t="[object "+n+"]";return function(n){return h.call(n)===t}}var T=C("String"),j=C("Number"),q=C("Date"),R=C("RegExp"),L=C("Error"),P=C("Symbol"),D=C("ArrayBuffer"),O=C("Function"),I=a.document&&a.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof I&&(O=function(n){return"function"==typeof n});var F=O,U=C("Object"),H=v&&(!/\[native code\]/.test(String(DataView))||U(new DataView(new ArrayBuffer(8)))),Y="undefined"!=typeof Map&&U(new Map),V=C("DataView"),B=H?function(n){return null!=n&&F(n.getInt8)&&D(n.buffer)}:V,Z=d||C("Array");function X(n,t){return null!=n&&p.call(n,t)}var W=C("Arguments");!function(){W(arguments)||(W=function(n){return X(n,"callee")})}();var J=W;function G(n){return!P(n)&&b(n)&&!isNaN(parseFloat(n))}function K(n){return j(n)&&M(n)}function Q(n){return function(){return n}}function nn(n){return function(t){var e=n(t);return"number"==typeof e&&e>=0&&e<=0x1fffffffffffff}}function nt(n){return function(t){return null==t?void 0:t[n]}}var ne=nt("byteLength"),nr=nn(ne),ni=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,nu=g?function(n){return m?m(n)&&!B(n):nr(n)&&ni.test(h.call(n))}:Q(!1),na=nt("length");function no(n,t){t=function(n){for(var t={},e=n.length,r=0;r<e;++r)t[n[r]]=!0;return{contains:function(n){return!0===t[n]},push:function(e){return t[e]=!0,n.push(e)}}}(t);var e=w.length,r=n.constructor,i=F(r)&&r.prototype||l,u="constructor";for(X(n,u)&&!t.contains(u)&&t.push(u);e--;)(u=w[e])in n&&n[u]!==i[u]&&!t.contains(u)&&t.push(u)}function nl(n){if(!k(n))return[];if(y)return y(n);var t=[];for(var e in n)X(n,e)&&t.push(e);return _&&no(n,t),t}function nc(n){if(null==n)return!0;var t=na(n);return"number"==typeof t&&(Z(n)||T(n)||J(n))?0===t:0===na(nl(n))}function nf(n,t){var e=nl(t),r=e.length;if(null==n)return!r;for(var i=Object(n),u=0;u<r;u++){var a=e[u];if(t[a]!==i[a]||!(a in i))return!1}return!0}function ns(n){return n instanceof ns?n:this instanceof ns?void(this._wrapped=n):new ns(n)}function nh(n){return new Uint8Array(n.buffer||n,n.byteOffset||0,ne(n))}ns.VERSION=u,ns.prototype.value=function(){return this._wrapped},ns.prototype.valueOf=ns.prototype.toJSON=ns.prototype.value,ns.prototype.toString=function(){return String(this._wrapped)};var np="[object DataView]";function ng(n,t){return function n(t,e,r,i){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return!1;if(t!=t)return e!=e;var u=typeof t;return("function"===u||"object"===u||"object"==typeof e)&&function t(e,r,i,u){e instanceof ns&&(e=e._wrapped),r instanceof ns&&(r=r._wrapped);var a=h.call(e);if(a!==h.call(r))return!1;if(H&&"[object Object]"==a&&B(e)){if(!B(r))return!1;a=np}switch(a){case"[object RegExp]":case"[object String]":return""+e==""+r;case"[object Number]":if(+e!=+e)return+r!=+r;return 0==+e?1/+e==1/r:+e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object Symbol]":return c.valueOf.call(e)===c.valueOf.call(r);case"[object ArrayBuffer]":case np:return t(nh(e),nh(r),i,u)}var o="[object Array]"===a;if(!o&&nu(e)){if(ne(e)!==ne(r))return!1;if(e.buffer===r.buffer&&e.byteOffset===r.byteOffset)return!0;o=!0}if(!o){if("object"!=typeof e||"object"!=typeof r)return!1;var l=e.constructor,f=r.constructor;if(l!==f&&!(F(l)&&l instanceof l&&F(f)&&f instanceof f)&&"constructor"in e&&"constructor"in r)return!1}u=u||[];for(var s=(i=i||[]).length;s--;)if(i[s]===e)return u[s]===r;if(i.push(e),u.push(r),o){if((s=e.length)!==r.length)return!1;for(;s--;)if(!n(e[s],r[s],i,u))return!1}else{var p,g=nl(e);if(s=g.length,nl(r).length!==s)return!1;for(;s--;)if(!(X(r,p=g[s])&&n(e[p],r[p],i,u)))return!1}return i.pop(),u.pop(),!0}(t,e,r,i)}(n,t)}function nv(n){if(!k(n))return[];var t=[];for(var e in n)t.push(e);return _&&no(n,t),t}function nd(n){var t=na(n);return function(e){if(null==e||na(nv(e)))return!1;for(var r=0;r<t;r++)if(!F(e[n[r]]))return!1;return n!==nb||!F(e[ny])}}var ny="forEach",nx=["clear","delete"],nm=["get","has","set"],nM=nx.concat(ny,nm),nb=nx.concat(nm),n_=["add"].concat(nx,ny,"has"),nw=Y?nd(nM):C("Map"),nS=Y?nd(nb):C("WeakMap"),nk=Y?nd(n_):C("Set"),nN=C("WeakSet");function nE(n){for(var t=nl(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=n[t[i]];return r}function nA(n){for(var t=nl(n),e=t.length,r=Array(e),i=0;i<e;i++)r[i]=[t[i],n[t[i]]];return r}function nz(n){for(var t={},e=nl(n),r=0,i=e.length;r<i;r++)t[n[e[r]]]=e[r];return t}function nC(n){var t=[];for(var e in n)F(n[e])&&t.push(e);return t.sort()}function nT(n,t){return function(e){var r=arguments.length;if(t&&(e=Object(e)),r<2||null==e)return e;for(var i=1;i<r;i++)for(var u=arguments[i],a=n(u),o=a.length,l=0;l<o;l++){var c=a[l];t&&void 0!==e[c]||(e[c]=u[c])}return e}}var nj=nT(nv),nq=nT(nl),nR=nT(nv,!0);function nL(n){if(!k(n))return{};if(x)return x(n);var t=function(){};t.prototype=n;var e=new t;return t.prototype=null,e}function nP(n,t){var e=nL(n);return t&&nq(e,t),e}function nD(n){return k(n)?Z(n)?n.slice():nj({},n):n}function nO(n,t){return t(n),n}function nI(n){return Z(n)?n:[n]}function nF(n){return ns.toPath(n)}function nU(n,t){for(var e=t.length,r=0;r<e;r++){if(null==n)return;n=n[t[r]]}return e?n:void 0}function nH(n,t,e){var r=nU(n,nF(t));return E(r)?e:r}function nY(n,t){for(var e=(t=nF(t)).length,r=0;r<e;r++){var i=t[r];if(!X(n,i))return!1;n=n[i]}return!!e}function nV(n){return n}function n$(n){return n=nq({},n),function(t){return nf(t,n)}}function nB(n){return n=nF(n),function(t){return nU(t,n)}}function nZ(n,t,e){if(void 0===t)return n;switch(null==e?3:e){case 1:return function(e){return n.call(t,e)};case 3:return function(e,r,i){return n.call(t,e,r,i)};case 4:return function(e,r,i,u){return n.call(t,e,r,i,u)}}return function(){return n.apply(t,arguments)}}function nX(n,t,e){return null==n?nV:F(n)?nZ(n,t,e):k(n)&&!Z(n)?n$(n):nB(n)}function nW(n,t){return nX(n,t,1/0)}function nJ(n,t,e){return ns.iteratee!==nW?ns.iteratee(n,t):nX(n,t,e)}function nG(n,t,e){t=nJ(t,e);for(var r=nl(n),i=r.length,u={},a=0;a<i;a++){var o=r[a];u[o]=t(n[o],o,n)}return u}function nK(){}function nQ(n){return null==n?nK:function(t){return nH(n,t)}}function n0(n,t,e){var r=Array(Math.max(0,n));t=nZ(t,e,1);for(var i=0;i<n;i++)r[i]=t(i);return r}function n1(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))}ns.toPath=nI,ns.iteratee=nW;var n2=Date.now||function(){return new Date().getTime()};function n5(n){var t=function(t){return n[t]},e="(?:"+nl(n).join("|")+")",r=RegExp(e),i=RegExp(e,"g");return function(n){return n=null==n?"":""+n,r.test(n)?n.replace(i,t):n}}var n6={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n3=n5(n6),n9=n5(nz(n6)),n4=ns.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},n8=/(.)^/,n7={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},tn=/\\|'|\r|\n|\u2028|\u2029/g;function tt(n){return"\\"+n7[n]}var te=/^\s*(\w|\$)+\s*$/;function tr(n,t,e){!t&&e&&(t=e);var r,i=RegExp([((t=nR({},t,ns.templateSettings)).escape||n8).source,(t.interpolate||n8).source,(t.evaluate||n8).source].join("|")+"|$","g"),u=0,a="__p+='";n.replace(i,function(t,e,r,i,o){return a+=n.slice(u,o).replace(tn,tt),u=o+t.length,e?a+="'+\n((__t=("+e+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n";var o=t.variable;if(o){if(!te.test(o))throw Error("variable is not a bare identifier: "+o)}else a="with(obj||{}){\n"+a+"}\n",o="obj";a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=Function(o,"_",a)}catch(n){throw n.source=a,n}var l=function(n){return r.call(this,n,ns)};return l.source="function("+o+"){\n"+a+"}",l}function ti(n,t,e){var r=(t=nF(t)).length;if(!r)return F(e)?e.call(n):e;for(var i=0;i<r;i++){var u=null==n?void 0:n[t[i]];void 0===u&&(u=e,i=r),n=F(u)?u.call(n):u}return n}var tu=0;function ta(n){var t=++tu+"";return n?n+t:t}function to(n){var t=ns(n);return t._chain=!0,t}function tl(n,t,e,r,i){if(!(r instanceof t))return n.apply(e,i);var u=nL(n.prototype),a=n.apply(u,i);return k(a)?a:u}var tc=S(function(n,t){var e=tc.placeholder,r=function(){for(var i=0,u=t.length,a=Array(u),o=0;o<u;o++)a[o]=t[o]===e?arguments[i++]:t[o];for(;i<arguments.length;)a.push(arguments[i++]);return tl(n,r,this,this,a)};return r});tc.placeholder=ns;var tf=tc,ts=S(function(n,t,e){if(!F(n))throw TypeError("Bind must be called on a function");var r=S(function(i){return tl(n,r,t,this,e.concat(i))});return r}),th=nn(na);function tp(n,t,e,r){if(r=r||[],t||0===t){if(t<=0)return r.concat(n)}else t=1/0;for(var i=r.length,u=0,a=na(n);u<a;u++){var o=n[u];if(th(o)&&(Z(o)||J(o))){if(t>1)tp(o,t-1,e,r),i=r.length;else for(var l=0,c=o.length;l<c;)r[i++]=o[l++]}else e||(r[i++]=o)}return r}var tg=S(function(n,t){var e=(t=tp(t,!1,!1)).length;if(e<1)throw Error("bindAll must be passed function names");for(;e--;){var r=t[e];n[r]=ts(n[r],n)}return n});function tv(n,t){var e=function(r){var i=e.cache,u=""+(t?t.apply(this,arguments):r);return X(i,u)||(i[u]=n.apply(this,arguments)),i[u]};return e.cache={},e}var td=S(function(n,t,e){return setTimeout(function(){return n.apply(null,e)},t)}),ty=tf(td,ns,1);function tx(n,t,e){var r,i,u,a,o=0;e||(e={});var l=function(){o=!1===e.leading?0:n2(),r=null,a=n.apply(i,u),r||(i=u=null)},c=function(){var c=n2();o||!1!==e.leading||(o=c);var f=t-(c-o);return i=this,u=arguments,f<=0||f>t?(r&&(clearTimeout(r),r=null),o=c,a=n.apply(i,u),r||(i=u=null)):r||!1===e.trailing||(r=setTimeout(l,f)),a};return c.cancel=function(){clearTimeout(r),o=0,r=i=u=null},c}function tm(n,t,e){var r,i,u,a,o,l=function(){var c=n2()-i;t>c?r=setTimeout(l,t-c):(r=null,e||(a=n.apply(o,u)),r||(u=o=null))},c=S(function(c){return o=this,u=c,i=n2(),!r&&(r=setTimeout(l,t),e&&(a=n.apply(o,u))),a});return c.cancel=function(){clearTimeout(r),r=u=o=null},c}function tM(n,t){return tf(t,n)}function tb(n){return function(){return!n.apply(this,arguments)}}function t_(){var n=arguments,t=n.length-1;return function(){for(var e=t,r=n[t].apply(this,arguments);e--;)r=n[e].call(this,r);return r}}function tw(n,t){return function(){if(--n<1)return t.apply(this,arguments)}}function tS(n,t){var e;return function(){return--n>0&&(e=t.apply(this,arguments)),n<=1&&(t=null),e}}var tk=tf(tS,2);function tN(n,t,e){t=nJ(t,e);for(var r,i=nl(n),u=0,a=i.length;u<a;u++)if(t(n[r=i[u]],r,n))return r}function tE(n){return function(t,e,r){e=nJ(e,r);for(var i=na(t),u=n>0?0:i-1;u>=0&&u<i;u+=n)if(e(t[u],u,t))return u;return -1}}var tA=tE(1),tz=tE(-1);function tC(n,t,e,r){for(var i=(e=nJ(e,r,1))(t),u=0,a=na(n);u<a;){var o=Math.floor((u+a)/2);e(n[o])<i?u=o+1:a=o}return u}function tT(n,t,e){return function(r,i,u){var a=0,o=na(r);if("number"==typeof u)n>0?a=u>=0?u:Math.max(u+o,a):o=u>=0?Math.min(u+1,o):u+o+1;else if(e&&u&&o)return u=e(r,i),r[u]===i?u:-1;if(i!=i)return(u=t(s.call(r,a,o),K))>=0?u+a:-1;for(u=n>0?a:o-1;u>=0&&u<o;u+=n)if(r[u]===i)return u;return -1}}var tj=tT(1,tA,tC),tq=tT(-1,tz);function tR(n,t,e){var r=(th(n)?tA:tN)(n,t,e);if(void 0!==r&&-1!==r)return n[r]}function tL(n,t){return tR(n,n$(t))}function tP(n,t,e){if(t=nZ(t,e),th(n))for(r=0,i=n.length;r<i;r++)t(n[r],r,n);else{var r,i,u=nl(n);for(r=0,i=u.length;r<i;r++)t(n[u[r]],u[r],n)}return n}function tD(n,t,e){t=nJ(t,e);for(var r=!th(n)&&nl(n),i=(r||n).length,u=Array(i),a=0;a<i;a++){var o=r?r[a]:a;u[a]=t(n[o],o,n)}return u}function tO(n){var t=function(t,e,r,i){var u=!th(t)&&nl(t),a=(u||t).length,o=n>0?0:a-1;for(i||(r=t[u?u[o]:o],o+=n);o>=0&&o<a;o+=n){var l=u?u[o]:o;r=e(r,t[l],l,t)}return r};return function(n,e,r,i){var u=arguments.length>=3;return t(n,nZ(e,i,4),r,u)}}var tI=tO(1),tF=tO(-1);function tU(n,t,e){var r=[];return t=nJ(t,e),tP(n,function(n,e,i){t(n,e,i)&&r.push(n)}),r}function tH(n,t,e){return tU(n,tb(nJ(t)),e)}function tY(n,t,e){t=nJ(t,e);for(var r=!th(n)&&nl(n),i=(r||n).length,u=0;u<i;u++){var a=r?r[u]:u;if(!t(n[a],a,n))return!1}return!0}function tV(n,t,e){t=nJ(t,e);for(var r=!th(n)&&nl(n),i=(r||n).length,u=0;u<i;u++){var a=r?r[u]:u;if(t(n[a],a,n))return!0}return!1}function t$(n,t,e,r){return th(n)||(n=nE(n)),("number"!=typeof e||r)&&(e=0),tj(n,t,e)>=0}var tB=S(function(n,t,e){var r,i;return F(t)?i=t:(r=(t=nF(t)).slice(0,-1),t=t[t.length-1]),tD(n,function(n){var u=i;if(!u){if(r&&r.length&&(n=nU(n,r)),null==n)return;u=n[t]}return null==u?u:u.apply(n,e)})});function tZ(n,t){return tD(n,nB(t))}function tX(n,t){return tU(n,n$(t))}function tW(n,t,e){var r,i,u=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof n[0]&&null!=n){n=th(n)?n:nE(n);for(var o=0,l=n.length;o<l;o++)null!=(r=n[o])&&r>u&&(u=r)}else t=nJ(t,e),tP(n,function(n,e,r){((i=t(n,e,r))>a||i===-1/0&&u===-1/0)&&(u=n,a=i)});return u}function tJ(n,t,e){var r,i,u=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof n[0]&&null!=n){n=th(n)?n:nE(n);for(var o=0,l=n.length;o<l;o++)null!=(r=n[o])&&r<u&&(u=r)}else t=nJ(t,e),tP(n,function(n,e,r){((i=t(n,e,r))<a||i===1/0&&u===1/0)&&(u=n,a=i)});return u}var tG=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function tK(n){return n?Z(n)?s.call(n):T(n)?n.match(tG):th(n)?tD(n,nV):nE(n):[]}function tQ(n,t,e){if(null==t||e)return th(n)||(n=nE(n)),n[n1(n.length-1)];var r=tK(n),i=na(r);t=Math.max(Math.min(t,i),0);for(var u=i-1,a=0;a<t;a++){var o=n1(a,u),l=r[a];r[a]=r[o],r[o]=l}return r.slice(0,t)}function t0(n){return tQ(n,1/0)}function t1(n,t,e){var r=0;return t=nJ(t,e),tZ(tD(n,function(n,e,i){return{value:n,index:r++,criteria:t(n,e,i)}}).sort(function(n,t){var e=n.criteria,r=t.criteria;if(e!==r){if(e>r||void 0===e)return 1;if(e<r||void 0===r)return -1}return n.index-t.index}),"value")}function t2(n,t){return function(e,r,i){var u=t?[[],[]]:{};return r=nJ(r,i),tP(e,function(t,i){var a=r(t,i,e);n(u,t,a)}),u}}var t5=t2(function(n,t,e){X(n,e)?n[e].push(t):n[e]=[t]}),t6=t2(function(n,t,e){n[e]=t}),t3=t2(function(n,t,e){X(n,e)?n[e]++:n[e]=1}),t9=t2(function(n,t,e){n[e?0:1].push(t)},!0);function t4(n){return null==n?0:th(n)?n.length:nl(n).length}function t8(n,t,e){return t in e}var t7=S(function(n,t){var e={},r=t[0];if(null==n)return e;F(r)?(t.length>1&&(r=nZ(r,t[1])),t=nv(n)):(r=t8,t=tp(t,!1,!1),n=Object(n));for(var i=0,u=t.length;i<u;i++){var a=t[i],o=n[a];r(o,a,n)&&(e[a]=o)}return e}),en=S(function(n,t){var e,r=t[0];return F(r)?(r=tb(r),t.length>1&&(e=t[1])):(t=tD(tp(t,!1,!1),String),r=function(n,e){return!t$(t,e)}),t7(n,r,e)});function et(n,t,e){return s.call(n,0,Math.max(0,n.length-(null==t||e?1:t)))}function ee(n,t,e){return null==n||n.length<1?null==t||e?void 0:[]:null==t||e?n[0]:et(n,n.length-t)}function er(n,t,e){return s.call(n,null==t||e?1:t)}function ei(n,t,e){return null==n||n.length<1?null==t||e?void 0:[]:null==t||e?n[n.length-1]:er(n,Math.max(0,n.length-t))}function eu(n){return tU(n,Boolean)}function ea(n,t){return tp(n,t,!1)}var eo=S(function(n,t){return t=tp(t,!0,!0),tU(n,function(n){return!t$(t,n)})}),el=S(function(n,t){return eo(n,t)});function ec(n,t,e,r){A(t)||(r=e,e=t,t=!1),null!=e&&(e=nJ(e,r));for(var i=[],u=[],a=0,o=na(n);a<o;a++){var l=n[a],c=e?e(l,a,n):l;t&&!e?(a&&u===c||i.push(l),u=c):e?t$(u,c)||(u.push(c),i.push(l)):t$(i,l)||i.push(l)}return i}var ef=S(function(n){return ec(tp(n,!0,!0))});function es(n){for(var t=[],e=arguments.length,r=0,i=na(n);r<i;r++){var u,a=n[r];if(!t$(t,a)){for(u=1;u<e&&t$(arguments[u],a);u++);u===e&&t.push(a)}}return t}function eh(n){for(var t=n&&tW(n,na).length||0,e=Array(t),r=0;r<t;r++)e[r]=tZ(n,r);return e}var ep=S(eh);function eg(n,t){for(var e={},r=0,i=na(n);r<i;r++)t?e[n[r]]=t[r]:e[n[r][0]]=n[r][1];return e}function ev(n,t,e){null==t&&(t=n||0,n=0),e||(e=t<n?-1:1);for(var r=Math.max(Math.ceil((t-n)/e),0),i=Array(r),u=0;u<r;u++,n+=e)i[u]=n;return i}function ed(n,t){if(null==t||t<1)return[];for(var e=[],r=0,i=n.length;r<i;)e.push(s.call(n,r,r+=t));return e}function ey(n,t){return n._chain?ns(t).chain():t}function ex(n){return tP(nC(n),function(t){var e=ns[t]=n[t];ns.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),ey(this,e.apply(ns,n))}}),ns}tP(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];ns.prototype[n]=function(){var e=this._wrapped;return null!=e&&(t.apply(e,arguments),("shift"===n||"splice"===n)&&0===e.length&&delete e[0]),ey(this,e)}}),tP(["concat","join","slice"],function(n){var t=o[n];ns.prototype[n]=function(){var n=this._wrapped;return null!=n&&(n=t.apply(n,arguments)),ey(this,n)}});var em=ns,eM=ex(i);eM._=eM;let eb={};function e_(n){let t=n.dataset_groups,e=n.dataset_id;console.debug("tabular-datasets::_fillFromCache() - Filling request from cache.");let r=0;t.each(n=>{eM.each(n.get("__data_columns"),(t,i)=>{let u=eb[ew(e,n.get(i))];u&&(r=Math.max(r,u.length))})}),0===r&&(console.debug("tabular-datasets::_fillFromCache() - No data available."),n.chart&&n.chart.state("failed","No data available."));let i=[];t.each((n,t)=>{var e,u;let a=(e={key:`${t}:${n.get("key")}`,values:[]},u=n.attributes,e?eM.defaults(e,u):u);for(let n=0;n<r;n++)a.values[n]={x:parseInt(n)};i.push(a)}),t.each((n,t)=>{let u=i[t].values;eM.each(n.get("__data_columns"),({is_label:t},i)=>{let a=n.get(i);switch(a){case"auto":for(let n=0;n<r;n++)u[n][i]=parseInt(n);break;case"zero":for(let n=0;n<r;n++)u[n][i]=0;break;default:let o=eb[ew(e,a)];for(let n=0;n<r;n++){let e=u[n],r=o[n];isNaN(r)&&!t&&(r=0),e[i]=r}}})}),n.success(i)}function ew(n,t){return`${n}__${t}`}window.d3=r,window.bundleEntries=window.bundleEntries||{},window.bundleEntries.load=function(n){!function(n){let t=n.dataset_groups,e=n.dataset_id,r=n.root,i=[];if(t.each(n=>{eM.each(n.get("__data_columns"),(t,r)=>{let u=n.get(r),a=ew(e,u);i.includes(u)||eb[a]||"auto"==u||"zero"==u||void 0===u||i.push(u)})}),0===i.length){e_(n);return}!function(n){top.__utils__get__=top.__utils__get__||{};let t=JSON.stringify(n);n.cache&&top.__utils__get__[t]?(n.success&&n.success(top.__utils__get__[t]),window.console.debug(`get() - Fetching from cache [${n.url}].`)):function(n){let t={contentType:"application/json",type:n.type||"GET",data:n.data||{},url:n.url};"GET"==t.type||"DELETE"==t.type?($.isEmptyObject(t.data)||(t.url+=t.url.includes("?")?"&":"?",t.url+=$.param(t.data,!0)),t.data=null):(t.dataType="json",t.data=JSON.stringify(t.data)),$.ajax(t).done(t=>{if("string"==typeof t)try{t=t.replace("Infinity,",'"Infinity",'),t=$.parseJSON(t)}catch(n){console.debug(n)}n.success&&n.success(t)}).fail(({responseText:t,status:e})=>{let r=null;try{r=$.parseJSON(t)}catch(n){r=t}n.error&&n.error(r,e)}).always(()=>{n.complete&&n.complete()})}({url:n.url,data:n.data,success(e){top.__utils__get__[t]=e,n.success&&n.success(e)},error(t,e){n.error&&n.error(t,e)}})}({url:`${r}api/datasets/${e}`,data:{data_type:"raw_data",provider:"dataset-column",indeces:i.toString()},success({data:t}){let r=i.length,u=Array(r);for(let n=0;n<u.length;n++)u[n]=[];for(let n in t){let e=t[n];for(let n in e){let t=e[n];void 0!==t&&0x7fffffff!=t&&n<r&&u[n].push(t)}}for(let n in console.debug("tabular-datasets::_fetch() - Fetching complete."),u)eb[ew(e,i[n])]=u[n];e_(n)}})}({root:n.root,chart:n.chart,dataset_id:n.chart.get("dataset_id"),dataset_groups:n.chart.groups,success:function(t){var i=[],u=[],a={},o=[];eM.each(t,function(n,t){var e={};eM.each(n.values,function(n){a[n.observation]=e[n.observation]=!0}),i.push(n.key),u.push(e),o.push(t)});var l=[];!function n(t,e,r){eM.each(e,function(i,u){var a=t.slice(),o=e.slice();o.splice(0,u+1),a.push(i),r.push(a),n(a,o,r)})}([],o,l);var c=[];eM.each(l,function(n){var t=0;for(var e in a){var r=0;eM.each(n,function(n){u[n][e]&&r++}),r==n.length&&t++}if(t>0){var o=[];eM.each(n,function(n){o.push(i[n])}),c.push({sets:o,size:t})}}),$("#"+n.target).append("<svg/>").attr("id","svg-"+n.target).css("height","100%").css("width","100%");var f=r.select("#svg-"+n.target).datum(c).call(e.VennDiagram()),s=null;f.selectAll("g").on("mouseover",function(n,t){e.sortAreas(f,n),(s=r.select("body").append("div").attr("class","venntooltip")).transition().duration(400).style("opacity",.9),s.text(n.size),r.select(this).transition("tooltip").duration(400).select("path").style("stroke-width",3).style("fill-opacity",1==n.sets.length?.4:.1).style("stroke-opacity",1)}).on("mousemove",function(){s.style("left",r.event.pageX+"px").style("top",r.event.pageY-28+"px")}).on("mouseout",function(n,t){s.remove()}),n.chart.state("ok","Venn diagram drawn."),n.process.resolve()}})}})();
//# sourceMappingURL=script.js.map
