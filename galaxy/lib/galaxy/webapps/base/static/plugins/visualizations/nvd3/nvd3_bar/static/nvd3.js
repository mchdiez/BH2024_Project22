(()=>{function t(t){Object.defineProperty(t,"__esModule",{value:!0,configurable:!0})}function e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var n,r=globalThis,i={},o={},a=r.parcelRequire1837;null==a&&((a=function(t){if(t in i)return i[t].exports;if(t in o){var e=o[t];delete o[t];var n={id:t,exports:{}};return i[t]=n,e.call(n.exports,n,n.exports),n.exports}var r=Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(t,e){o[t]=e},r.parcelRequire1837=a);var u=a.register;u("lOpWt",function(t,e){!function(){var e={version:"3.5.17"},n=[].slice,r=function(t){return n.call(t)},i=this.document;function o(t){return t&&(t.ownerDocument||t.document||t).documentElement}function a(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}if(i)try{r(i.documentElement.childNodes)[0].nodeType}catch(t){r=function(t){for(var e=t.length,n=Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement("DIV").style.setProperty("opacity",0,"")}catch(t){var u=this.Element.prototype,s=u.setAttribute,l=u.setAttributeNS,c=this.CSSStyleDeclaration.prototype,f=c.setProperty;u.setAttribute=function(t,e){s.call(this,t,e+"")},u.setAttributeNS=function(t,e,n){l.call(this,t,e,n+"")},c.setProperty=function(t,e,n){f.call(this,t,e+"",n)}}function d(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function h(t){return null===t?NaN:+t}function p(t){return!isNaN(t)}function g(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;0>t(e[o],n)?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}e.ascending=d,e.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},e.min=function(t,e){var n,r,i=-1,o=t.length;if(1==arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},e.max=function(t,e){var n,r,i=-1,o=t.length;if(1==arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},e.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1==arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},e.sum=function(t,e){var n,r=0,i=t.length,o=-1;if(1==arguments.length)for(;++o<i;)p(n=+t[o])&&(r+=n);else for(;++o<i;)p(n=+e.call(t,t[o],o))&&(r+=n);return r},e.mean=function(t,e){var n,r=0,i=t.length,o=-1,a=i;if(1==arguments.length)for(;++o<i;)p(n=h(t[o]))?r+=n:--a;else for(;++o<i;)p(n=h(e.call(t,t[o],o)))?r+=n:--a;if(a)return r/a},e.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},e.median=function(t,n){var r,i=[],o=t.length,a=-1;if(1==arguments.length)for(;++a<o;)p(r=h(t[a]))&&i.push(r);else for(;++a<o;)p(r=h(n.call(t,t[a],a)))&&i.push(r);if(i.length)return e.quantile(i.sort(d),.5)},e.variance=function(t,e){var n,r,i=t.length,o=0,a=0,u=-1,s=0;if(1==arguments.length)for(;++u<i;)p(n=h(t[u]))&&(r=n-o,o+=r/++s,a+=r*(n-o));else for(;++u<i;)p(n=h(e.call(t,t[u],u)))&&(r=n-o,o+=r/++s,a+=r*(n-o));if(s>1)return a/(s-1)},e.deviation=function(){var t=e.variance.apply(this,arguments);return t?Math.sqrt(t):t};var v=g(d);function m(t){return t.length}e.bisectLeft=v.left,e.bisect=e.bisectRight=v.right,e.bisector=function(t){return g(1===t.length?function(e,n){return d(t(e),n)}:t)},e.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,o<2&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},e.permute=function(t,e){for(var n=e.length,r=Array(n);n--;)r[n]=t[e[n]];return r},e.pairs=function(t){for(var e=0,n=t.length-1,r=t[0],i=Array(n<0?0:n);e<n;)i[e]=[r,r=t[++e]];return i},e.transpose=function(t){if(!(o=t.length))return[];for(var n=-1,r=e.min(t,m),i=Array(r);++n<r;)for(var o,a=-1,u=i[n]=Array(o);++a<o;)u[a]=t[a][n];return i},e.zip=function(){return e.transpose(arguments)},e.keys=function(t){var e=[];for(var n in t)e.push(n);return e},e.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},e.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},e.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=Array(a);--i>=0;)for(e=(r=t[i]).length;--e>=0;)n[--a]=r[e];return n};var y=Math.abs;function x(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function b(){this._=Object.create(null)}function k(t){return"__proto__"==(t+="")||"\0"===t[0]?"\0"+t:t}function w(t){return"\0"===(t+="")[0]?t.slice(1):t}function M(t){return k(t)in this._}function A(t){return(t=k(t))in this._&&delete this._[t]}function _(){var t=[];for(var e in this._)t.push(w(e));return t}function E(){var t=0;for(var e in this._)++t;return t}function S(){for(var t in this._)return!1;return!0}function C(){this._=Object.create(null)}function N(t){return t}function T(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=D.length;n<r;++n){var i=D[n]+e;if(i in t)return i}}e.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n==1/0)throw Error("infinite range");var r,i=[],o=function(t){for(var e=1;t*e%1;)e*=10;return e}(y(n)),a=-1;if(t*=o,e*=o,(n*=o)<0)for(;(r=t+n*++a)>e;)i.push(r/o);else for(;(r=t+n*++a)<e;)i.push(r/o);return i},e.map=function(t,e){var n=new b;if(t instanceof b)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1==arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n},x(b,{has:M,get:function(t){return this._[k(t)]},set:function(t,e){return this._[k(t)]=e},remove:A,keys:_,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:w(e),value:this._[e]});return t},size:E,empty:S,forEach:function(t){for(var e in this._)t.call(this,w(e),this._[e])}}),e.nest=function(){var t,n,r={},i=[],o=[];function a(e,o,u){if(u>=i.length)return n?n.call(r,o):t?o.sort(t):o;for(var s,l,c,f,d=-1,h=o.length,p=i[u++],g=new b;++d<h;)(f=g.get(s=p(l=o[d])))?f.push(l):g.set(s,[l]);return e?(l=e(),c=function(t,n){l.set(t,a(e,n,u))}):(l={},c=function(t,n){l[t]=a(e,n,u)}),g.forEach(c),l}return r.map=function(t,e){return a(e,t,0)},r.entries=function(t){return function t(e,n){if(n>=i.length)return e;var r=[],a=o[n++];return e.forEach(function(e,i){r.push({key:e,values:t(i,n)})}),a?r.sort(function(t,e){return a(t.key,e.key)}):r}(a(e.map,t,0),0)},r.key=function(t){return i.push(t),r},r.sortKeys=function(t){return o[i.length-1]=t,r},r.sortValues=function(e){return t=e,r},r.rollup=function(t){return n=t,r},r},e.set=function(t){var e=new C;if(t)for(var n=0,r=t.length;n<r;++n)e.add(t[n]);return e},x(C,{has:M,add:function(t){return this._[k(t+="")]=!0,t},remove:A,values:_,size:E,empty:S,forEach:function(t){for(var e in this._)t.call(this,w(e))}}),e.behavior={},e.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=function(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}(t,e,e[n]);return t};var D=["webkit","ms","moz","Moz","o","O"];function j(){}function F(){}function O(t){var e=[],n=new b;function r(){for(var n,r=e,i=-1,o=r.length;++i<o;)(n=r[i].on)&&n.apply(this,arguments);return t}return r.on=function(r,i){var o,a=n.get(r);return arguments.length<2?a&&a.on:(a&&(a.on=null,e=e.slice(0,o=e.indexOf(a)).concat(e.slice(o+1)),n.remove(r)),i&&e.push(n.set(r,{on:i})),t)},r}function L(){e.event.preventDefault()}function P(){for(var t,n=e.event;t=n.sourceEvent;)n=t;return n}function W(t){for(var n=new F,r=0,i=arguments.length;++r<i;)n[arguments[r]]=O(n);return n.of=function(r,i){return function(o){try{var a=o.sourceEvent=e.event;o.target=t,e.event=o,n[o.type].apply(r,i)}finally{e.event=a}}},n}e.dispatch=function(){for(var t=new F,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=O(t);return t},F.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2==arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},e.event=null,e.requote=function(t){return t.replace(I,"\\$&")};var I=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,z={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]};function H(t){return z(t,V),t}var R=function(t,e){return e.querySelector(t)},B=function(t,e){return e.querySelectorAll(t)},q=function(t,e){var n=t.matches||t[T(t,"matchesSelector")];return(q=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(R=function(t,e){return Sizzle(t,e)[0]||null},B=Sizzle,q=Sizzle.matchesSelector),e.selection=function(){return e.select(i.documentElement)};var V=e.selection.prototype=[];function U(t){return"function"==typeof t?t:function(){return R(t,this)}}function G(t){return"function"==typeof t?t:function(){return B(t,this)}}V.select=function(t){var e,n,r,i,o=[];t=U(t);for(var a=-1,u=this.length;++a<u;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var s=-1,l=r.length;++s<l;)(i=r[s])?(e.push(n=t.call(i,i.__data__,s,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return H(o)},V.selectAll=function(t){var e,n,i=[];t=G(t);for(var o=-1,a=this.length;++o<a;)for(var u=this[o],s=-1,l=u.length;++s<l;)(n=u[s])&&(i.push(e=r(t.call(n,n.__data__,s,o))),e.parentNode=n);return H(i)};var Y="http://www.w3.org/1999/xhtml",X={svg:"http://www.w3.org/2000/svg",xhtml:Y,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Z(t,n){return t=e.ns.qualify(t),null==n?t.local?function(){this.removeAttributeNS(t.space,t.local)}:function(){this.removeAttribute(t)}:"function"==typeof n?t.local?function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}:function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}:t.local?function(){this.setAttributeNS(t.space,t.local,n)}:function(){this.setAttribute(t,n)}}function J(t){return t.trim().replace(/\s+/g," ")}function Q(t){return RegExp("(?:^|\\s+)"+e.requote(t)+"(?:\\s+|$)","g")}function K(t){return(t+"").trim().split(/^|\s+/)}function tt(t,e){var n=(t=K(t).map(te)).length;return"function"==typeof e?function(){for(var r=-1,i=e.apply(this,arguments);++r<n;)t[r](this,i)}:function(){for(var r=-1;++r<n;)t[r](this,e)}}function te(t){var e=Q(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",J(i+" "+t))):n.setAttribute("class",J(i.replace(e," ")))}}function tn(t,e,n){return null==e?function(){this.style.removeProperty(t)}:"function"==typeof e?function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}:function(){this.style.setProperty(t,e,n)}}function tr(t,e){return null==e?function(){delete this[t]}:"function"==typeof e?function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}:function(){this[t]=e}}function ti(t){return"function"==typeof t?t:(t=e.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Y&&e.documentElement.namespaceURI===Y?e.createElement(t):e.createElementNS(n,t)}}function to(){var t=this.parentNode;t&&t.removeChild(this)}function ta(t){return{__data__:t}}function tu(t){return function(){return q(this,t)}}function ts(t){return arguments.length||(t=d),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function tl(t,e){for(var n=0,r=t.length;n<r;n++)for(var i,o=t[n],a=0,u=o.length;a<u;a++)(i=o[a])&&e(i,a,n);return t}function tc(t){return z(t,tf),t}e.ns={prefix:X,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),X.hasOwnProperty(n)?{space:X[n],local:t}:t}},V.attr=function(t,n){if(arguments.length<2){if("string"==typeof t){var r=this.node();return(t=e.ns.qualify(t)).local?r.getAttributeNS(t.space,t.local):r.getAttribute(t)}for(n in t)this.each(Z(n,t[n]));return this}return this.each(Z(t,n))},V.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=K(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!Q(t[i]).test(e))return!1;return!0}for(e in t)this.each(tt(e,t[e]));return this}return this.each(tt(t,e))},V.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.each(tn(n,t[n],e));return this}if(r<2){var i=this.node();return a(i).getComputedStyle(i,null).getPropertyValue(t)}n=""}return this.each(tn(t,e,n))},V.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(tr(e,t[e]));return this}return this.each(tr(t,e))},V.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},V.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},V.append=function(t){return t=ti(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},V.insert=function(t,e){return t=ti(t),e=U(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},V.remove=function(){return this.each(to)},V.data=function(t,e){var n,r,i=-1,o=this.length;if(!arguments.length){for(t=Array(o=(n=this[0]).length);++i<o;)(r=n[i])&&(t[i]=r.__data__);return t}function a(t,n){var r,i,o,a=t.length,c=n.length,f=Math.min(a,c),d=Array(c),h=Array(c),p=Array(a);if(e){var g,v=new b,m=Array(a);for(r=-1;++r<a;)(i=t[r])&&(v.has(g=e.call(i,i.__data__,r))?p[r]=i:v.set(g,i),m[r]=g);for(r=-1;++r<c;)(i=v.get(g=e.call(n,o=n[r],r)))?!0!==i&&(d[r]=i,i.__data__=o):h[r]=ta(o),v.set(g,!0);for(r=-1;++r<a;)r in m&&!0!==v.get(m[r])&&(p[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],o=n[r],i?(i.__data__=o,d[r]=i):h[r]=ta(o);for(;r<c;++r)h[r]=ta(n[r]);for(;r<a;++r)p[r]=t[r]}h.update=d,h.parentNode=d.parentNode=p.parentNode=t.parentNode,u.push(h),s.push(d),l.push(p)}var u=tc([]),s=H([]),l=H([]);if("function"==typeof t)for(;++i<o;)a(n=this[i],t.call(n,n.parentNode.__data__,i));else for(;++i<o;)a(n=this[i],t);return s.enter=function(){return u},s.exit=function(){return l},s},V.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},V.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=tu(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var u=0,s=n.length;u<s;u++)(r=n[u])&&t.call(r,r.__data__,u,o)&&e.push(r)}return H(i)},V.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},V.sort=function(t){t=ts.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},V.each=function(t){return tl(this,function(e,n,r){t.call(e,e.__data__,n,r)})},V.call=function(t){var e=r(arguments);return t.apply(e[0]=this,e),this},V.empty=function(){return!this.node()},V.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],r=0,i=n.length;r<i;r++){var o=n[r];if(o)return o}return null},V.size=function(){var t=0;return tl(this,function(){++t}),t};var tf=[];function td(t,n,i){var o="__on"+t,a=t.indexOf("."),u=tp;a>0&&(t=t.slice(0,a));var s=th.get(t);function l(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}return s&&(t=s,u=tg),a?n?function(){var e=u(n,r(arguments));l.call(this),this.addEventListener(t,this[o]=e,e.$=i),e._=n}:l:n?j:function(){var n,r=RegExp("^__on([^.]+)"+e.requote(t)+"$");for(var i in this)if(n=i.match(r)){var o=this[i];this.removeEventListener(n[1],o,o.$),delete this[i]}}}e.selection.enter=tc,e.selection.enter.prototype=tf,tf.append=V.append,tf.empty=V.empty,tf.node=V.node,tf.call=V.call,tf.size=V.size,tf.select=function(t){for(var e,n,r,i,o,a=[],u=-1,s=this.length;++u<s;){r=(i=this[u]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var l=-1,c=i.length;++l<c;)(o=i[l])?(e.push(r[l]=n=t.call(i.parentNode,o.__data__,l,u)),n.__data__=o.__data__):e.push(null)}return H(a)},tf.insert=function(t,e){var n,r,i;return arguments.length<2&&(n=this,e=function(t,e,o){var a,u=n[o].update,s=u.length;for(o!=i&&(i=o,r=0),e>=r&&(r=e+1);!(a=u[r])&&++r<s;);return a}),V.insert.call(this,t,e)},e.select=function(t){var e;return"string"==typeof t?(e=[R(t,i)]).parentNode=i.documentElement:(e=[t]).parentNode=o(t),H([e])},e.selectAll=function(t){var e;return"string"==typeof t?(e=r(B(t,i))).parentNode=i.documentElement:(e=r(t)).parentNode=null,H([e])},V.on=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=!1),t)this.each(td(n,t[n],e));return this}if(r<2)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(td(t,e,n))};var th=e.map({mouseenter:"mouseover",mouseleave:"mouseout"});function tp(t,n){return function(r){var i=e.event;e.event=r,n[0]=this.__data__;try{t.apply(this,n)}finally{e.event=i}}}function tg(t,e){var n=tp(t,e);return function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}i&&th.forEach(function(t){"on"+t in i&&th.remove(t)});var tv,tm=0;function ty(t){var n=".dragsuppress-"+ ++tm,r="click"+n,i=e.select(a(t)).on("touchmove"+n,L).on("dragstart"+n,L).on("selectstart"+n,L);if(null==tv&&(tv=!("onselectstart"in t)&&T(t.style,"userSelect")),tv){var u=o(t).style,s=u[tv];u[tv]="none"}return function(t){if(i.on(n,null),tv&&(u[tv]=s),t){var e=function(){i.on(r,null)};i.on(r,function(){L(),e()},!0),setTimeout(e,0)}}}e.mouse=function(t){return tb(t,P())};var tx=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function tb(t,n){n.changedTouches&&(n=n.changedTouches[0]);var r=t.ownerSVGElement||t;if(r.createSVGPoint){var i=r.createSVGPoint();if(tx<0){var o=a(t);if(o.scrollX||o.scrollY){var u=(r=e.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();tx=!(u.f||u.e),r.remove()}}return tx?(i.x=n.pageX,i.y=n.pageY):(i.x=n.clientX,i.y=n.clientY),[(i=i.matrixTransform(t.getScreenCTM().inverse())).x,i.y]}var s=t.getBoundingClientRect();return[n.clientX-s.left-t.clientLeft,n.clientY-s.top-t.clientTop]}function tk(){return e.event.changedTouches[0].identifier}e.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=P().changedTouches),e){for(var r,i=0,o=e.length;i<o;++i)if((r=e[i]).identifier===n)return tb(t,r)}},e.behavior.drag=function(){var t=W(o,"drag","dragstart","dragend"),n=null,r=u(j,e.mouse,a,"mousemove","mouseup"),i=u(tk,e.touch,N,"touchmove","touchend");function o(){this.on("mousedown.drag",r).on("touchstart.drag",i)}function u(r,i,o,a,u){return function(){var s,l=e.event.target.correspondingElement||e.event.target,c=this.parentNode,f=t.of(this,arguments),d=0,h=r(),p=".drag"+(null==h?"":"-"+h),g=e.select(o(l)).on(a+p,function(){var t,e,n=i(c,h);n&&(t=n[0]-m[0],e=n[1]-m[1],d|=t|e,m=n,f({type:"drag",x:n[0]+s[0],y:n[1]+s[1],dx:t,dy:e}))}).on(u+p,function(){i(c,h)&&(g.on(a+p,null).on(u+p,null),v(d),f({type:"dragend"}))}),v=ty(l),m=i(c,h);n?(s=n.apply(this,arguments),s=[s.x-m[0],s.y-m[1]]):s=[0,0],f({type:"dragstart"})}}return o.origin=function(t){return arguments.length?(n=t,o):n},e.rebind(o,t,"on")},e.touches=function(t,e){return arguments.length<2&&(e=P().touches),e?r(e).map(function(e){var n=tb(t,e);return n.identifier=e.identifier,n}):[]};var tw=1e-6*1e-6,tM=Math.PI,tA=2*tM,t_=tA-1e-6,tE=tM/2,tS=tM/180,tC=180/tM;function tN(t){return t>0?1:t<0?-1:0}function tT(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tD(t){return t>1?0:t<-1?tM:Math.acos(t)}function tj(t){return t>1?tE:t<-1?-tE:Math.asin(t)}function tF(t){return((t=Math.exp(t))+1/t)/2}function tO(t){return(t=Math.sin(t/2))*t}var tL=Math.SQRT2;e.interpolateZoom=function(t,e){var n,r,i=t[0],o=t[1],a=t[2],u=e[0],s=e[1],l=e[2],c=u-i,f=s-o,d=c*c+f*f;if(d<tw)r=Math.log(l/a)/tL,n=function(t){return[i+t*c,o+t*f,a*Math.exp(tL*t*r)]};else{var h=Math.sqrt(d),p=(l*l-a*a+4*d)/(2*a*2*h),g=(l*l-a*a-4*d)/(2*l*2*h),v=Math.log(Math.sqrt(p*p+1)-p);r=(Math.log(Math.sqrt(g*g+1)-g)-v)/tL,n=function(t){var e,n,u=t*r,s=tF(v),l=a/(2*h)*(s*(((e=Math.exp(2*(e=tL*u+v)))-1)/(e+1))-((n=Math.exp(n=v))-1/n)/2);return[i+l*c,o+l*f,a*s/tF(tL*u+v)]}}return n.duration=1e3*r,n},e.behavior.zoom=function(){var t,n,r,o,u,s,l,c,f,d={x:0,y:0,k:1},h=[960,500],p=tI,g=250,v=0,m="mousedown.zoom",y="mousemove.zoom",x="mouseup.zoom",b="touchstart.zoom",k=W(w,"zoomstart","zoom","zoomend");function w(t){t.on(m,D).on(tW+".zoom",F).on("dblclick.zoom",O).on(b,j)}function M(t){return[(t[0]-d.x)/d.k,(t[1]-d.y)/d.k]}function A(t){d.k=Math.max(p[0],Math.min(p[1],t))}function _(t,e){var n;e=[(n=e)[0]*d.k+d.x,n[1]*d.k+d.y],d.x+=t[0]-e[0],d.y+=t[1]-e[1]}function E(t,r,i,o){t.__chart__={x:d.x,y:d.y,k:d.k},A(Math.pow(2,o)),_(n=r,i),t=e.select(t),g>0&&(t=t.transition().duration(g)),t.call(w.event)}function S(){l&&l.domain(s.range().map(function(t){return(t-d.x)/d.k}).map(s.invert)),f&&f.domain(c.range().map(function(t){return(t-d.y)/d.k}).map(c.invert))}function C(t){v++||t({type:"zoomstart"})}function N(t){S(),t({type:"zoom",scale:d.k,translate:[d.x,d.y]})}function T(t){--v||(t({type:"zoomend"}),n=null)}function D(){var t=this,n=k.of(t,arguments),r=0,i=e.select(a(t)).on(y,function(){r=1,_(e.mouse(t),o),N(n)}).on(x,function(){i.on(y,null).on(x,null),u(r),T(n)}),o=M(e.mouse(t)),u=ty(t);o5.call(t),C(n)}function j(){var t,n=this,r=k.of(n,arguments),i={},o=0,a=".zoom-"+e.event.changedTouches[0].identifier,s="touchmove"+a,l="touchend"+a,c=[],f=e.select(n),h=ty(n);function p(){var r=e.touches(n);return t=d.k,r.forEach(function(t){t.identifier in i&&(i[t.identifier]=M(t))}),r}function g(){var t=e.event.target;e.select(t).on(s,v).on(l,y),c.push(t);for(var r=e.event.changedTouches,a=0,f=r.length;a<f;++a)i[r[a].identifier]=null;var h=p(),g=Date.now();if(1===h.length){if(g-u<500){var m=h[0];E(n,m,i[m.identifier],Math.floor(Math.log(d.k)/Math.LN2)+1),L()}u=g}else if(h.length>1){var m=h[0],x=h[1],b=m[0]-x[0],k=m[1]-x[1];o=b*b+k*k}}function v(){var a,s,l,c,f=e.touches(n);o5.call(n);for(var d=0,h=f.length;d<h;++d,c=null)if(c=i[(l=f[d]).identifier]){if(s)break;a=l,s=c}if(c){var p=(p=l[0]-a[0])*p+(p=l[1]-a[1])*p,g=o&&Math.sqrt(p/o);a=[(a[0]+l[0])/2,(a[1]+l[1])/2],s=[(s[0]+c[0])/2,(s[1]+c[1])/2],A(g*t)}u=null,_(a,s),N(r)}function y(){if(e.event.touches.length){for(var t=e.event.changedTouches,n=0,o=t.length;n<o;++n)delete i[t[n].identifier];for(var u in i)return void p()}e.selectAll(c).on(a,null),f.on(m,D).on(b,j),h(),T(r)}g(),C(r),f.on(m,null).on(b,g)}function F(){var i=k.of(this,arguments);o?clearTimeout(o):(o5.call(this),t=M(n=r||e.mouse(this)),C(i)),o=setTimeout(function(){o=null,T(i)},50),L(),A(Math.pow(2,.002*tP())*d.k),_(n,t),N(i)}function O(){var t=e.mouse(this),n=Math.log(d.k)/Math.LN2;E(this,t,M(t),e.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}return tW||(tW="onwheel"in i?(tP=function(){return-e.event.deltaY*(e.event.deltaMode?120:1)},"wheel"):"onmousewheel"in i?(tP=function(){return e.event.wheelDelta},"mousewheel"):(tP=function(){return-e.event.detail},"MozMousePixelScroll")),w.event=function(t){t.each(function(){var t=k.of(this,arguments),r=d;o9?e.select(this).transition().each("start.zoom",function(){d=this.__chart__||{x:0,y:0,k:1},C(t)}).tween("zoom:zoom",function(){var i=h[0],o=h[1],a=n?n[0]:i/2,u=n?n[1]:o/2,s=e.interpolateZoom([(a-d.x)/d.k,(u-d.y)/d.k,i/d.k],[(a-r.x)/r.k,(u-r.y)/r.k,i/r.k]);return function(e){var n=s(e),r=i/n[2];this.__chart__=d={x:a-n[0]*r,y:u-n[1]*r,k:r},N(t)}}).each("interrupt.zoom",function(){T(t)}).each("end.zoom",function(){T(t)}):(this.__chart__=d,C(t),N(t),T(t))})},w.translate=function(t){return arguments.length?(d={x:+t[0],y:+t[1],k:d.k},S(),w):[d.x,d.y]},w.scale=function(t){return arguments.length?(d={x:d.x,y:d.y,k:null},A(+t),S(),w):d.k},w.scaleExtent=function(t){return arguments.length?(p=null==t?tI:[+t[0],+t[1]],w):p},w.center=function(t){return arguments.length?(r=t&&[+t[0],+t[1]],w):r},w.size=function(t){return arguments.length?(h=t&&[+t[0],+t[1]],w):h},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(l=t,s=t.copy(),d={x:0,y:0,k:1},w):l},w.y=function(t){return arguments.length?(f=t,c=t.copy(),d={x:0,y:0,k:1},w):f},e.rebind(w,k,"on")};var tP,tW,tI=[0,1/0];function tz(){}function tH(t,e,n){return this instanceof tH?void(this.h=+t,this.s=+e,this.l=+n):arguments.length<2?t instanceof tH?new tH(t.h,t.s,t.l):t6(""+t,t4,tH):new tH(t,e,n)}e.color=tz,tz.prototype.toString=function(){return this.rgb()+""},e.hsl=tH;var tR=tH.prototype=new tz;function tB(t,e,n){var r,i;function o(t){var e;return Math.round(255*(((e=t)>360?e-=360:e<0&&(e+=360),e<60)?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r))}return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,i=(n=n<0?0:n>1?1:n)<=.5?n*(1+e):n+e-n*e,r=2*n-i,new t0(o(t+120),o(t),o(t-120))}function tq(t,n,r){return this instanceof tq?void(this.h=+t,this.c=+n,this.l=+r):arguments.length<2?t instanceof tq?new tq(t.h,t.c,t.l):t instanceof tG?tZ(t.l,t.a,t.b):tZ((t=t9((t=e.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new tq(t,n,r)}tR.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new tH(this.h,this.s,this.l/t)},tR.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new tH(this.h,this.s,t*this.l)},tR.rgb=function(){return tB(this.h,this.s,this.l)},e.hcl=tq;var tV=tq.prototype=new tz;function tU(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new tG(n,Math.cos(t*=tS)*e,Math.sin(t)*e)}function tG(t,e,n){return this instanceof tG?void(this.l=+t,this.a=+e,this.b=+n):arguments.length<2?t instanceof tG?new tG(t.l,t.a,t.b):t instanceof tq?tU(t.h,t.c,t.l):t9((t=t0(t)).r,t.g,t.b):new tG(t,e,n)}tV.brighter=function(t){return new tq(this.h,this.c,Math.min(100,this.l+tY*(arguments.length?t:1)))},tV.darker=function(t){return new tq(this.h,this.c,Math.max(0,this.l-tY*(arguments.length?t:1)))},tV.rgb=function(){return tU(this.h,this.c,this.l).rgb()},e.lab=tG;var tY=18,tX=tG.prototype=new tz;function t$(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return new t0(tK(3.2404542*(i=.95047*tJ(i))-1.5371385*(r=1*tJ(r))-.4985314*(o=1.08883*tJ(o))),tK(-.969266*i+1.8760108*r+.041556*o),tK(.0556434*i-.2040259*r+1.0572252*o))}function tZ(t,e,n){return t>0?new tq(Math.atan2(n,e)*tC,Math.sqrt(e*e+n*n),t):new tq(NaN,NaN,t)}function tJ(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function tQ(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function tK(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function t0(t,e,n){return this instanceof t0?void(this.r=~~t,this.g=~~e,this.b=~~n):arguments.length<2?t instanceof t0?new t0(t.r,t.g,t.b):t6(""+t,t0,tB):new t0(t,e,n)}function t1(t){return new t0(t>>16,t>>8&255,255&t)}function t3(t){return t1(t)+""}tX.brighter=function(t){return new tG(Math.min(100,this.l+tY*(arguments.length?t:1)),this.a,this.b)},tX.darker=function(t){return new tG(Math.max(0,this.l-tY*(arguments.length?t:1)),this.a,this.b)},tX.rgb=function(){return t$(this.l,this.a,this.b)},e.rgb=t0;var t2=t0.prototype=new tz;function t5(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function t6(t,e,n){var r,i,o,a=0,u=0,s=0;if(r=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(t8(i[0]),t8(i[1]),t8(i[2]))}return(o=et.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(a=(3840&o)>>4)>>4|a,u=(u=240&o)>>4|u,s=(s=15&o)<<4|s):7!==t.length||(a=(0xff0000&o)>>16,u=(65280&o)>>8,s=255&o)),e(a,u,s))}function t4(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),u=a-o,s=(a+o)/2;return u?(i=s<.5?u/(a+o):u/(2-a-o),r=(t==a?(e-n)/u+(e<n?6:0):e==a?(n-t)/u+2:(t-e)/u+4)*60):(r=NaN,i=s>0&&s<1?0:r),new tH(r,i,s)}function t9(t,e,n){var r=tQ((.4124564*(t=t7(t))+.3575761*(e=t7(e))+.1804375*(n=t7(n)))/.95047),i=tQ((.2126729*t+.7151522*e+.072175*n)/1);return tG(116*i-16,500*(r-i),200*(i-tQ((.0193339*t+.119192*e+.9503041*n)/1.08883)))}function t7(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function t8(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}t2.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b;return e||n||r?(e&&e<30&&(e=30),n&&n<30&&(n=30),r&&r<30&&(r=30),new t0(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new t0(30,30,30)},t2.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new t0(t*this.r,t*this.g,t*this.b)},t2.hsl=function(){return t4(this.r,this.g,this.b)},t2.toString=function(){return"#"+t5(this.r)+t5(this.g)+t5(this.b)};var et=e.map({aliceblue:0xf0f8ff,antiquewhite:0xfaebd7,aqua:65535,aquamarine:8388564,azure:0xf0ffff,beige:0xf5f5dc,bisque:0xffe4c4,black:0,blanchedalmond:0xffebcd,blue:255,blueviolet:9055202,brown:0xa52a2a,burlywood:0xdeb887,cadetblue:6266528,chartreuse:8388352,chocolate:0xd2691e,coral:0xff7f50,cornflowerblue:6591981,cornsilk:0xfff8dc,crimson:0xdc143c,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:0xb8860b,darkgray:0xa9a9a9,darkgreen:25600,darkgrey:0xa9a9a9,darkkhaki:0xbdb76b,darkmagenta:9109643,darkolivegreen:5597999,darkorange:0xff8c00,darkorchid:0x9932cc,darkred:9109504,darksalmon:0xe9967a,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:0xff1493,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:0xb22222,floralwhite:0xfffaf0,forestgreen:2263842,fuchsia:0xff00ff,gainsboro:0xdcdcdc,ghostwhite:0xf8f8ff,gold:0xffd700,goldenrod:0xdaa520,gray:8421504,green:32768,greenyellow:0xadff2f,grey:8421504,honeydew:0xf0fff0,hotpink:0xff69b4,indianred:0xcd5c5c,indigo:4915330,ivory:0xfffff0,khaki:0xf0e68c,lavender:0xe6e6fa,lavenderblush:0xfff0f5,lawngreen:8190976,lemonchiffon:0xfffacd,lightblue:0xadd8e6,lightcoral:0xf08080,lightcyan:0xe0ffff,lightgoldenrodyellow:0xfafad2,lightgray:0xd3d3d3,lightgreen:9498256,lightgrey:0xd3d3d3,lightpink:0xffb6c1,lightsalmon:0xffa07a,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:0xb0c4de,lightyellow:0xffffe0,lime:65280,limegreen:3329330,linen:0xfaf0e6,magenta:0xff00ff,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:0xba55d3,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:0xc71585,midnightblue:1644912,mintcream:0xf5fffa,mistyrose:0xffe4e1,moccasin:0xffe4b5,navajowhite:0xffdead,navy:128,oldlace:0xfdf5e6,olive:8421376,olivedrab:7048739,orange:0xffa500,orangered:0xff4500,orchid:0xda70d6,palegoldenrod:0xeee8aa,palegreen:0x98fb98,paleturquoise:0xafeeee,palevioletred:0xdb7093,papayawhip:0xffefd5,peachpuff:0xffdab9,peru:0xcd853f,pink:0xffc0cb,plum:0xdda0dd,powderblue:0xb0e0e6,purple:8388736,rebeccapurple:6697881,red:0xff0000,rosybrown:0xbc8f8f,royalblue:4286945,saddlebrown:9127187,salmon:0xfa8072,sandybrown:0xf4a460,seagreen:3050327,seashell:0xfff5ee,sienna:0xa0522d,silver:0xc0c0c0,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:0xfffafa,springgreen:65407,steelblue:4620980,tan:0xd2b48c,teal:32896,thistle:0xd8bfd8,tomato:0xff6347,turquoise:4251856,violet:0xee82ee,wheat:0xf5deb3,white:0xffffff,whitesmoke:0xf5f5f5,yellow:0xffff00,yellowgreen:0x9acd32});function ee(t){return"function"==typeof t?t:function(){return t}}function en(t){return function(e,n,r){return 2==arguments.length&&"function"==typeof n&&(r=n,n=null),er(e,n,t,r)}}function er(t,n,i,o){var a={},u=e.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,c=null;function f(){var t,e,n,r=l.status;if(!r&&((e=(t=l).responseType)&&"text"!==e?t.response:t.responseText)||r>=200&&r<300||304===r){try{n=i.call(a,l)}catch(t){u.error.call(a,t);return}u.load.call(a,n)}else u.error.call(a,l)}return this.XDomainRequest&&!("withCredentials"in l)&&/^(http(s)?:)?\/\//.test(t)&&(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=f:l.onreadystatechange=function(){l.readyState>3&&f()},l.onprogress=function(t){var n=e.event;e.event=t;try{u.progress.call(a,l)}finally{e.event=n}},a.header=function(t,e){return(t=(t+"").toLowerCase(),arguments.length<2)?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(n=null==t?null:t+"",a):n},a.responseType=function(t){return arguments.length?(c=t,a):c},a.response=function(t){return i=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(r(arguments)))}}),a.send=function(e,r,i){if(2==arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(e,t,!0),null==n||"accept"in s||(s.accept=n+",*/*"),l.setRequestHeader)for(var o in s)l.setRequestHeader(o,s[o]);return null!=n&&l.overrideMimeType&&l.overrideMimeType(n),null!=c&&(l.responseType=c),null!=i&&a.on("error",i).on("load",function(t){i(null,t)}),u.beforesend.call(a,l),l.send(null==r?null:r),a},a.abort=function(){return l.abort(),a},e.rebind(a,u,"on"),null==o?a:a.get(1===o.length?function(t,e){o(null==t?e:null)}:o)}et.forEach(function(t,e){et.set(t,t1(e))}),e.functor=ee,e.xhr=en(N),e.dsv=function(t,e){var n=RegExp('["'+t+"\n]"),r=t.charCodeAt(0);function i(t,n,r){arguments.length<3&&(r=n,n=null);var i=er(t,e,null==n?o:a(n),r);return i.row=function(t){return arguments.length?i.response(null==(n=t)?o:a(t)):n},i}function o(t){return i.parse(t.responseText)}function a(t){return function(e){return i.parse(e.responseText,t)}}function u(e){return e.map(s).join(t)}function s(t){return n.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}return i.parse=function(t,e){var n;return i.parseRows(t,function(t,r){if(n)return n(t,r-1);var i=Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");n=e?function(t,n){return e(i(t),n)}:i})},i.parseRows=function(t,e){var n,i,o={},a={},u=[],s=t.length,l=0,c=0;function f(){if(l>=s)return a;if(i)return i=!1,o;var e=l;if(34===t.charCodeAt(e)){for(var n=e;n++<s;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}l=n+2;var u=t.charCodeAt(n+1);return 13===u?(i=!0,10===t.charCodeAt(n+2)&&++l):10===u&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;l<s;){var u=t.charCodeAt(l++),c=1;if(10===u)i=!0;else if(13===u)i=!0,10===t.charCodeAt(l)&&(++l,++c);else if(u!==r)continue;return t.slice(e,l-c)}return t.slice(e)}for(;(n=f())!==a;){for(var d=[];n!==o&&n!==a;)d.push(n),n=f();e&&null==(d=e(d,c++))||u.push(d)}return u},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var n=new C,r=[];return e.forEach(function(t){for(var e in t)n.has(e)||r.push(n.add(e))}),[r.map(s).join(t)].concat(e.map(function(e){return r.map(function(t){return s(e[t])}).join(t)})).join("\n")},i.formatRows=function(t){return t.map(u).join("\n")},i},e.csv=e.dsv(",","text/csv"),e.tsv=e.dsv("	","text/tab-separated-values");var ei,eo,ea,eu,es=this[T(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};function el(t,e,n){var r=arguments.length;r<2&&(e=0),r<3&&(n=Date.now());var i={c:t,t:n+e,n:null};return eo?eo.n=i:ei=i,eo=i,ea||(eu=clearTimeout(eu),ea=1,es(ec)),i}function ec(){var t=ef(),e=ed()-t;e>24?(isFinite(e)&&(clearTimeout(eu),eu=setTimeout(ec,e)),ea=0):(ea=1,es(ec))}function ef(){for(var t=Date.now(),e=ei;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function ed(){for(var t,e=ei,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:ei=e.n;return eo=t,n}function eh(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}e.timer=function(){el.apply(this,arguments)},e.timer.flush=function(){ef(),ed()},e.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var ep=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"].map(function(t,e){var n=Math.pow(10,3*y(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}});e.formatPrefix=function(t,n){var r=0;return(t=+t)&&(t<0&&(t*=-1),n&&(t=e.round(t,eh(t,n))),r=Math.max(-24,Math.min(24,3*Math.floor(((r=1+Math.floor(1e-12+Math.log(t)/Math.LN10))-1)/3)))),ep[8+r/3]};var eg=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ev=e.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,n){return(t=e.round(t,eh(t,n))).toFixed(Math.max(0,Math.min(20,eh(t*(1+1e-15),n))))}});function em(t){return t+""}var ey=e.time={},ex=Date;function eb(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}eb.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ek.setUTCDate.apply(this._,arguments)},setDay:function(){ek.setUTCDay.apply(this._,arguments)},setFullYear:function(){ek.setUTCFullYear.apply(this._,arguments)},setHours:function(){ek.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ek.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ek.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ek.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ek.setUTCSeconds.apply(this._,arguments)},setTime:function(){ek.setTime.apply(this._,arguments)}};var ek=Date.prototype;function ew(t,e,n){function r(e){var n=t(e),r=o(n,1);return e-n<r-e?n:r}function i(n){return e(n=t(new ex(n-1)),1),n}function o(t,n){return e(t=new ex(+t),n),t}function a(t,r,o){var a=i(t),u=[];if(o>1)for(;a<r;)n(a)%o||u.push(new Date(+a)),e(a,1);else for(;a<r;)u.push(new Date(+a)),e(a,1);return u}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var u=t.utc=eM(t);return u.floor=u,u.round=eM(r),u.ceil=eM(i),u.offset=eM(o),u.range=function(t,e,n){try{ex=eb;var r=new eb;return r._=t,a(r,e,n)}finally{ex=Date}},t}function eM(t){return function(e,n){try{ex=eb;var r=new eb;return r._=e,t(r,n)._}finally{ex=Date}}}ey.year=ew(function(t){return(t=ey.day(t)).setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ey.years=ey.year.range,ey.years.utc=ey.year.utc.range,ey.day=ew(function(t){var e=new ex(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ey.days=ey.day.range,ey.days.utc=ey.day.utc.range,ey.dayOfYear=function(t){var e=ey.year(t);return Math.floor((t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*6e4)/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ey[t]=ew(function(t){return(t=ey.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ey.year(t).getDay();return Math.floor((ey.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ey[t+"s"]=n.range,ey[t+"s"].utc=n.utc.range,ey[t+"OfYear"]=function(t){var n=ey.year(t).getDay();return Math.floor((ey.dayOfYear(t)+(n+e)%7)/7)}}),ey.week=ey.sunday,ey.weeks=ey.sunday.range,ey.weeks.utc=ey.sunday.utc.range,ey.weekOfYear=ey.sundayOfYear;var eA={"-":"",_:" ",0:"0"},e_=/^\s*\d+/,eE=/^%/;function eS(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?Array(n-o+1).join(e)+i:i)}function eC(t){return RegExp("^(?:"+t.map(e.requote).join("|")+")","i")}function eN(t){for(var e=new b,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function eT(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function eD(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function ej(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function eF(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function eO(t,e,n){e_.lastIndex=0;var r,i=e_.exec(e.slice(n,n+2));return i?(t.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function eL(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function eP(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function eW(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function eI(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ez(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function eH(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function eR(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function eB(t,e,n){e_.lastIndex=0;var r=e_.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function eq(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=y(e)/60|0,i=y(e)%60;return n+eS(r,"0",2)+eS(i,"0",2)}function eV(t,e,n){eE.lastIndex=0;var r=eE.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function eU(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[0];!r[1](e);)r=t[++n];return r[0](e)}}e.locale=function(t){var n,r,i,o,a;return{numberFormat:(n=t.decimal,r=t.thousands,i=t.grouping,o=t.currency,a=i&&r?function(t,e){for(var n=t.length,o=[],a=0,u=i[0],s=0;n>0&&u>0&&(s+u+1>e&&(u=Math.max(1,e-s)),o.push(t.substring(n-=u,n+u)),!((s+=u+1)>e));)u=i[a=(a+1)%i.length];return o.reverse().join(r)}:N,function(t){var r=eg.exec(t),i=r[1]||" ",u=r[2]||">",s=r[3]||"-",l=r[4]||"",c=r[5],f=+r[6],d=r[7],h=r[8],p=r[9],g=1,v="",m="",y=!1,x=!0;switch(h&&(h=+h.substring(1)),(c||"0"===i&&"="===u)&&(c=i="0",u="="),p){case"n":d=!0,p="g";break;case"%":g=100,m="%",p="f";break;case"p":g=100,m="%",p="r";break;case"b":case"o":case"x":case"X":"#"===l&&(v="0"+p.toLowerCase());case"c":x=!1;case"d":y=!0,h=0;break;case"s":g=-1,p="r"}"$"===l&&(v=o[0],m=o[1]),"r"!=p||h||(p="g"),null!=h&&("g"==p?h=Math.max(1,Math.min(21,h)):("e"==p||"f"==p)&&(h=Math.max(0,Math.min(20,h)))),p=ev.get(p)||em;var b=c&&d;return function(t){var r=m;if(y&&t%1)return"";var o=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(g<0){var l=e.formatPrefix(t,h);t=l.scale(t),r=l.symbol+m}else t*=g;var k,w,M=(t=p(t,h)).lastIndexOf(".");if(M<0){var A=x?t.lastIndexOf("e"):-1;A<0?(k=t,w=""):(k=t.substring(0,A),w=t.substring(A))}else k=t.substring(0,M),w=n+t.substring(M+1);!c&&d&&(k=a(k,1/0));var _=v.length+k.length+w.length+(b?0:o.length),E=_<f?Array(_=f-_+1).join(i):"";return b&&(k=a(E+k,E.length?f-w.length:1/0)),o+=v,t=k+w,("<"===u?o+t+E:">"===u?E+o+t:"^"===u?E.substring(0,_>>=1)+o+t+E.substring(_):o+(b?t:E+t))+r}}),timeFormat:function(t){var n=t.dateTime,r=t.date,i=t.time,o=t.periods,a=t.days,u=t.shortDays,s=t.months,l=t.shortMonths;function c(t){var e=t.length;function n(n){for(var r,i,o,a=[],u=-1,s=0;++u<e;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=eA[r=t.charAt(++u)])&&(r=t.charAt(++u)),(o=k[r])&&(r=o(n,null==i?"e"===r?" ":"0":i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}return n.parse=function(e){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(n,t,e,0)!=e.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&ex!==eb,i=new(r?eb:ex);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return t},n}function f(t,e,n,r){for(var i,o,a,u=0,s=e.length,l=n.length;u<s;){if(r>=l)return -1;if(37===(i=e.charCodeAt(u++))){if(!(o=w[(a=e.charAt(u++))in eA?e.charAt(u++):a])||(r=o(t,n,r))<0)return -1}else if(i!=n.charCodeAt(r++))return -1}return r}c.utc=function(t){var e=c(t);function n(t){try{var n=new(ex=eb);return n._=t,e(n)}finally{ex=Date}}return n.parse=function(t){try{ex=eb;var n=e.parse(t);return n&&n._}finally{ex=Date}},n.toString=e.toString,n},c.multi=c.utc.multi=eU;var d=e.map(),h=eC(a),p=eN(a),g=eC(u),v=eN(u),m=eC(s),y=eN(s),x=eC(l),b=eN(l);o.forEach(function(t,e){d.set(t.toLowerCase(),e)});var k={a:function(t){return u[t.getDay()]},A:function(t){return a[t.getDay()]},b:function(t){return l[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:c(n),d:function(t,e){return eS(t.getDate(),e,2)},e:function(t,e){return eS(t.getDate(),e,2)},H:function(t,e){return eS(t.getHours(),e,2)},I:function(t,e){return eS(t.getHours()%12||12,e,2)},j:function(t,e){return eS(1+ey.dayOfYear(t),e,3)},L:function(t,e){return eS(t.getMilliseconds(),e,3)},m:function(t,e){return eS(t.getMonth()+1,e,2)},M:function(t,e){return eS(t.getMinutes(),e,2)},p:function(t){return o[+(t.getHours()>=12)]},S:function(t,e){return eS(t.getSeconds(),e,2)},U:function(t,e){return eS(ey.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return eS(ey.mondayOfYear(t),e,2)},x:c(r),X:c(i),y:function(t,e){return eS(t.getFullYear()%100,e,2)},Y:function(t,e){return eS(t.getFullYear()%1e4,e,4)},Z:eq,"%":function(){return"%"}},w={a:function(t,e,n){g.lastIndex=0;var r=g.exec(e.slice(n));return r?(t.w=v.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){h.lastIndex=0;var r=h.exec(e.slice(n));return r?(t.w=p.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){x.lastIndex=0;var r=x.exec(e.slice(n));return r?(t.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){m.lastIndex=0;var r=m.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,e,n){return f(t,k.c.toString(),e,n)},d:eW,e:eW,H:ez,I:ez,j:eI,L:eB,m:eP,M:eH,p:function(t,e,n){var r=d.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)},S:eR,U:eD,w:eT,W:ej,x:function(t,e,n){return f(t,k.x.toString(),e,n)},X:function(t,e,n){return f(t,k.X.toString(),e,n)},y:eO,Y:eF,Z:eL,"%":eV};return c}(t)}};var eG=e.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function eY(){}e.format=eG.numberFormat,e.geo={},eY.prototype={s:0,t:0,add:function(t){e$(t,this.t,eX),e$(eX.s,this.s,this),this.s?this.t+=eX.t:this.s=eX.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var eX=new eY;function e$(t,e,n){var r=n.s=t+e,i=r-t;n.t=t-(r-i)+(e-i)}function eZ(t,e){t&&eQ.hasOwnProperty(t.type)&&eQ[t.type](t,e)}e.geo.stream=function(t,e){t&&eJ.hasOwnProperty(t.type)?eJ[t.type](t,e):eZ(t,e)};var eJ={Feature:function(t,e){eZ(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)eZ(n[r].geometry,e)}},eQ={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){eK(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)eK(n[r],e,0)},Polygon:function(t,e){e0(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)e0(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)eZ(n[r],e)}};function eK(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function e0(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)eK(t[n],e,1);e.polygonEnd()}e.geo.area=function(t){return e1=0,e.geo.stream(t,e2),e1};var e1,e3=new eY,e2={sphere:function(){e1+=4*tM},point:j,lineStart:j,lineEnd:j,polygonStart:function(){e3.reset(),e2.lineStart=e5},polygonEnd:function(){var t=2*e3;e1+=t<0?4*tM+t:t,e2.lineStart=e2.lineEnd=e2.point=j}};function e5(){var t,e,n,r,i;function o(t,e){var o=(t*=tS)-n,a=o>=0?1:-1,u=a*o,s=Math.cos(e=e*tS/2+tM/4),l=Math.sin(e),c=i*l,f=r*s+c*Math.cos(u),d=c*a*Math.sin(u);e3.add(Math.atan2(d,f)),n=t,r=s,i=l}e2.point=function(a,u){e2.point=o,n=(t=a)*tS,r=Math.cos(u=(e=u)*tS/2+tM/4),i=Math.sin(u)},e2.lineEnd=function(){o(t,e)}}function e6(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function e4(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function e9(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function e7(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function e8(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function nt(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ne(t){return[Math.atan2(t[1],t[0]),tj(t[2])]}function nn(t,e){return 1e-6>y(t[0]-e[0])&&1e-6>y(t[1]-e[1])}e.geo.bounds=function(){var t,n,r,i,o,a,u,s,l,c,f,d={point:h,lineStart:g,lineEnd:v,polygonStart:function(){d.point=m,d.lineStart=x,d.lineEnd=b,l=0,e2.polygonStart()},polygonEnd:function(){e2.polygonEnd(),d.point=h,d.lineStart=g,d.lineEnd=v,e3<0?(t=-(r=180),n=-(i=90)):l>1e-6?i=90:l<-1e-6&&(n=-90),f[0]=t,f[1]=r}};function h(e,o){c.push(f=[t=e,r=e]),o<n&&(n=o),o>i&&(i=o)}function p(e,a){var u=e6([e*tS,a*tS]);if(s){var l=e9(s,u),c=e9([l[1],-l[0],0],l);nt(c),c=ne(c);var f=e-o,d=f>0?1:-1,p=c[0]*tC*d,g=y(f)>180;if(g^(d*o<p&&p<d*e)){var v=c[1]*tC;v>i&&(i=v)}else if(g^(d*o<(p=(p+360)%360-180)&&p<d*e)){var v=-c[1]*tC;v<n&&(n=v)}else a<n&&(n=a),a>i&&(i=a);g?e<o?k(t,e)>k(t,r)&&(r=e):k(e,r)>k(t,r)&&(t=e):r>=t?(e<t&&(t=e),e>r&&(r=e)):e>o?k(t,e)>k(t,r)&&(r=e):k(e,r)>k(t,r)&&(t=e)}else h(e,a);s=u,o=e}function g(){d.point=p}function v(){f[0]=t,f[1]=r,d.point=h,s=null}function m(t,e){if(s){var n=t-o;l+=y(n)>180?n+(n>0?360:-360):n}else a=t,u=e;e2.point(t,e),p(t,e)}function x(){e2.lineStart()}function b(){m(a,u),e2.lineEnd(),y(l)>1e-6&&(t=-(r=180)),f[0]=t,f[1]=r,s=null}function k(t,e){return(e-=t)<0?e+360:e}function w(t,e){return t[0]-e[0]}function M(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}return function(o){i=r=-(t=n=1/0),c=[],e.geo.stream(o,d);var a=c.length;if(a){c.sort(w);for(var u,s=1,l=c[0],h=[l];s<a;++s)M((u=c[s])[0],l)||M(u[1],l)?(k(l[0],u[1])>k(l[0],l[1])&&(l[1]=u[1]),k(u[0],l[1])>k(l[0],l[1])&&(l[0]=u[0])):h.push(l=u);for(var p,u,g=-1/0,a=h.length-1,s=0,l=h[a];s<=a;l=u,++s)u=h[s],(p=k(l[1],u[0]))>g&&(g=p,t=u[0],r=l[1])}return c=f=null,t===1/0||n===1/0?[[NaN,NaN],[NaN,NaN]]:[[t,n],[r,i]]}}(),e.geo.centroid=function(t){nA=n_=nE=nS=nC=nN=nT=nD=nj=nF=nO=0,e.geo.stream(t,nr);var n=nj,r=nF,i=nO,o=n*n+r*r+i*i;return o<tw&&(n=nN,r=nT,i=nD,n_<1e-6&&(n=nE,r=nS,i=nC),(o=n*n+r*r+i*i)<tw)?[NaN,NaN]:[Math.atan2(r,n)*tC,tj(i/Math.sqrt(o))*tC]};var nr={sphere:j,point:ni,lineStart:na,lineEnd:nu,polygonStart:function(){nr.lineStart=ns},polygonEnd:function(){nr.lineStart=na}};function ni(t,e){t*=tS;var n=Math.cos(e*=tS);no(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function no(t,e,n){++nA,nE+=(t-nE)/nA,nS+=(e-nS)/nA,nC+=(n-nC)/nA}function na(){var t,e,n;function r(r,i){r*=tS;var o=Math.cos(i*=tS),a=o*Math.cos(r),u=o*Math.sin(r),s=Math.sin(i),l=Math.atan2(Math.sqrt((l=e*s-n*u)*l+(l=n*a-t*s)*l+(l=t*u-e*a)*l),t*a+e*u+n*s);n_+=l,nN+=l*(t+(t=a)),nT+=l*(e+(e=u)),nD+=l*(n+(n=s)),no(t,e,n)}nr.point=function(i,o){i*=tS;var a=Math.cos(o*=tS);t=a*Math.cos(i),e=a*Math.sin(i),n=Math.sin(o),nr.point=r,no(t,e,n)}}function nu(){nr.point=ni}function ns(){var t,e,n,r,i;function o(t,e){t*=tS;var o=Math.cos(e*=tS),a=o*Math.cos(t),u=o*Math.sin(t),s=Math.sin(e),l=r*s-i*u,c=i*a-n*s,f=n*u-r*a,d=Math.sqrt(l*l+c*c+f*f),h=n*a+r*u+i*s,p=d&&-tD(h)/d,g=Math.atan2(d,h);nj+=p*l,nF+=p*c,nO+=p*f,n_+=g,nN+=g*(n+(n=a)),nT+=g*(r+(r=u)),nD+=g*(i+(i=s)),no(n,r,i)}nr.point=function(a,u){t=a,e=u,nr.point=o,a*=tS;var s=Math.cos(u*=tS);no(n=s*Math.cos(a),r=s*Math.sin(a),i=Math.sin(u))},nr.lineEnd=function(){o(t,e),nr.lineEnd=nu,nr.point=ni}}function nl(t,e){function n(n,r){return e((n=t(n,r))[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return(n=e.invert(n,r))&&t.invert(n[0],n[1])}),n}function nc(){return!0}function nf(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(nn(n,r)){i.lineStart();for(var u=0;u<e;++u)i.point((n=t[u])[0],n[1]);i.lineEnd();return}var s=new nh(n,t,null,!0),l=new nh(n,null,s,!1);s.o=l,o.push(s),a.push(l),s=new nh(r,t,null,!1),l=new nh(r,null,s,!0),s.o=l,o.push(s),a.push(l)}}),a.sort(e),nd(o),nd(a),o.length){for(var u=0,s=n,l=a.length;u<l;++u)a[u].e=s=!s;for(var c,f,d=o[0];;){for(var h=d,p=!0;h.v;)if((h=h.n)===d)return;c=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(p)for(var u=0,l=c.length;u<l;++u)i.point((f=c[u])[0],f[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(p){c=h.p.z;for(var u=c.length-1;u>=0;--u)i.point((f=c[u])[0],f[1])}else r(h.x,h.p.x,-1,i);h=h.p}c=(h=h.o).z,p=!p}while(!h.v)i.lineEnd()}}}function nd(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function nh(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function np(t,n,r,i){return function(o,a){var u=n(a),s=o.invert(i[0],i[1]),l={point:c,lineStart:d,lineEnd:h,polygonStart:function(){l.point=b,l.lineStart=k,l.lineEnd=w,p=[],g=[]},polygonEnd:function(){l.point=c,l.lineStart=d,l.lineEnd=h,p=e.merge(p);var t=function(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;e3.reset();for(var u=0,s=e.length;u<s;++u){var l=e[u],c=l.length;if(c)for(var f=l[0],d=f[0],h=f[1]/2+tM/4,p=Math.sin(h),g=Math.cos(h),v=1;;){v===c&&(v=0);var m=(t=l[v])[0],y=t[1]/2+tM/4,x=Math.sin(y),b=Math.cos(y),k=m-d,w=k>=0?1:-1,M=w*k,A=M>tM,_=p*x;if(e3.add(Math.atan2(_*w*Math.sin(M),g*b+_*Math.cos(M))),o+=A?k+w*tA:k,A^d>=n^m>=n){var E=e9(e6(f),e6(t));nt(E);var S=e9(i,E);nt(S);var C=(A^k>=0?-1:1)*tj(S[2]);(r>C||r===C&&(E[0]||E[1]))&&(a+=A^k>=0?1:-1)}if(!v++)break;d=m,p=x,g=b,f=t}}return(o<-1e-6||o<1e-6&&e3<-1e-6)^1&a}(s,g);p.length?(x||(a.polygonStart(),x=!0),nf(p,ny,t,r,a)):t&&(x||(a.polygonStart(),x=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),x&&(a.polygonEnd(),x=!1),p=g=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function c(e,n){var r=o(e,n);t(e=r[0],n=r[1])&&a.point(e,n)}function f(t,e){var n=o(t,e);u.point(n[0],n[1])}function d(){l.point=f,u.lineStart()}function h(){l.point=c,u.lineEnd()}var p,g,v,m=nm(),y=n(m),x=!1;function b(t,e){v.push([t,e]);var n=o(t,e);y.point(n[0],n[1])}function k(){y.lineStart(),v=[]}function w(){b(v[0][0],v[0][1]),y.lineEnd();var t,e=y.clean(),n=m.buffer(),r=n.length;if(v.pop(),g.push(v),v=null,r){if(1&e){var i,r=(t=n[0]).length-1,o=-1;if(r>0){for(x||(a.polygonStart(),x=!0),a.lineStart();++o<r;)a.point((i=t[o])[0],i[1]);a.lineEnd()}return}r>1&&2&e&&n.push(n.pop().concat(n.shift())),p.push(n.filter(ng))}}return l}}function ng(t){return t.length>1}function nm(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:j,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function ny(t,e){return((t=t.x)[0]<0?t[1]-tE-1e-6:tE-t[1])-((e=e.x)[0]<0?e[1]-tE-1e-6:tE-e[1])}var nx=np(nc,function(t){var e,n=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var u,s,l,c,f,d,h=o>0?tM:-tM,p=y(o-n);1e-6>y(p-tM)?(t.point(n,r=(r+a)/2>0?tE:-tE),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(h,r),t.point(o,r),e=0):i!==h&&p>=tM&&(1e-6>y(n-i)&&(n-=1e-6*i),1e-6>y(o-h)&&(o-=1e-6*h),u=n,s=r,r=y(d=Math.sin(u-(l=o)))>1e-6?Math.atan((Math.sin(s)*(f=Math.cos(a))*Math.sin(l)-Math.sin(a)*(c=Math.cos(s))*Math.sin(u))/(c*f*d)):(s+a)/2,t.point(i,r),t.lineEnd(),t.lineStart(),t.point(h,r),e=0),t.point(n=o,r=a),i=h},lineEnd:function(){t.lineEnd(),n=r=NaN},clean:function(){return 2-e}}},function(t,e,n,r){var i;if(null==t)i=n*tE,r.point(-tM,i),r.point(0,i),r.point(tM,i),r.point(tM,0),r.point(tM,-i),r.point(0,-i),r.point(-tM,-i),r.point(-tM,0),r.point(-tM,i);else if(y(t[0]-e[0])>1e-6){var o=t[0]<e[0]?tM:-tM;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-tM,-tM/2]);function nb(t,e,n,r){return function(i){var o,a=i.a,u=i.b,s=a.x,l=a.y,c=u.x,f=u.y,d=0,h=1,p=c-s,g=f-l;if(o=t-s,p||!(o>0)){if(o/=p,p<0){if(o<d)return;o<h&&(h=o)}else if(p>0){if(o>h)return;o>d&&(d=o)}if(o=n-s,p||!(o<0)){if(o/=p,p<0){if(o>h)return;o>d&&(d=o)}else if(p>0){if(o<d)return;o<h&&(h=o)}if(o=e-l,g||!(o>0)){if(o/=g,g<0){if(o<d)return;o<h&&(h=o)}else if(g>0){if(o>h)return;o>d&&(d=o)}if(o=r-l,g||!(o<0)){if(o/=g,g<0){if(o>h)return;o>d&&(d=o)}else if(g>0){if(o<d)return;o<h&&(h=o)}return d>0&&(i.a={x:s+d*p,y:l+d*g}),h<1&&(i.b={x:s+h*p,y:l+h*g}),i}}}}}}function nk(t,n,r,i){return function(s){var l,c,f,d,h,p,g,v,m,y,x,b=s,k=nm(),w=nb(t,n,r,i),M={point:E,lineStart:function(){M.point=S,y&&y.push(x=[]),g=!0,p=!1,d=h=NaN},lineEnd:function(){m&&(S(l,c),f&&p&&k.rejoin(),m.push(k.buffer())),M.point=E,p&&s.lineEnd()},polygonStart:function(){s=k,m=[],y=[],v=!0},polygonEnd:function(){s=b,m=e.merge(m);var n=function(t){for(var e=0,n=y.length,r=t[1],i=0;i<n;++i)for(var o,a=1,u=y[i],s=u.length,l=u[0];a<s;++a)o=u[a],l[1]<=r?o[1]>r&&tT(l,o,t)>0&&++e:o[1]<=r&&0>tT(l,o,t)&&--e,l=o;return 0!==e}([t,i]),r=v&&n,o=m.length;(r||o)&&(s.polygonStart(),r&&(s.lineStart(),A(null,null,1,s),s.lineEnd()),o&&nf(m,a,n,A,s),s.polygonEnd()),m=y=x=null}};function A(e,a,s,l){var c=0,f=0;if(null==e||(c=o(e,s))!==(f=o(a,s))||0>u(e,a)^s>0)do l.point(0===c||3===c?t:r,c>1?i:n);while((c=(c+s+4)%4)!==f)else l.point(a[0],a[1])}function _(e,o){return t<=e&&e<=r&&n<=o&&o<=i}function E(t,e){_(t,e)&&s.point(t,e)}function S(t,e){var n=_(t=Math.max(-1e9,Math.min(1e9,t)),e=Math.max(-1e9,Math.min(1e9,e)));if(y&&x.push([t,e]),g)l=t,c=e,f=n,g=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&p)s.point(t,e);else{var r={a:{x:d,y:h},b:{x:t,y:e}};w(r)?(p||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),v=!1):n&&(s.lineStart(),s.point(t,e),v=!1)}d=t,h=e,p=n}return M};function o(e,i){return 1e-6>y(e[0]-t)?i>0?0:3:1e-6>y(e[0]-r)?i>0?2:1:1e-6>y(e[1]-n)?i>0?1:0:i>0?3:2}function a(t,e){return u(t.x,e.x)}function u(t,e){var n=o(t,1),r=o(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}}function nw(t){var e=0,n=tM/3,r=nQ(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*tM/180,n=t[1]*tM/180):[e/tM*180,n/tM*180]},i}function nM(t,e){var n=Math.sin(t),r=(n+Math.sin(e))/2,i=1+n*(2*r-n),o=Math.sqrt(i)/r;function a(t,e){var n=Math.sqrt(i-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}return a.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,tj((i-(t*t+n*n)*r*r)/(2*r))]},a}e.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),(i=o(t)).valid=!0,i},extent:function(u){return arguments.length?(o=nk(t=+u[0][0],e=+u[0][1],n=+u[1][0],r=+u[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(e.geo.conicEqualArea=function(){return nw(nM)}).raw=nM,e.geo.albers=function(){return e.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},e.geo.albersUsa=function(){var t,n,r,i,o=e.geo.albers(),a=e.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),u=e.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s={point:function(e,n){t=[e,n]}};function l(e){var o=e[0],a=e[1];return t=null,n(o,a),t||(r(o,a),t)||i(o,a),t}return l.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?u:o).invert(t)},l.stream=function(t){var e=o.stream(t),n=a.stream(t),r=u.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},l.precision=function(t){return arguments.length?(o.precision(t),a.precision(t),u.precision(t),l):o.precision()},l.scale=function(t){return arguments.length?(o.scale(t),a.scale(.35*t),u.scale(t),l.translate(o.translate())):o.scale()},l.translate=function(t){if(!arguments.length)return o.translate();var e=o.scale(),c=+t[0],f=+t[1];return n=o.translate(t).clipExtent([[c-.455*e,f-.238*e],[c+.455*e,f+.238*e]]).stream(s).point,r=a.translate([c-.307*e,f+.201*e]).clipExtent([[c-.425*e+1e-6,f+.12*e+1e-6],[c-.214*e-1e-6,f+.234*e-1e-6]]).stream(s).point,i=u.translate([c-.205*e,f+.212*e]).clipExtent([[c-.214*e+1e-6,f+.166*e+1e-6],[c-.115*e-1e-6,f+.234*e-1e-6]]).stream(s).point,l},l.scale(1070)};var nA,n_,nE,nS,nC,nN,nT,nD,nj,nF,nO,nL,nP,nW={point:j,lineStart:j,lineEnd:j,polygonStart:function(){nP=0,nW.lineStart=nI},polygonEnd:function(){nW.lineStart=nW.lineEnd=nW.point=j,nL+=y(nP/2)}};function nI(){var t,e,n,r;function i(t,e){nP+=r*t-n*e,n=t,r=e}nW.point=function(o,a){nW.point=i,t=n=o,e=r=a},nW.lineEnd=function(){i(t,e)}}var nz={point:function(t,e){t<rw&&(rw=t),t>rA&&(rA=t),e<rM&&(rM=e),e>r_&&(r_=e)},lineStart:j,lineEnd:j,polygonStart:j,polygonEnd:j};function nH(){var t=nR(4.5),e=[],n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(e){return t=nR(e),n},result:function(){if(e.length){var t=e.join("");return e=[],t}}};function r(n,r){e.push("M",n,",",r,t)}function i(t,r){e.push("M",t,",",r),n.point=o}function o(t,n){e.push("L",t,",",n)}function a(){n.point=r}function u(){e.push("Z")}return n}function nR(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}var nB={point:nq,lineStart:nV,lineEnd:nU,polygonStart:function(){nB.lineStart=nG},polygonEnd:function(){nB.point=nq,nB.lineStart=nV,nB.lineEnd=nU}};function nq(t,e){nE+=t,nS+=e,++nC}function nV(){var t,e;function n(n,r){var i=n-t,o=r-e,a=Math.sqrt(i*i+o*o);nN+=a*(t+n)/2,nT+=a*(e+r)/2,nD+=a,nq(t=n,e=r)}nB.point=function(r,i){nB.point=n,nq(t=r,e=i)}}function nU(){nB.point=nq}function nG(){var t,e,n,r;function i(t,e){var i=t-n,o=e-r,a=Math.sqrt(i*i+o*o);nN+=a*(n+t)/2,nT+=a*(r+e)/2,nD+=a,nj+=(a=r*t-n*e)*(n+t),nF+=a*(r+e),nO+=3*a,nq(n=t,r=e)}nB.point=function(o,a){nB.point=i,nq(t=n=o,e=r=a)},nB.lineEnd=function(){i(t,e)}}function nY(t){var e=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:a,polygonStart:function(){n.lineEnd=u},polygonEnd:function(){n.lineEnd=a,n.point=r},pointRadius:function(t){return e=t,n},result:j};function r(n,r){t.moveTo(n+e,r),t.arc(n,r,e,0,tA)}function i(e,r){t.moveTo(e,r),n.point=o}function o(e,n){t.lineTo(e,n)}function a(){n.point=r}function u(){t.closePath()}return n}function nX(t){var e=.5,n=Math.cos(30*tS),r=16;function i(e){return(r?function(e){var n,i,a,u,s,l,c,f,d,h,p,g,v={point:m,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),v.lineStart=k},polygonEnd:function(){e.polygonEnd(),v.lineStart=y}};function m(n,r){n=t(n,r),e.point(n[0],n[1])}function y(){f=NaN,v.point=x,e.lineStart()}function x(n,i){var a=e6([n,i]),u=t(n,i);o(f,d,c,h,p,g,f=u[0],d=u[1],c=n,h=a[0],p=a[1],g=a[2],r,e),e.point(f,d)}function b(){v.point=m,e.lineEnd()}function k(){y(),v.point=w,v.lineEnd=M}function w(t,e){x(n=t,e),i=f,a=d,u=h,s=p,l=g,v.point=x}function M(){o(f,d,c,h,p,g,i,a,n,u,s,l,r,e),v.lineEnd=b,b()}return v}:function(e){return nZ(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})})(e)}function o(r,i,a,u,s,l,c,f,d,h,p,g,v,m){var x=c-r,b=f-i,k=x*x+b*b;if(k>4*e&&v--){var w=u+h,M=s+p,A=l+g,_=Math.sqrt(w*w+M*M+A*A),E=Math.asin(A/=_),S=1e-6>y(y(A)-1)||1e-6>y(a-d)?(a+d)/2:Math.atan2(M,w),C=t(S,E),N=C[0],T=C[1],D=N-r,j=T-i,F=b*D-x*j;(F*F/k>e||y((x*D+b*j)/k-.5)>.3||u*h+s*p+l*g<n)&&(o(r,i,a,u,s,l,N,T,S,w/=_,M/=_,A,v,m),m.point(N,T),o(N,T,S,w,M,A,c,f,d,h,p,g,v,m))}}return i.precision=function(t){return arguments.length?(r=(e=t*t)>0&&16,i):Math.sqrt(e)},i}function n$(t){this.stream=t}function nZ(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function nJ(t){return nQ(function(){return t})()}function nQ(t){var n,r,i,o,a,u,s=nX(function(t,e){return[(t=n(t,e))[0]*l+o,a-t[1]*l]}),l=150,c=480,f=250,d=0,h=0,p=0,g=0,v=0,m=nx,x=N,b=null,k=null;function w(t){return[(t=i(t[0]*tS,t[1]*tS))[0]*l+o,a-t[1]*l]}function M(t){return(t=i.invert((t[0]-o)/l,(a-t[1])/l))&&[t[0]*tC,t[1]*tC]}function A(){i=nl(r=n3(p,g,v),n);var t=n(d,h);return o=c-t[0]*l,a=f+t[1]*l,_()}function _(){return u&&(u.valid=!1,u=null),w}return w.stream=function(t){return u&&(u.valid=!1),(u=nK(m(r,s(x(t))))).valid=!0,u},w.clipAngle=function(t){return arguments.length?(m=null==t?(b=t,nx):function(t){var e=Math.cos(t),n=e>0,r=y(e)>1e-6;return np(i,function(t){var e,u,s,l,c;return{lineStart:function(){l=s=!1,c=1},point:function(f,d){var h,p,g=[f,d],v=i(f,d),m=n?v?0:a(f,d):v?a(f+(f<0?tM:-tM),d):0;!e&&(l=s=v)&&t.lineStart(),v!==s&&(p=o(e,g),(nn(e,p)||nn(g,p))&&(g[0]+=1e-6,g[1]+=1e-6,v=i(g[0],g[1]))),v!==s?(c=0,v?(t.lineStart(),p=o(g,e),t.point(p[0],p[1])):(p=o(e,g),t.point(p[0],p[1]),t.lineEnd()),e=p):r&&e&&n^v&&!(m&u)&&(h=o(g,e,!0))&&(c=0,n?(t.lineStart(),t.point(h[0][0],h[0][1]),t.point(h[1][0],h[1][1]),t.lineEnd()):(t.point(h[1][0],h[1][1]),t.lineEnd(),t.lineStart(),t.point(h[0][0],h[0][1]))),!v||e&&nn(e,g)||t.point(g[0],g[1]),e=g,s=v,u=m},lineEnd:function(){s&&t.lineEnd(),e=null},clean:function(){return c|(l&&s)<<1}}},n4(t,6*tS),n?[0,-t]:[-tM,t-tM]);function i(t,n){return Math.cos(t)*Math.cos(n)>e}function o(t,n,r){var i=e6(t),o=e6(n),a=[1,0,0],u=e9(i,o),s=e4(u,u),l=u[0],c=s-l*l;if(!c)return!r&&t;var f=e9(a,u),d=e8(a,e*s/c);e7(d,e8(u,-e*l/c));var h=e4(d,f),p=e4(f,f),g=h*h-p*(e4(d,d)-1);if(!(g<0)){var v=Math.sqrt(g),m=e8(f,(-h-v)/p);if(e7(m,d),m=ne(m),!r)return m;var x,b=t[0],k=n[0],w=t[1],M=n[1];k<b&&(x=b,b=k,k=x);var A=k-b,_=1e-6>y(A-tM);if(!_&&M<w&&(x=w,w=M,M=x),_||A<1e-6?_?w+M>0^m[1]<(1e-6>y(m[0]-b)?w:M):w<=m[1]&&m[1]<=M:A>tM^(b<=m[0]&&m[0]<=k)){var E=e8(f,(-h+v)/p);return e7(E,d),[m,ne(E)]}}}function a(e,r){var i=n?t:tM-t,o=0;return e<-i?o|=1:e>i&&(o|=2),r<-i?o|=4:r>i&&(o|=8),o}}((b=+t)*tS),_()):b},w.clipExtent=function(t){return arguments.length?(k=t,x=t?nk(t[0][0],t[0][1],t[1][0],t[1][1]):N,_()):k},w.scale=function(t){return arguments.length?(l=+t,A()):l},w.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],A()):[c,f]},w.center=function(t){return arguments.length?(d=t[0]%360*tS,h=t[1]%360*tS,A()):[d*tC,h*tC]},w.rotate=function(t){return arguments.length?(p=t[0]%360*tS,g=t[1]%360*tS,v=t.length>2?t[2]%360*tS:0,A()):[p*tC,g*tC,v*tC]},e.rebind(w,s,"precision"),function(){return n=t.apply(this,arguments),w.invert=n.invert&&M,A()}}function nK(t){return nZ(t,function(e,n){t.point(e*tS,n*tS)})}function n0(t,e){return[t,e]}function n1(t,e){return[t>tM?t-tA:t<-tM?t+tA:t,e]}function n3(t,e,n){return t?e||n?nl(n5(t),n6(e,n)):n5(t):e||n?n6(e,n):n1}function n2(t){return function(e,n){return[(e+=t)>tM?e-tA:e<-tM?e+tA:e,n]}}function n5(t){var e=n2(t);return e.invert=n2(-t),e}function n6(t,e){var n=Math.cos(t),r=Math.sin(t),i=Math.cos(e),o=Math.sin(e);function a(t,e){var a=Math.cos(e),u=Math.cos(t)*a,s=Math.sin(t)*a,l=Math.sin(e),c=l*n+u*r;return[Math.atan2(s*i-c*o,u*n-l*r),tj(c*i+s*o)]}return a.invert=function(t,e){var a=Math.cos(e),u=Math.cos(t)*a,s=Math.sin(t)*a,l=Math.sin(e),c=l*i-s*o;return[Math.atan2(s*i+l*o,u*n+c*r),tj(c*n-u*r)]},a}function n4(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,u){var s=a*e;null!=i?(i=n9(n,i),o=n9(n,o),(a>0?i<o:i>o)&&(i+=a*tA)):(i=t+a*tA,o=t-.5*s);for(var l,c=i;a>0?c>o:c<o;c-=s)u.point((l=ne([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],l[1])}}function n9(t,e){var n=e6(e);n[0]-=t,nt(n);var r=tD(-n[1]);return((0>-n[2]?-r:r)+2*Math.PI-1e-6)%(2*Math.PI)}function n7(t,n,r){var i=e.range(t,n-1e-6,r).concat(n);return function(t){return i.map(function(e){return[t,e]})}}function n8(t,n,r){var i=e.range(t,n-1e-6,r).concat(n);return function(t){return i.map(function(e){return[e,t]})}}function rt(t){return t.source}function re(t){return t.target}e.geo.path=function(){var t,n,r,i,o,a=4.5;function u(t){return t&&("function"==typeof a&&i.pointRadius(+a.apply(this,arguments)),o&&o.valid||(o=r(i)),e.geo.stream(t,o)),i.result()}return u.area=function(t){return nL=0,e.geo.stream(t,r(nW)),nL},u.centroid=function(t){return nE=nS=nC=nN=nT=nD=nj=nF=nO=0,e.geo.stream(t,r(nB)),nO?[nj/nO,nF/nO]:nD?[nN/nD,nT/nD]:nC?[nE/nC,nS/nC]:[NaN,NaN]},u.bounds=function(t){return rA=r_=-(rw=rM=1/0),e.geo.stream(t,r(nz)),[[rw,rM],[rA,r_]]},u.projection=function(e){var n;return arguments.length?(r=(t=e)?e.stream||(n=nX(function(t,n){return e([t*tC,n*tC])}),function(t){return nK(n(t))}):N,o=null,u):t},u.context=function(t){return arguments.length?(i=null==(n=t)?new nH:new nY(t),"function"!=typeof a&&i.pointRadius(a),o=null,u):n},u.pointRadius=function(t){return arguments.length?(a="function"==typeof t?t:(i.pointRadius(+t),+t),u):a},u.projection(e.geo.albersUsa()).context(null)},e.geo.transform=function(t){return{stream:function(e){var n=new n$(e);for(var r in t)n[r]=t[r];return n}}},n$.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},e.geo.projection=nJ,e.geo.projectionMutator=nQ,(e.geo.equirectangular=function(){return nJ(n0)}).raw=n0.invert=n0,e.geo.rotation=function(t){function e(e){return e=t(e[0]*tS,e[1]*tS),e[0]*=tC,e[1]*=tC,e}return t=n3(t[0]%360*tS,t[1]*tS,t.length>2?t[2]*tS:0),e.invert=function(e){return e=t.invert(e[0]*tS,e[1]*tS),e[0]*=tC,e[1]*=tC,e},e},n1.invert=n0,e.geo.circle=function(){var t,e,n=[0,0],r=6;function i(){var t="function"==typeof n?n.apply(this,arguments):n,r=n3(-t[0]*tS,-t[1]*tS,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=r(t,e)),t[0]*=tC,t[1]*=tC}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(t){return arguments.length?(n=t,i):n},i.angle=function(n){return arguments.length?(e=n4((t=+n)*tS,r*tS),i):t},i.precision=function(n){return arguments.length?(e=n4(t*tS,(r=+n)*tS),i):r},i.angle(90)},e.geo.distance=function(t,e){var n,r=(e[0]-t[0])*tS,i=t[1]*tS,o=e[1]*tS,a=Math.sin(r),u=Math.cos(r),s=Math.sin(i),l=Math.cos(i),c=Math.sin(o),f=Math.cos(o);return Math.atan2(Math.sqrt((n=f*a)*n+(n=l*c-s*f*u)*n),s*c+l*f*u)},e.geo.graticule=function(){var t,n,r,i,o,a,u,s,l,c,f,d,h=10,p=10,g=90,v=360,m=2.5;function x(){return{type:"MultiLineString",coordinates:b()}}function b(){return e.range(Math.ceil(i/g)*g,r,g).map(f).concat(e.range(Math.ceil(s/v)*v,u,v).map(d)).concat(e.range(Math.ceil(n/h)*h,t,h).filter(function(t){return y(t%g)>1e-6}).map(l)).concat(e.range(Math.ceil(a/p)*p,o,p).filter(function(t){return y(t%v)>1e-6}).map(c))}return x.lines=function(){return b().map(function(t){return{type:"LineString",coordinates:t}})},x.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(d(u).slice(1),f(r).reverse().slice(1),d(s).reverse().slice(1))]}},x.extent=function(t){return arguments.length?x.majorExtent(t).minorExtent(t):x.minorExtent()},x.majorExtent=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],s=+t[0][1],u=+t[1][1],i>r&&(t=i,i=r,r=t),s>u&&(t=s,s=u,u=t),x.precision(m)):[[i,s],[r,u]]},x.minorExtent=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],a=+e[0][1],o=+e[1][1],n>t&&(e=n,n=t,t=e),a>o&&(e=a,a=o,o=e),x.precision(m)):[[n,a],[t,o]]},x.step=function(t){return arguments.length?x.majorStep(t).minorStep(t):x.minorStep()},x.majorStep=function(t){return arguments.length?(g=+t[0],v=+t[1],x):[g,v]},x.minorStep=function(t){return arguments.length?(h=+t[0],p=+t[1],x):[h,p]},x.precision=function(e){return arguments.length?(m=+e,l=n7(a,o,90),c=n8(n,t,m),f=n7(s,u,90),d=n8(i,r,m),x):m},x.majorExtent([[-180,-89.999999],[180,89.999999]]).minorExtent([[-180,-80.000001],[180,80.000001]])},e.geo.greatArc=function(){var t,n,r=rt,i=re;function o(){return{type:"LineString",coordinates:[t||r.apply(this,arguments),n||i.apply(this,arguments)]}}return o.distance=function(){return e.geo.distance(t||r.apply(this,arguments),n||i.apply(this,arguments))},o.source=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,o):r},o.target=function(t){return arguments.length?(i=t,n="function"==typeof t?null:t,o):i},o.precision=function(){return arguments.length?o:0},o},e.geo.interpolate=function(t,e){var n,r,i,o,a,u,s,l,c,f,d,h,p,g,v;return n=t[0]*tS,r=t[1]*tS,i=e[0]*tS,o=e[1]*tS,a=Math.cos(r),u=Math.sin(r),s=Math.cos(o),l=Math.sin(o),c=a*Math.cos(n),f=a*Math.sin(n),d=s*Math.cos(i),h=s*Math.sin(i),g=1/Math.sin(p=2*Math.asin(Math.sqrt(tO(o-r)+a*s*tO(i-n)))),(v=p?function(t){var e=Math.sin(t*=p)*g,n=Math.sin(p-t)*g,r=n*c+e*d,i=n*f+e*h;return[Math.atan2(i,r)*tC,Math.atan2(n*u+e*l,Math.sqrt(r*r+i*i))*tC]}:function(){return[n*tC,r*tC]}).distance=p,v},e.geo.length=function(t){return rE=0,e.geo.stream(t,rn),rE};var rn={sphere:j,point:j,lineStart:function(){var t,e,n;function r(r,i){var o=Math.sin(i*=tS),a=Math.cos(i),u=y((r*=tS)-t),s=Math.cos(u);rE+=Math.atan2(Math.sqrt((u=a*Math.sin(u))*u+(u=n*o-e*a*s)*u),e*o+n*a*s),t=r,e=o,n=a}rn.point=function(i,o){t=i*tS,e=Math.sin(o*=tS),n=Math.cos(o),rn.point=r},rn.lineEnd=function(){rn.point=rn.lineEnd=j}},lineEnd:j,polygonStart:j,polygonEnd:j};function rr(t,e){function n(e,n){var r=Math.cos(n),i=t(Math.cos(e)*r);return[i*r*Math.sin(e),i*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i);return[Math.atan2(t*o,r*Math.cos(i)),Math.asin(r&&n*o/r)]},n}var ri=rr(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(e.geo.azimuthalEqualArea=function(){return nJ(ri)}).raw=ri;var ro=rr(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},N);function ra(t,e){var n=Math.cos(t),r=function(t){return Math.tan(tM/4+t/2)},i=t===e?Math.sin(t):Math.log(n/Math.cos(e))/Math.log(r(e)/r(t)),o=n*Math.pow(r(t),i)/i;if(!i)return rl;function a(t,e){o>0?e<-tE+1e-6&&(e=-tE+1e-6):e>tE-1e-6&&(e=tE-1e-6);var n=o/Math.pow(r(e),i);return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}return a.invert=function(t,e){var n=o-e,r=tN(i)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/i,2*Math.atan(Math.pow(o/r,1/i))-tE]},a}function ru(t,e){var n=Math.cos(t),r=t===e?Math.sin(t):(n-Math.cos(e))/(e-t),i=n/r+t;if(1e-6>y(r))return n0;function o(t,e){var n=i-e;return[n*Math.sin(r*t),i-n*Math.cos(r*t)]}return o.invert=function(t,e){var n=i-e;return[Math.atan2(t,n)/r,i-tN(r)*Math.sqrt(t*t+n*n)]},o}(e.geo.azimuthalEquidistant=function(){return nJ(ro)}).raw=ro,(e.geo.conicConformal=function(){return nw(ra)}).raw=ra,(e.geo.conicEquidistant=function(){return nw(ru)}).raw=ru;var rs=rr(function(t){return 1/t},Math.atan);function rl(t,e){return[t,Math.log(Math.tan(tM/4+e/2))]}function rc(t){var e,n=nJ(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var u=tM*r(),s=i();o([[s[0]-u,s[1]-u],[s[0]+u,s[1]+u]])}}else e&&(a=null);return a},n.clipExtent(null)}(e.geo.gnomonic=function(){return nJ(rs)}).raw=rs,rl.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-tE]},(e.geo.mercator=function(){return rc(rl)}).raw=rl;var rf=rr(function(){return 1},Math.asin);(e.geo.orthographic=function(){return nJ(rf)}).raw=rf;var rd=rr(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});function rh(t,e){return[Math.log(Math.tan(tM/4+e/2)),-t]}function rp(t){return t[0]}function rg(t){return t[1]}function rv(t){for(var e=t.length,n=[0,1],r=2,i=2;i<e;i++){for(;r>1&&0>=tT(t[n[r-2]],t[n[r-1]],t[i]);)--r;n[r++]=i}return n.slice(0,r)}function rm(t,e){return t[0]-e[0]||t[1]-e[1]}(e.geo.stereographic=function(){return nJ(rd)}).raw=rd,rh.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-tE]},(e.geo.transverseMercator=function(){var t=rc(rh),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90])}).raw=rh,e.geom={},e.geom.hull=function(t){var e=rp,n=rg;if(arguments.length)return r(t);function r(t){if(t.length<3)return[];var r,i=ee(e),o=ee(n),a=t.length,u=[],s=[];for(r=0;r<a;r++)u.push([+i.call(this,t[r],r),+o.call(this,t[r],r),r]);for(u.sort(rm),r=0;r<a;r++)s.push([u[r][0],-u[r][1]]);var l=rv(u),c=rv(s),f=c[0]===l[0],d=c[c.length-1]===l[l.length-1],h=[];for(r=l.length-1;r>=0;--r)h.push(t[u[l[r]][2]]);for(r=+f;r<c.length-d;++r)h.push(t[u[c[r]][2]]);return h}return r.x=function(t){return arguments.length?(e=t,r):e},r.y=function(t){return arguments.length?(n=t,r):n},r},e.geom.polygon=function(t){return z(t,ry),t};var ry=e.geom.polygon.prototype=[];function rx(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function rb(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,u=r[0]-o,s=t[1],l=n[1],c=e[1]-s,f=r[1]-l,d=(u*(s-l)-f*(i-o))/(f*a-u*c);return[i+d*a,s+d*c]}function rk(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}ry.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return .5*i},ry.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,u=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=u,u=this[r],n=e[0]*u[1]-u[0]*e[1],o+=(e[0]+u[0])*n,a+=(e[1]+u[1])*n;return[o*t,a*t]},ry.clip=function(t){for(var e,n,r,i,o,a,u=rk(t),s=-1,l=this.length-rk(this),c=this[l-1];++s<l;){for(e=t.slice(),t.length=0,i=this[s],o=e[(r=e.length-u)-1],n=-1;++n<r;)rx(a=e[n],c,i)?(rx(o,c,i)||t.push(rb(o,a,c,i)),t.push(a)):rx(o,c,i)&&t.push(rb(o,a,c,i)),o=a;u&&t.push(t[0]),c=i}return t};var rw,rM,rA,r_,rE,rS,rC,rN,rT,rD,rj=[],rF=[];function rO(){rX(this),this.edge=this.site=this.circle=null}function rL(t){var e=rj.pop()||new rO;return e.site=t,e}function rP(t){rB(t),rN.remove(t),rj.push(t),rX(t)}function rW(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var u=(n=a.site).x,s=n.y,l=s-e;if(!l)return u;var c=u-r,f=1/o-1/l,d=c/l;return f?(-d+Math.sqrt(d*d-2*f*(c*c/(-2*l)-s+l/2+i-o/2)))/f+r:(r+u)/2}function rI(t){this.site=t,this.edges=[]}function rz(t,e){return e.angle-t.angle}function rH(){rX(this),this.x=this.y=this.arc=this.site=this.cy=null}function rR(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,u=i.y,s=r.x-a,l=r.y-u,c=o.x-a,f=o.y-u,d=2*(s*f-l*c);if(!(d>=-tw)){var h=s*s+l*l,p=c*c+f*f,g=(f*h-l*p)/d,v=(s*p-c*h)/d,f=v+u,m=rF.pop()||new rH;m.arc=t,m.site=i,m.x=g+a,m.y=f+Math.sqrt(g*g+v*v),m.cy=f,t.circle=m;for(var y=null,x=rD._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(x.L)x=x.L;else{y=x.P;break}}else if(x.R)x=x.R;else{y=x;break}rD.insert(y,m),y||(rT=m)}}}}function rB(t){var e=t.circle;e&&(e.P||(rT=e.N),rD.remove(e),rF.push(e),rX(e),t.circle=null)}function rq(t,e){this.l=t,this.r=e,this.a=this.b=null}function rV(t,e,n,r){var i=new rq(t,e);return rS.push(i),n&&rU(i,t,e,n),r&&rU(i,e,t,r),rC[t.i].edges.push(new rG(i,t,e)),rC[e.i].edges.push(new rG(i,e,t)),i}function rU(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function rG(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function rY(){this._=null}function rX(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function r$(t,e){var n=e.R,r=e.U;r?r.L===e?r.L=n:r.R=n:t._=n,n.U=r,e.U=n,e.R=n.L,e.R&&(e.R.U=e),n.L=e}function rZ(t,e){var n=e.L,r=e.U;r?r.L===e?r.L=n:r.R=n:t._=n,n.U=r,e.U=n,e.L=n.R,e.L&&(e.L.U=e),n.R=e}function rJ(t){for(;t.L;)t=t.L;return t}function rQ(t,e){var n,r,i,o=t.sort(rK).pop();for(rS=[],rC=Array(t.length),rN=new rY,rD=new rY;;)if(i=rT,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(rC[o.i]=new rI(o),function(t){for(var e,n,r,i,o=t.x,a=t.y,u=rN._;u;)if((r=rW(u,a)-o)>1e-6)u=u.L;else if((i=o-function(t,e){var n=t.N;if(n)return rW(n,e);var r=t.site;return r.y===e?r.x:1/0}(u,a))>1e-6){if(!u.R){e=u;break}u=u.R}else{r>-1e-6?(e=u.P,n=u):i>-1e-6?(e=u,n=u.N):e=n=u;break}var s=rL(t);if(rN.insert(e,s),e||n){if(e===n){rB(e),n=rL(e.site),rN.insert(s,n),s.edge=n.edge=rV(e.site,s.site),rR(e),rR(n);return}if(!n){s.edge=rV(e.site,s.site);return}rB(e),rB(n);var l=e.site,c=l.x,f=l.y,d=t.x-c,h=t.y-f,p=n.site,g=p.x-c,v=p.y-f,m=2*(d*v-h*g),y=d*d+h*h,x=g*g+v*v,b={x:(v*y-h*x)/m+c,y:(d*x-g*y)/m+f};rU(n.edge,l,p,b),s.edge=rV(l,t,null,b),n.edge=rV(t,p,null,b),rR(e),rR(n)}}(o),n=o.x,r=o.y),o=t.pop();else if(i)!function(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,u=[t];rP(t);for(var s=o;s.circle&&1e-6>y(n-s.circle.x)&&1e-6>y(r-s.circle.cy);)o=s.P,u.unshift(s),rP(s),s=o;u.unshift(s),rB(s);for(var l=a;l.circle&&1e-6>y(n-l.circle.x)&&1e-6>y(r-l.circle.cy);)a=l.N,u.push(l),rP(l),l=a;u.push(l),rB(l);var c,f=u.length;for(c=1;c<f;++c)l=u[c],s=u[c-1],rU(l.edge,s.site,l.site,i);s=u[0],(l=u[f-1]).edge=rV(s.site,l.site,null,i),rR(s),rR(l)}(i.arc);else break;e&&(function(t){for(var e,n=rS,r=nb(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)(!function(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],u=e[1][0],s=e[0][1],l=e[1][1],c=t.l,f=t.r,d=c.x,h=c.y,p=f.x,g=f.y,v=(d+p)/2;if(g===h){if(v<a||v>=u)return;if(d>p){if(o){if(o.y>=l)return}else o={x:v,y:s};n={x:v,y:l}}else{if(o){if(o.y<s)return}else o={x:v,y:l};n={x:v,y:s}}}else if(r=(d-p)/(g-h),i=(h+g)/2-r*v,r<-1||r>1){if(d>p){if(o){if(o.y>=l)return}else o={x:(s-i)/r,y:s};n={x:(l-i)/r,y:l}}else{if(o){if(o.y<s)return}else o={x:(l-i)/r,y:l};n={x:(s-i)/r,y:s}}}else if(h<g){if(o){if(o.x>=u)return}else o={x:a,y:r*a+i};n={x:u,y:r*u+i}}else{if(o){if(o.x<a)return}else o={x:u,y:r*u+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}(e=n[i],t)||!r(e)||1e-6>y(e.a.x-e.b.x)&&1e-6>y(e.a.y-e.b.y))&&(e.a=e.b=null,n.splice(i,1))}(e),function(t){for(var e,n,r,i,o,a,u,s,l,c,f=t[0][0],d=t[1][0],h=t[0][1],p=t[1][1],g=rC,v=g.length;v--;)if((o=g[v])&&o.prepare())for(s=(u=o.edges).length,a=0;a<s;)r=(c=u[a].end()).x,i=c.y,e=(l=u[++a%s].start()).x,n=l.y,(y(r-e)>1e-6||y(i-n)>1e-6)&&(u.splice(a,0,new rG(function(t,e,n){var r=new rq(t,null);return r.a=e,r.b=n,rS.push(r),r}(o.site,c,1e-6>y(r-f)&&p-i>1e-6?{x:f,y:1e-6>y(e-f)?n:p}:1e-6>y(i-p)&&d-r>1e-6?{x:1e-6>y(n-p)?e:d,y:p}:1e-6>y(r-d)&&i-h>1e-6?{x:d,y:1e-6>y(e-d)?n:h}:1e-6>y(i-h)&&r-f>1e-6?{x:1e-6>y(n-h)?e:f,y:h}:null),o.site,null)),++s)}(e));var a={cells:rC,edges:rS};return rN=rD=rS=rC=null,a}function rK(t,e){return e.y-t.y||e.x-t.x}rI.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)(t=e[n].edge).b&&t.a||e.splice(n,1);return e.sort(rz),e.length},rG.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},rY.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=rJ(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(r$(this,n),n=(t=n).U),n.C=!1,r.C=!0,rZ(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(rZ(this,n),n=(t=n).U),n.C=!1,r.C=!0,r$(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?rJ(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C){t.C=!1;return}do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,r$(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,rZ(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,r$(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,rZ(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,r$(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,rZ(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C)t&&(t.C=!1)}}},e.geom.voronoi=function(t){var e=rp,n=rg,r=e,i=n,o=r0;if(t)return a(t);function a(t){var e=Array(t.length),n=o[0][0],r=o[0][1],i=o[1][0],a=o[1][1];return rQ(u(t),o).cells.forEach(function(o,u){var s=o.edges,l=o.site;(e[u]=s.length?s.map(function(t){var e=t.start();return[e.x,e.y]}):l.x>=n&&l.x<=i&&l.y>=r&&l.y<=a?[[n,a],[i,a],[i,r],[n,r]]:[]).point=t[u]}),e}function u(t){return t.map(function(t,e){return{x:1e-6*Math.round(r(t,e)/1e-6),y:1e-6*Math.round(i(t,e)/1e-6),i:e}})}return a.links=function(t){return rQ(u(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},a.triangles=function(t){var e=[];return rQ(u(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,u=n.edges.sort(rz),s=-1,l=u.length,c=u[l-1].edge,f=c.l===a?c.r:c.l;++s<l;)o=f,f=(c=u[s].edge).l===a?c.r:c.l,r<o.i&&r<f.i&&0>(i=f,(a.x-i.x)*(o.y-a.y)-(a.x-o.x)*(i.y-a.y))&&e.push([t[r],t[o.i],t[f.i]])}),e},a.x=function(t){return arguments.length?(r=ee(e=t),a):e},a.y=function(t){return arguments.length?(i=ee(n=t),a):n},a.clipExtent=function(t){return arguments.length?(o=null==t?r0:t,a):o===r0?null:o},a.size=function(t){return arguments.length?a.clipExtent(t&&[[0,0],t]):o===r0?null:o&&o[1]},a};var r0=[[-1e6,-1e6],[1e6,1e6]];function r1(t){return t.x}function r3(t){return t.y}function r2(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function r5(t,n){t=e.rgb(t),n=e.rgb(n);var r=t.r,i=t.g,o=t.b,a=n.r-r,u=n.g-i,s=n.b-o;return function(t){return"#"+t5(Math.round(r+a*t))+t5(Math.round(i+u*t))+t5(Math.round(o+s*t))}}function r6(t,e){var n,r={},i={};for(n in t)n in e?r[n]=it(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function r4(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function r9(t,e){var n,r,i,o=r7.lastIndex=r8.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=r7.exec(t))&&(r=r8.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:r4(n,r)})),o=r8.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?(e=s[0].x,function(t){return e(t)+""}):function(){return e}:(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}e.geom.delaunay=function(t){return e.geom.voronoi().triangles(t)},e.geom.quadtree=function(t,e,n,r,i){var o,a=rp,u=rg;if(o=arguments.length)return a=r1,u=r3,3===o&&(i=n,r=e,n=e=0),s(t);function s(t){var s,l,c,f,d,h,p,g,v,m=ee(a),x=ee(u);if(null!=e)h=e,p=n,g=r,v=i;else if(g=v=-(h=p=1/0),l=[],c=[],d=t.length,o)for(f=0;f<d;++f)(s=t[f]).x<h&&(h=s.x),s.y<p&&(p=s.y),s.x>g&&(g=s.x),s.y>v&&(v=s.y),l.push(s.x),c.push(s.y);else for(f=0;f<d;++f){var b=+m(s=t[f],f),k=+x(s,f);b<h&&(h=b),k<p&&(p=k),b>g&&(g=b),k>v&&(v=k),l.push(b),c.push(k)}var w=g-h,M=v-p;function A(t,e,n,r,i,o,a,u){if(!(isNaN(n)||isNaN(r))){if(t.leaf){var s=t.x,l=t.y;if(null!=s){if(y(s-n)+y(l-r)<.01)_(t,e,n,r,i,o,a,u);else{var c=t.point;t.x=t.y=t.point=null,_(t,c,s,l,i,o,a,u),_(t,e,n,r,i,o,a,u)}}else t.x=n,t.y=r,t.point=e}else _(t,e,n,r,i,o,a,u)}}function _(t,e,n,r,i,o,a,u){var s=(i+a)*.5,l=(o+u)*.5,c=n>=s,f=r>=l,d=f<<1|c;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=r2()),c?i=s:a=s,f?o=l:u=l,A(t,e,n,r,i,o,a,u)}w>M?v=p+w:g=h+M;var E=r2();if(E.add=function(t){A(E,t,+m(t,++f),+x(t,f),h,p,g,v)},E.visit=function(t){(function t(e,n,r,i,o,a){if(!e(n,r,i,o,a)){var u=(r+o)*.5,s=(i+a)*.5,l=n.nodes;l[0]&&t(e,l[0],r,i,u,s),l[1]&&t(e,l[1],u,i,o,s),l[2]&&t(e,l[2],r,s,u,a),l[3]&&t(e,l[3],u,s,o,a)}})(t,E,h,p,g,v)},E.find=function(t){var e,n,r,i,o,a,u,s;return e=t[0],n=t[1],s=1/0,function t(l,c,f,d,h){if(!(c>o)&&!(f>a)&&!(d<r)&&!(h<i)){if(p=l.point){var p,g=e-l.x,v=n-l.y,m=g*g+v*v;if(m<s){var y=Math.sqrt(s=m);r=e-y,i=n-y,o=e+y,a=n+y,u=p}}for(var x=l.nodes,b=(c+d)*.5,k=(f+h)*.5,w=e>=b,M=n>=k,A=M<<1|w,_=A+4;A<_;++A)if(l=x[3&A])switch(3&A){case 0:t(l,c,f,b,k);break;case 1:t(l,b,f,d,k);break;case 2:t(l,c,k,b,h);break;case 3:t(l,b,k,d,h)}}}(E,r=h,i=p,o=g,a=v),u},f=-1,null==e){for(;++f<d;)A(E,t[f],l[f],c[f],h,p,g,v);--f}else t.forEach(E.add);return l=c=t=s=null,E}return s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(u=t,s):u},s.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),s):null==e?null:[[e,n],[r,i]]},s.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),s):null==e?null:[r-e,i-n]},s},e.interpolateRgb=r5,e.interpolateObject=r6,e.interpolateNumber=r4,e.interpolateString=r9;var r7=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,r8=RegExp(r7.source,"g");function it(t,n){for(var r,i=e.interpolators.length;--i>=0&&!(r=e.interpolators[i](t,n)););return r}function ie(t,e){var n,r=[],i=[],o=t.length,a=e.length,u=Math.min(t.length,e.length);for(n=0;n<u;++n)r.push(it(t[n],e[n]));for(;n<o;++n)i[n]=t[n];for(;n<a;++n)i[n]=e[n];return function(t){for(n=0;n<u;++n)i[n]=r[n](t);return i}}e.interpolate=it,e.interpolators=[function(t,e){var n=typeof e;return("string"===n?et.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?r5:r9:e instanceof tz?r5:Array.isArray(e)?ie:"object"===n&&isNaN(e)?r6:r4)(t,e)}],e.interpolateArray=ie;var ir=function(){return N},ii=e.map({linear:ir,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return is},cubic:function(){return il},sin:function(){return id},exp:function(){return ih},circle:function(){return ip},elastic:function(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/tA*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*tA/e)}},back:function(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}},bounce:function(){return ig}}),io=e.map({in:N,out:ia,"in-out":iu,"out-in":function(t){return iu(ia(t))}});function ia(t){return function(e){return 1-t(1-e)}}function iu(t){return function(e){return .5*(e<.5?t(2*e):2-t(2-2*e))}}function is(t){return t*t}function il(t){return t*t*t}function ic(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function id(t){return 1-Math.cos(t*tE)}function ih(t){return Math.pow(2,10*(t-1))}function ip(t){return 1-Math.sqrt(1-t*t)}function ig(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function iv(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function im(t){var e,n=[t.a,t.b],r=[t.c,t.d],i=ix(n),o=iy(n,r),a=ix((e=-o,r[0]+=e*n[0],r[1]+=e*n[1],r))||0;n[0]*r[1]<r[0]*n[1]&&(n[0]*=-1,n[1]*=-1,i*=-1,o*=-1),this.rotate=(i?Math.atan2(n[1],n[0]):Math.atan2(-r[0],r[1]))*tC,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(o,a)*tC:0}function iy(t,e){return t[0]*e[0]+t[1]*e[1]}function ix(t){var e=Math.sqrt(iy(t,t));return e&&(t[0]/=e,t[1]/=e),e}e.ease=function(t){var e,r=t.indexOf("-"),i=r>=0?t.slice(0,r):t,o=r>=0?t.slice(r+1):"in";return i=ii.get(i)||ir,e=(o=io.get(o)||N)(i.apply(null,n.call(arguments,1))),function(t){return t<=0?0:t>=1?1:e(t)}},e.interpolateHcl=function(t,n){t=e.hcl(t),n=e.hcl(n);var r=t.h,i=t.c,o=t.l,a=n.h-r,u=n.c-i,s=n.l-o;return isNaN(u)&&(u=0,i=isNaN(i)?n.c:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(t){return tU(r+a*t,i+u*t,o+s*t)+""}},e.interpolateHsl=function(t,n){t=e.hsl(t),n=e.hsl(n);var r=t.h,i=t.s,o=t.l,a=n.h-r,u=n.s-i,s=n.l-o;return isNaN(u)&&(u=0,i=isNaN(i)?n.s:i),isNaN(a)?(a=0,r=isNaN(r)?n.h:r):a>180?a-=360:a<-180&&(a+=360),function(t){return tB(r+a*t,i+u*t,o+s*t)+""}},e.interpolateLab=function(t,n){t=e.lab(t),n=e.lab(n);var r=t.l,i=t.a,o=t.b,a=n.l-r,u=n.a-i,s=n.b-o;return function(t){return t$(r+a*t,i+u*t,o+s*t)+""}},e.interpolateRound=iv,e.transform=function(t){var n=i.createElementNS(e.ns.prefix.svg,"g");return(e.transform=function(t){if(null!=t){n.setAttribute("transform",t);var e=n.transform.baseVal.consolidate()}return new im(e?e.matrix:ib)})(t)},im.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var ib={a:1,b:0,c:0,d:1,e:0,f:0};function ik(t){return t.length?t.pop()+",":""}function iw(t,n){var r,i,o,a,u=[],s=[];return t=e.transform(t),n=e.transform(n),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:r4(t[0],e[0])},{i:i-2,x:r4(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}(t.translate,n.translate,u,s),(r=t.rotate)!==(i=n.rotate)?(r-i>180?i+=360:i-r>180&&(r+=360),s.push({i:u.push(ik(u)+"rotate(",null,")")-2,x:r4(r,i)})):i&&u.push(ik(u)+"rotate("+i+")"),(o=t.skew)!==(a=n.skew)?s.push({i:u.push(ik(u)+"skewX(",null,")")-2,x:r4(o,a)}):a&&u.push(ik(u)+"skewX("+a+")"),function(t,e,n,r){if(t[0]!==e[0]||t[1]!==e[1]){var i=n.push(ik(n)+"scale(",null,",",null,")");r.push({i:i-4,x:r4(t[0],e[0])},{i:i-2,x:r4(t[1],e[1])})}else(1!==e[0]||1!==e[1])&&n.push(ik(n)+"scale("+e+")")}(t.scale,n.scale,u,s),t=n=null,function(t){for(var e,n=-1,r=s.length;++n<r;)u[(e=s[n]).i]=e.x(t);return u.join("")}}function iM(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function iA(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function i_(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function iE(t){t.fixed|=2}function iS(t){t.fixed&=-7}function iC(t){t.fixed|=4,t.px=t.x,t.py=t.y}function iN(t){t.fixed&=-5}e.interpolateTransform=iw,e.layout={},e.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(function(t){for(var e=t.source,n=t.target,r=function(t,e){if(t===e)return t;for(var n=i_(t),r=i_(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}(e,n),i=[e];e!==r;)i.push(e=e.parent);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}(t[n]));return e}},e.layout.chord=function(){var t,n,r,i,o,a,u,s={},l=0;function c(){var s,c,d,h,p,g={},v=[],m=e.range(i),y=[];for(t=[],n=[],s=0,h=-1;++h<i;){for(c=0,p=-1;++p<i;)c+=r[h][p];v.push(c),y.push(e.range(i)),s+=c}for(o&&m.sort(function(t,e){return o(v[t],v[e])}),a&&y.forEach(function(t,e){t.sort(function(t,n){return a(r[e][t],r[e][n])})}),s=(tA-l*i)/s,c=0,h=-1;++h<i;){for(d=c,p=-1;++p<i;){var x=m[h],b=y[x][p],k=r[x][b],w=c,M=c+=k*s;g[x+"-"+b]={index:x,subindex:b,startAngle:w,endAngle:M,value:k}}n[x]={index:x,startAngle:d,endAngle:c,value:v[x]},c+=l}for(h=-1;++h<i;)for(p=h-1;++p<i;){var A=g[h+"-"+p],_=g[p+"-"+h];(A.value||_.value)&&t.push(A.value<_.value?{source:_,target:A}:{source:A,target:_})}u&&f()}function f(){t.sort(function(t,e){return u((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}return s.matrix=function(e){return arguments.length?(i=(r=e)&&r.length,t=n=null,s):r},s.padding=function(e){return arguments.length?(l=e,t=n=null,s):l},s.sortGroups=function(e){return arguments.length?(o=e,t=n=null,s):o},s.sortSubgroups=function(e){return arguments.length?(a=e,t=null,s):a},s.sortChords=function(e){return arguments.length?(u=e,t&&f(),s):u},s.chords=function(){return t||c(),t},s.groups=function(){return n||c(),n},s},e.layout.force=function(){var t,n,r,i,o,a,u={},s=e.dispatch("start","tick","end"),l=[1,1],c=.9,f=iT,d=iD,h=-30,p=ij,g=.1,v=.64,m=[],y=[];function x(t){t.px=e.event.x,t.py=e.event.y,u.resume()}return u.tick=function(){if((r*=.99)<.005)return t=null,s.end({type:"end",alpha:r=0}),!0;var n,u,f,d,x,b,k,w,M,A=m.length,_=y.length;for(u=0;u<_;++u)d=(f=y[u]).source,(b=(w=(x=f.target).x-d.x)*w+(M=x.y-d.y)*M)&&(w*=b=r*o[u]*((b=Math.sqrt(b))-i[u])/b,M*=b,x.x-=w*(k=d.weight+x.weight?d.weight/(d.weight+x.weight):.5),x.y-=M*k,d.x+=w*(k=1-k),d.y+=M*k);if((k=r*g)&&(w=l[0]/2,M=l[1]/2,u=-1,k))for(;++u<A;)f=m[u],f.x+=(w-f.x)*k,f.y+=(M-f.y)*k;if(h)for(function t(e,n,r){var i=0,o=0;if(e.charge=0,!e.leaf)for(var a,u=e.nodes,s=u.length,l=-1;++l<s;)null!=(a=u[l])&&(t(a,n,r),e.charge+=a.charge,i+=a.charge*a.cx,o+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var c=n*r[e.point.index];e.charge+=e.pointCharge=c,i+=c*e.point.x,o+=c*e.point.y}e.cx=i/e.charge,e.cy=o/e.charge}(n=e.geom.quadtree(m),r,a),u=-1;++u<A;)(f=m[u]).fixed||n.visit(function(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,u=i-n,s=o*o+a*a;if(u*u/v<s){if(s<p){var l=e.charge/s;t.px-=o*l,t.py-=a*l}return!0}if(e.point&&s&&s<p){var l=e.pointCharge/s;t.px-=o*l,t.py-=a*l}}return!e.charge}}(f));for(u=-1;++u<A;)(f=m[u]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*c,f.y-=(f.py-(f.py=f.y))*c);s.tick({type:"tick",alpha:r})},u.nodes=function(t){return arguments.length?(m=t,u):m},u.links=function(t){return arguments.length?(y=t,u):y},u.size=function(t){return arguments.length?(l=t,u):l},u.linkDistance=function(t){return arguments.length?(f="function"==typeof t?t:+t,u):f},u.distance=u.linkDistance,u.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,u):d},u.friction=function(t){return arguments.length?(c=+t,u):c},u.charge=function(t){return arguments.length?(h="function"==typeof t?t:+t,u):h},u.chargeDistance=function(t){return arguments.length?(p=t*t,u):Math.sqrt(p)},u.gravity=function(t){return arguments.length?(g=+t,u):g},u.theta=function(t){return arguments.length?(v=t*t,u):Math.sqrt(v)},u.alpha=function(e){return arguments.length?(e=+e,r?e>0?r=e:(t.c=null,t.t=NaN,t=null,s.end({type:"end",alpha:r=0})):e>0&&(s.start({type:"start",alpha:r=e}),t=el(u.tick)),u):r},u.start=function(){var t,e,n,r=m.length,s=y.length,c=l[0],p=l[1];for(t=0;t<r;++t)(n=m[t]).index=t,n.weight=0;for(t=0;t<s;++t)"number"==typeof(n=y[t]).source&&(n.source=m[n.source]),"number"==typeof n.target&&(n.target=m[n.target]),++n.source.weight,++n.target.weight;for(t=0;t<r;++t)isNaN((n=m[t]).x)&&(n.x=g("x",c)),isNaN(n.y)&&(n.y=g("y",p)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof f)for(t=0;t<s;++t)i[t]=+f.call(this,y[t],t);else for(t=0;t<s;++t)i[t]=f;if(o=[],"function"==typeof d)for(t=0;t<s;++t)o[t]=+d.call(this,y[t],t);else for(t=0;t<s;++t)o[t]=d;if(a=[],"function"==typeof h)for(t=0;t<r;++t)a[t]=+h.call(this,m[t],t);else for(t=0;t<r;++t)a[t]=h;function g(n,i){if(!e){for(l=0,e=Array(r);l<r;++l)e[l]=[];for(l=0;l<s;++l){var o=y[l];e[o.source.index].push(o.target),e[o.target.index].push(o.source)}}for(var a,u=e[t],l=-1,c=u.length;++l<c;)if(!isNaN(a=u[l][n]))return a;return Math.random()*i}return u.resume()},u.resume=function(){return u.alpha(.1)},u.stop=function(){return u.alpha(0)},u.drag=function(){if(n||(n=e.behavior.drag().origin(N).on("dragstart.force",iE).on("drag.force",x).on("dragend.force",iS)),!arguments.length)return n;this.on("mouseover.force",iC).on("mouseout.force",iN).call(n)},e.rebind(u,s,"on")};var iT=20,iD=1,ij=1/0;function iF(t,n){return e.rebind(t,n,"sort","children","value"),t.nodes=t,t.links=iz,t}function iO(t,e){for(var n,r,i=[t];null!=(t=i.pop());)if(e(t),(r=t.children)&&(n=r.length))for(;--n>=0;)i.push(r[n])}function iL(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function iP(t){return t.children}function iW(t){return t.value}function iI(t,e){return e.value-t.value}function iz(t){return e.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}e.layout.hierarchy=function(){var t=iI,e=iP,n=iW;function r(i){var o,a,u,s,l=[i],c=[];for(i.depth=0;null!=(s=l.pop());)if(c.push(s),(a=e.call(r,s,s.depth))&&(o=a.length)){for(;--o>=0;)l.push(u=a[o]),u.parent=s,u.depth=s.depth+1;n&&(s.value=0),s.children=a}else n&&(s.value=+n.call(r,s,s.depth)||0),delete s.children;return iL(i,function(e){var r,i;t&&(r=e.children)&&r.sort(t),n&&(i=e.parent)&&(i.value+=e.value)}),c}return r.sort=function(e){return arguments.length?(t=e,r):t},r.children=function(t){return arguments.length?(e=t,r):e},r.value=function(t){return arguments.length?(n=t,r):n},r.revalue=function(t){return n&&(iO(t,function(t){t.children&&(t.value=0)}),iL(t,function(t){var e;t.children||(t.value=+n.call(r,t,t.depth)||0),(e=t.parent)&&(e.value+=t.value)})),t},r},e.layout.partition=function(){var t=e.layout.hierarchy(),n=[1,1];function r(e,r){var i=t.call(this,e,r);return function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,u,s,l=-1;for(r=e.value?r/e.value:0;++l<a;)t(u=o[l],n,s=u.value*r,i),n+=s}}(i[0],0,n[0],n[1]/function t(e){var n=e.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,t(n[o]));return 1+r}(i[0])),i}return r.size=function(t){return arguments.length?(n=t,r):n},iF(r,t)},e.layout.pie=function(){var t=Number,n=iH,r=0,i=tA,o=0;function a(u){var s,l=u.length,c=u.map(function(e,n){return+t.call(a,e,n)}),f=+("function"==typeof r?r.apply(this,arguments):r),d=("function"==typeof i?i.apply(this,arguments):i)-f,h=Math.min(Math.abs(d)/l,+("function"==typeof o?o.apply(this,arguments):o)),p=h*(d<0?-1:1),g=e.sum(c),v=g?(d-l*p)/g:0,m=e.range(l),y=[];return null!=n&&m.sort(n===iH?function(t,e){return c[e]-c[t]}:function(t,e){return n(u[t],u[e])}),m.forEach(function(t){y[t]={data:u[t],value:s=c[t],startAngle:f,endAngle:f+=s*v+p,padAngle:h}}),y}return a.value=function(e){return arguments.length?(t=e,a):t},a.sort=function(t){return arguments.length?(n=t,a):n},a.startAngle=function(t){return arguments.length?(r=t,a):r},a.endAngle=function(t){return arguments.length?(i=t,a):i},a.padAngle=function(t){return arguments.length?(o=t,a):o},a};var iH={};function iR(t){return t.x}function iB(t){return t.y}function iq(t,e,n){t.y0=e,t.y=n}e.layout.stack=function(){var t=N,n=iG,r=iY,i=iq,o=iR,a=iB;function u(s,l){if(!(h=s.length))return s;var c=s.map(function(e,n){return t.call(u,e,n)}),f=c.map(function(t){return t.map(function(t,e){return[o.call(u,t,e),a.call(u,t,e)]})}),d=n.call(u,f,l);c=e.permute(c,d),f=e.permute(f,d);var h,p,g,v,m=r.call(u,f,l),y=c[0].length;for(g=0;g<y;++g)for(i.call(u,c[0][g],v=m[g],f[0][g][1]),p=1;p<h;++p)i.call(u,c[p][g],v+=f[p-1][g][1],f[p][g][1]);return s}return u.values=function(e){return arguments.length?(t=e,u):t},u.order=function(t){return arguments.length?(n="function"==typeof t?t:iV.get(t)||iG,u):n},u.offset=function(t){return arguments.length?(r="function"==typeof t?t:iU.get(t)||iY,u):r},u.x=function(t){return arguments.length?(o=t,u):o},u.y=function(t){return arguments.length?(a=t,u):a},u.out=function(t){return arguments.length?(i=t,u):i},u};var iV=e.map({"inside-out":function(t){var n,r,i=t.length,o=t.map(iX),a=t.map(i$),u=e.range(i).sort(function(t,e){return o[t]-o[e]}),s=0,l=0,c=[],f=[];for(n=0;n<i;++n)r=u[n],s<l?(s+=a[r],c.push(r)):(l+=a[r],f.push(r));return f.reverse().concat(c)},reverse:function(t){return e.range(t.length).reverse()},default:iG}),iU=e.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],u=0,s=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];r>u&&(u=r),a.push(r)}for(n=0;n<o;++n)s[n]=(u-a[n])/2;return s},wiggle:function(t){var e,n,r,i,o,a,u,s,l,c=t.length,f=t[0],d=f.length,h=[];for(n=1,h[0]=s=l=0;n<d;++n){for(e=0,i=0;e<c;++e)i+=t[e][n][1];for(e=0,o=0,u=f[n][0]-f[n-1][0];e<c;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*u);r<e;++r)a+=(t[r][n][1]-t[r][n-1][1])/u;o+=a*t[e][n][1]}h[n]=s-=i?o/i*u:0,s<l&&(l=s)}for(n=0;n<d;++n)h[n]-=l;return h},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,u=[];for(n=0;n<o;++n){for(e=0,r=0;e<i;e++)r+=t[e][n][1];if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=a}for(n=0;n<o;++n)u[n]=0;return u},zero:iY});function iG(t){return e.range(t.length)}function iY(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function iX(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;n<o;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function i$(t){return t.reduce(iZ,0)}function iZ(t,e){return t+e[1]}function iJ(t,e){return iQ(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function iQ(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function iK(t){return[e.min(t),e.max(t)]}function i0(t,e){return t.value-e.value}function i1(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function i3(t,e){t._pack_next=e,e._pack_prev=t}function i2(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return .999*i*i>n*n+r*r}function i5(t){if((e=t.children)&&(s=e.length)){var e,n,r,i,o,a,u,s,l=1/0,c=-1/0,f=1/0,d=-1/0;if(e.forEach(i6),(n=e[0]).x=-n.r,n.y=0,x(n),s>1&&((r=e[1]).x=r.r,r.y=0,x(r),s>2))for(i9(n,r,i=e[2]),x(i),i1(n,i),n._pack_prev=i,i1(i,r),r=n._pack_next,o=3;o<s;o++){i9(n,r,i=e[o]);var h=0,p=1,g=1;for(a=r._pack_next;a!==r;a=a._pack_next,p++)if(i2(a,i)){h=1;break}if(1==h)for(u=n._pack_prev;u!==a._pack_prev&&!i2(u,i);u=u._pack_prev,g++);h?(p<g||p==g&&r.r<n.r?i3(n,r=a):i3(n=u,r),o--):(i1(n,i),r=i,x(i))}var v=(l+c)/2,m=(f+d)/2,y=0;for(o=0;o<s;o++)i=e[o],i.x-=v,i.y-=m,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(i4)}function x(t){l=Math.min(t.x-t.r,l),c=Math.max(t.x+t.r,c),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}}function i6(t){t._pack_next=t._pack_prev=t}function i4(t){delete t._pack_next,delete t._pack_prev}function i9(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,u=i*i+o*o;a*=a,r*=r;var s=.5+(r-a)/(2*u),l=Math.sqrt(Math.max(0,2*a*(r+u)-(r-=u)*r-a*a))/(2*u);n.x=t.x+s*i+l*o,n.y=t.y+s*o-l*i}else n.x=t.x+r,n.y=t.y}function i7(t,e){return t.parent==e.parent?1:2}function i8(t){var e=t.children;return e.length?e[0]:t.t}function ot(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function oe(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function on(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return i<0&&(n+=i/2,i=0),o<0&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function or(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function oi(t){return t.rangeExtent?t.rangeExtent():or(t.range())}function oo(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function oa(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function ou(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:os}e.layout.histogram=function(){var t=!0,n=Number,r=iK,i=iJ;function o(o,a){for(var u,s,l=[],c=o.map(n,this),f=r.call(this,c,a),d=i.call(this,f,c,a),a=-1,h=c.length,p=d.length-1,g=t?1:1/h;++a<p;)(u=l[a]=[]).dx=d[a+1]-(u.x=d[a]),u.y=0;if(p>0)for(a=-1;++a<h;)(s=c[a])>=f[0]&&s<=f[1]&&(u=l[e.bisect(d,s,1,p)-1],u.y+=g,u.push(o[a]));return l}return o.value=function(t){return arguments.length?(n=t,o):n},o.range=function(t){return arguments.length?(r=ee(t),o):r},o.bins=function(t){return arguments.length?(i="number"==typeof t?function(e){return iQ(e,t)}:ee(t),o):i},o.frequency=function(e){return arguments.length?(t=!!e,o):t},o},e.layout.pack=function(){var t,n=e.layout.hierarchy().sort(i0),r=0,i=[1,1];function o(e,o){var a=n.call(this,e,o),u=a[0],s=i[0],l=i[1],c=null==t?Math.sqrt:"function"==typeof t?t:function(){return t};if(u.x=u.y=0,iL(u,function(t){t.r=+c(t.value)}),iL(u,i5),r){var f=r*(t?1:Math.max(2*u.r/s,2*u.r/l))/2;iL(u,function(t){t.r+=f}),iL(u,i5),iL(u,function(t){t.r-=f})}return function t(e,n,r,i){var o=e.children;if(e.x=n+=i*e.x,e.y=r+=i*e.y,e.r*=i,o)for(var a=-1,u=o.length;++a<u;)t(o[a],n,r,i)}(u,s/2,l/2,t?1:1/Math.max(2*u.r/s,2*u.r/l)),a}return o.size=function(t){return arguments.length?(i=t,o):i},o.radius=function(e){return arguments.length?(t=null==e||"function"==typeof e?e:+e,o):t},o.padding=function(t){return arguments.length?(r=+t,o):r},iF(o,n)},e.layout.tree=function(){var t=e.layout.hierarchy().sort(null).value(null),n=i7,r=[1,1],i=null;function o(e,o){var l=t.call(this,e,o),c=l[0],f=function(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,u=o.length;a<u;++a)r.push((o[a]=i={_:o[a],parent:e,children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}(c);if(iL(f,a),f.parent.m=-f.z,iO(f,u),i)iO(c,s);else{var d=c,h=c,p=c;iO(c,function(t){t.x<d.x&&(d=t),t.x>h.x&&(h=t),t.depth>p.depth&&(p=t)});var g=n(d,h)/2-d.x,v=r[0]/(h.x+n(h,d)/2+g),m=r[1]/(p.depth||1);iO(c,function(t){t.x=(t.x+g)*v,t.y=t.depth*m})}return l}function a(t){var e=t.children,r=t.parent.children,i=t.i?r[t.i-1]:null;if(e.length){(function(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)})(t);var o=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+n(t._,i._),t.m=t.z-o):t.z=o}else i&&(t.z=i.z+n(t._,i._));t.parent.A=function(t,e,r){if(e){for(var i,o,a,u=t,s=t,l=e,c=u.parent.children[0],f=u.m,d=s.m,h=l.m,p=c.m;l=ot(l),u=i8(u),l&&u;)c=i8(c),(s=ot(s)).a=t,(a=l.z+h-u.z-f+n(l._,u._))>0&&(function(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}((i=l,o=r,i.a.parent===t.parent?i.a:o),t,a),f+=a,d+=a),h+=l.m,f+=u.m,p+=c.m,d+=s.m;l&&!ot(s)&&(s.t=l,s.m+=h-d),u&&!i8(c)&&(c.t=u,c.m+=f-p,r=t)}return r}(t,i,t.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=r[0],t.y=t.depth*r[1]}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(i=null==(r=t)?s:null,o):i?null:r},o.nodeSize=function(t){return arguments.length?(i=null==(r=t)?null:s,o):i?r:null},iF(o,t)},e.layout.cluster=function(){var t=e.layout.hierarchy().sort(null).value(null),n=i7,r=[1,1],i=!1;function o(o,a){var u,s=t.call(this,o,a),l=s[0],c=0;iL(l,function(t){var r=t.children;r&&r.length?(t.x=r.reduce(function(t,e){return t+e.x},0)/r.length,t.y=1+e.max(r,function(t){return t.y})):(t.x=u?c+=n(t,u):0,t.y=0,u=t)});var f=function t(e){var n=e.children;return n&&n.length?t(n[0]):e}(l),d=function t(e){var n,r=e.children;return r&&(n=r.length)?t(r[n-1]):e}(l),h=f.x-n(f,d)/2,p=d.x+n(d,f)/2;return iL(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-h)/(p-h)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}return o.separation=function(t){return arguments.length?(n=t,o):n},o.size=function(t){return arguments.length?(i=null==(r=t),o):i?null:r},o.nodeSize=function(t){return arguments.length?(i=null!=(r=t),o):i?r:null},iF(o,t)},e.layout.treemap=function(){var t,n=e.layout.hierarchy(),r=Math.round,i=[1,1],o=null,a=oe,u=!1,s="squarify",l=.5*(1+Math.sqrt(5));function c(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(e<0?0:e),n.area=isNaN(r)||r<=0?0:r}function f(t,e,n,i){var o,a=-1,u=t.length,s=n.x,l=n.y,c=e?r(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<u;)(o=t[a]).x=s,o.y=l,o.dy=c,s+=o.dx=Math.min(n.x+n.dx-s,c?r(o.area/c):0);o.z=!0,o.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<u;)(o=t[a]).x=s,o.y=l,o.dx=c,l+=o.dy=Math.min(n.y+n.dy-l,c?r(o.area/c):0);o.z=!1,o.dy+=n.y+n.dy-l,n.x+=c,n.dx-=c}}function d(e){var r=t||n(e),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,t&&n.revalue(o),c([o],o.dx*o.dy/o.value),(t?function t(e){var n=e.children;if(n&&n.length){var r,i=a(e),o=n.slice(),u=[];for(c(o,i.dx*i.dy/e.value),u.area=0;r=o.pop();)u.push(r),u.area+=r.area,null!=r.z&&(f(u,r.z?i.dx:i.dy,i,!o.length),u.length=u.area=0);n.forEach(t)}}:function t(e){var n=e.children;if(n&&n.length){var r,i,o,u=a(e),d=[],h=n.slice(),p=1/0,g="slice"===s?u.dx:"dice"===s?u.dy:"slice-dice"===s?1&e.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(c(h,u.dx*u.dy/e.value),d.area=0;(o=h.length)>0;)d.push(r=h[o-1]),d.area+=r.area,"squarify"!==s||(i=function(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,u=t.length;++a<u;)(n=t[a].area)&&(n<o&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*l/r,r/(e*o*l)):1/0}(d,g))<=p?(h.pop(),p=i):(d.area-=d.pop().area,f(d,g,u,!1),g=Math.min(u.dx,u.dy),d.length=d.area=0,p=1/0);d.length&&(f(d,g,u,!0),d.length=d.area=0),n.forEach(t)}})(o),u&&(t=r),r}return d.size=function(t){return arguments.length?(i=t,d):i},d.padding=function(t){var e;return arguments.length?(a=null==(o=t)?oe:"function"==(e=typeof t)?function(e){var n=t.call(d,e,e.depth);return null==n?oe(e):on(e,"number"==typeof n?[n,n,n,n]:n)}:("number"===e&&(t=[t,t,t,t]),function(e){return on(e,t)}),d):o},d.round=function(t){return arguments.length?(r=t?Math.round:Number,d):r!=Number},d.sticky=function(e){return arguments.length?(u=e,t=null,d):u},d.ratio=function(t){return arguments.length?(l=t,d):l},d.mode=function(t){return arguments.length?(s=t+"",d):s},iF(d,n)},e.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,r,i;do i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r;while(!i||i>1)return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=e.random.normal.apply(e,arguments);return function(){return Math.exp(t())}},bates:function(t){var n=e.random.irwinHall(t);return function(){return n()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},e.scale={};var os={floor:N,ceil:N};function ol(t,n,r,i){var o=[],a=[],u=0,s=Math.min(t.length,n.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<=s;)o.push(r(t[u-1],t[u])),a.push(i(n[u-1],n[u]));return function(n){var r=e.bisect(t,n,1,s)-1;return a[r](o[r](n))}}function oc(t,n){return e.rebind(t,n,"range","rangeRound","interpolate","clamp")}function of(t,e){return oa(t,ou(od(t,e)[2])),oa(t,ou(od(t,e)[2])),t}function od(t,e){null==e&&(e=10);var n=or(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return o<=.15?i*=10:o<=.35?i*=5:o<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function oh(t,n){return e.range.apply(e,od(t,n))}function op(t,n,r){var i=od(t,n);if(r){var o,a,u=eg.exec(r);if(u.shift(),"s"===u[8]){var s=e.formatPrefix(Math.max(y(i[0]),y(i[1])));return u[7]||(u[7]="."+ov(s.scale(i[2]))),u[8]="f",r=e.format(u.join("")),function(t){return r(s.scale(t))+s.symbol}}u[7]||(u[7]="."+(o=u[8],a=ov(i[2]),o in og?Math.abs(a-ov(Math.max(y(i[0]),y(i[1]))))+ +("e"!==o):a-("%"===o)*2)),r=u.join("")}else r=",."+ov(i[2])+"f";return e.format(r)}e.scale.linear=function(){return function t(e,n,r,i){var o,a;function u(){var t=Math.min(e.length,n.length)>2?ol:oo,u=i?iA:iM;return o=t(e,n,u,r),a=t(n,e,u,it),s}function s(t){return o(t)}return s.invert=function(t){return a(t)},s.domain=function(t){return arguments.length?(e=t.map(Number),u()):e},s.range=function(t){return arguments.length?(n=t,u()):n},s.rangeRound=function(t){return s.range(t).interpolate(iv)},s.clamp=function(t){return arguments.length?(i=t,u()):i},s.interpolate=function(t){return arguments.length?(r=t,u()):r},s.ticks=function(t){return oh(e,t)},s.tickFormat=function(t,n){return op(e,t,n)},s.nice=function(t){return of(e,t),u()},s.copy=function(){return t(e,n,r,i)},u()}([0,1],[0,1],it,!1)};var og={s:1,g:1,p:1,r:1,e:1};function ov(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}e.scale.log=function(){return function t(n,r,i,o){function a(t){return(i?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(r)}function u(t){return i?Math.pow(r,t):-Math.pow(r,-t)}function s(t){return n(a(t))}return s.invert=function(t){return u(n.invert(t))},s.domain=function(t){return arguments.length?(i=t[0]>=0,n.domain((o=t.map(Number)).map(a)),s):o},s.base=function(t){return arguments.length?(r=+t,n.domain(o.map(a)),s):r},s.nice=function(){var t=oa(o.map(a),i?Math:oy);return n.domain(t),o=t.map(u),s},s.ticks=function(){var t=or(o),e=[],n=t[0],s=t[1],l=Math.floor(a(n)),c=Math.ceil(a(s)),f=r%1?2:r;if(isFinite(c-l)){if(i){for(;l<c;l++)for(var d=1;d<f;d++)e.push(u(l)*d);e.push(u(l))}else for(e.push(u(l));l++<c;)for(var d=f-1;d>0;d--)e.push(u(l)*d);for(l=0;e[l]<n;l++);for(c=e.length;e[c-1]>s;c--);e=e.slice(l,c)}return e},s.tickFormat=function(t,n){if(!arguments.length)return om;arguments.length<2?n=om:"function"!=typeof n&&(n=e.format(n));var i=Math.max(1,r*t/s.ticks().length);return function(t){var e=t/u(Math.round(a(t)));return e*r<r-.5&&(e*=r),e<=i?n(t):""}},s.copy=function(){return t(n.copy(),r,i,o)},oc(s,n)}(e.scale.linear().domain([0,1]),10,!0,[1,10])};var om=e.format(".0e"),oy={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function ox(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}e.scale.pow=function(){return function t(e,n,r){var i=ox(n),o=ox(1/n);function a(t){return e(i(t))}return a.invert=function(t){return o(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((r=t.map(Number)).map(i)),a):r},a.ticks=function(t){return oh(r,t)},a.tickFormat=function(t,e){return op(r,t,e)},a.nice=function(t){return a.domain(of(r,t))},a.exponent=function(t){return arguments.length?(i=ox(n=t),o=ox(1/n),e.domain(r.map(i)),a):n},a.copy=function(){return t(e.copy(),n,r)},oc(a,e)}(e.scale.linear(),1,[0,1])},e.scale.sqrt=function(){return e.scale.pow().exponent(.5)},e.scale.ordinal=function(){return function t(n,r){var i,o,a;function u(t){return o[((i.get(t)||("range"===r.t?i.set(t,n.push(t)):NaN))-1)%o.length]}function s(t,r){return e.range(n.length).map(function(e){return t+r*e})}return u.domain=function(t){if(!arguments.length)return n;n=[],i=new b;for(var e,o=-1,a=t.length;++o<a;)i.has(e=t[o])||i.set(e,n.push(e));return u[r.t].apply(u,r.a)},u.range=function(t){return arguments.length?(o=t,a=0,r={t:"range",a:arguments},u):o},u.rangePoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],l=t[1],c=n.length<2?(i=(i+l)/2,0):(l-i)/(n.length-1+e);return o=s(i+c*e/2,c),a=0,r={t:"rangePoints",a:arguments},u},u.rangeRoundPoints=function(t,e){arguments.length<2&&(e=0);var i=t[0],l=t[1],c=n.length<2?(i=l=Math.round((i+l)/2),0):(l-i)/(n.length-1+e)|0;return o=s(i+Math.round(c*e/2+(l-i-(n.length-1+e)*c)/2),c),a=0,r={t:"rangeRoundPoints",a:arguments},u},u.rangeBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var l=t[1]<t[0],c=t[l-0],f=(t[1-l]-c)/(n.length-e+2*i);return o=s(c+f*i,f),l&&o.reverse(),a=f*(1-e),r={t:"rangeBands",a:arguments},u},u.rangeRoundBands=function(t,e,i){arguments.length<2&&(e=0),arguments.length<3&&(i=e);var l=t[1]<t[0],c=t[l-0],f=t[1-l],d=Math.floor((f-c)/(n.length-e+2*i));return o=s(c+Math.round((f-c-(n.length-e)*d)/2),d),l&&o.reverse(),a=Math.round(d*(1-e)),r={t:"rangeRoundBands",a:arguments},u},u.rangeBand=function(){return a},u.rangeExtent=function(){return or(r.a[0])},u.copy=function(){return t(n,r)},u.domain(n)}([],{t:"range",a:[[]]})},e.scale.category10=function(){return e.scale.ordinal().range(ob)},e.scale.category20=function(){return e.scale.ordinal().range(ok)},e.scale.category20b=function(){return e.scale.ordinal().range(ow)},e.scale.category20c=function(){return e.scale.ordinal().range(oM)};var ob=[2062260,0xff7f0e,2924588,0xd62728,9725885,9197131,0xe377c2,8355711,0xbcbd22,1556175].map(t3),ok=[2062260,0xaec7e8,0xff7f0e,0xffbb78,2924588,0x98df8a,0xd62728,0xff9896,9725885,0xc5b0d5,9197131,0xc49c94,0xe377c2,0xf7b6d2,8355711,0xc7c7c7,0xbcbd22,0xdbdb8d,1556175,0x9edae5].map(t3),ow=[3750777,5395619,7040719,0x9c9ede,6519097,9216594,0xb5cf6b,0xcedb9c,9202993,0xbd9e39,0xe7ba52,0xe7cb94,8666169,0xad494a,0xd6616b,0xe7969c,8077683,0xa55194,0xce6dbd,0xde9ed6].map(t3),oM=[3244733,7057110,0x9ecae1,0xc6dbef,0xe6550d,0xfd8d3c,0xfdae6b,0xfdd0a2,3253076,7652470,0xa1d99b,0xc7e9c0,7695281,0x9e9ac8,0xbcbddc,0xdadaeb,6513507,9868950,0xbdbdbd,0xd9d9d9].map(t3);function oA(){return 0}e.scale.quantile=function(){return function t(n,r){var i;function o(){var t=0,o=r.length;for(i=[];++t<o;)i[t-1]=e.quantile(n,t/o);return a}function a(t){if(!isNaN(t=+t))return r[e.bisect(i,t)]}return a.domain=function(t){return arguments.length?(n=t.map(h).filter(p).sort(d),o()):n},a.range=function(t){return arguments.length?(r=t,o()):r},a.quantiles=function(){return i},a.invertExtent=function(t){return(t=r.indexOf(t))<0?[NaN,NaN]:[t>0?i[t-1]:n[0],t<i.length?i[t]:n[n.length-1]]},a.copy=function(){return t(n,r)},o()}([],[])},e.scale.quantize=function(){return function t(e,n,r){var i,o;function a(t){return r[Math.max(0,Math.min(o,Math.floor(i*(t-e))))]}function u(){return i=r.length/(n-e),o=r.length-1,a}return a.domain=function(t){return arguments.length?(e=+t[0],n=+t[t.length-1],u()):[e,n]},a.range=function(t){return arguments.length?(r=t,u()):r},a.invertExtent=function(t){return[t=(t=r.indexOf(t))<0?NaN:t/i+e,t+1/i]},a.copy=function(){return t(e,n,r)},u()}(0,1,[0,1])},e.scale.threshold=function(){return function t(n,r){function i(t){if(t<=t)return r[e.bisect(n,t)]}return i.domain=function(t){return arguments.length?(n=t,i):n},i.range=function(t){return arguments.length?(r=t,i):r},i.invertExtent=function(t){return[n[(t=r.indexOf(t))-1],n[t]]},i.copy=function(){return t(n,r)},i}([.5],[0,1])},e.scale.identity=function(){return function t(e){function n(t){return+t}return n.invert=n,n.domain=n.range=function(t){return arguments.length?(e=t.map(n),n):e},n.ticks=function(t){return oh(e,t)},n.tickFormat=function(t,n){return op(e,t,n)},n.copy=function(){return t(e)},n}([0,1])},e.svg={},e.svg.arc=function(){var t=oE,e=oS,n=oA,r=o_,i=oC,o=oN,a=oT;function u(){var u=Math.max(0,+t.apply(this,arguments)),l=Math.max(0,+e.apply(this,arguments)),c=i.apply(this,arguments)-tE,f=o.apply(this,arguments)-tE,d=Math.abs(f-c),h=c>f?0:1;if(l<u&&(p=l,l=u,u=p),d>=t_)return s(l,h)+(u?s(u,1-h):"")+"Z";var p,g,v,m,y,x,b,k,w,M,A,_,E=0,S=0,C=[];if((m=(+a.apply(this,arguments)||0)/2)&&(v=r===o_?Math.sqrt(u*u+l*l):+r.apply(this,arguments),h||(S*=-1),l&&(S=tj(v/l*Math.sin(m))),u&&(E=tj(v/u*Math.sin(m)))),l){y=l*Math.cos(c+S),x=l*Math.sin(c+S),b=l*Math.cos(f-S),k=l*Math.sin(f-S);var N=Math.abs(f-c-2*S)<=tM?0:1;if(S&&oD(y,x,b,k)===h^N){var T=(c+f)/2;y=l*Math.cos(T),x=l*Math.sin(T),b=k=null}}else y=x=0;if(u){w=u*Math.cos(f-E),M=u*Math.sin(f-E),A=u*Math.cos(c+E),_=u*Math.sin(c+E);var D=Math.abs(c-f+2*E)<=tM?0:1;if(E&&oD(w,M,A,_)===1-h^D){var j=(c+f)/2;w=u*Math.cos(j),M=u*Math.sin(j),A=_=null}}else w=M=0;if(d>1e-6&&(p=Math.min(Math.abs(l-u)/2,+n.apply(this,arguments)))>.001){g=u<l^h?0:1;var F=p,O=p;if(d<tM){var L=null==A?[w,M]:null==b?[y,x]:rb([y,x],[A,_],[b,k],[w,M]),P=y-L[0],W=x-L[1],I=b-L[0],z=k-L[1],H=1/Math.sin(Math.acos((P*I+W*z)/(Math.sqrt(P*P+W*W)*Math.sqrt(I*I+z*z)))/2),R=Math.sqrt(L[0]*L[0]+L[1]*L[1]);O=Math.min(p,(u-R)/(H-1)),F=Math.min(p,(l-R)/(H+1))}if(null!=b){var B=oj(null==A?[w,M]:[A,_],[y,x],l,F,h),q=oj([b,k],[w,M],l,F,h);p===F?C.push("M",B[0],"A",F,",",F," 0 0,",g," ",B[1],"A",l,",",l," 0 ",1-h^oD(B[1][0],B[1][1],q[1][0],q[1][1]),",",h," ",q[1],"A",F,",",F," 0 0,",g," ",q[0]):C.push("M",B[0],"A",F,",",F," 0 1,",g," ",q[0])}else C.push("M",y,",",x);if(null!=A){var V=oj([y,x],[A,_],u,-O,h),U=oj([w,M],null==b?[y,x]:[b,k],u,-O,h);p===O?C.push("L",U[0],"A",O,",",O," 0 0,",g," ",U[1],"A",u,",",u," 0 ",h^oD(U[1][0],U[1][1],V[1][0],V[1][1]),",",1-h," ",V[1],"A",O,",",O," 0 0,",g," ",V[0]):C.push("L",U[0],"A",O,",",O," 0 0,",g," ",V[0])}else C.push("L",w,",",M)}else C.push("M",y,",",x),null!=b&&C.push("A",l,",",l," 0 ",N,",",h," ",b,",",k),C.push("L",w,",",M),null!=A&&C.push("A",u,",",u," 0 ",D,",",1-h," ",A,",",_);return C.push("Z"),C.join("")}function s(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}return u.innerRadius=function(e){return arguments.length?(t=ee(e),u):t},u.outerRadius=function(t){return arguments.length?(e=ee(t),u):e},u.cornerRadius=function(t){return arguments.length?(n=ee(t),u):n},u.padRadius=function(t){return arguments.length?(r=t==o_?o_:ee(t),u):r},u.startAngle=function(t){return arguments.length?(i=ee(t),u):i},u.endAngle=function(t){return arguments.length?(o=ee(t),u):o},u.padAngle=function(t){return arguments.length?(a=ee(t),u):a},u.centroid=function(){var n=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-tE;return[Math.cos(r)*n,Math.sin(r)*n]},u};var o_="auto";function oE(t){return t.innerRadius}function oS(t){return t.outerRadius}function oC(t){return t.startAngle}function oN(t){return t.endAngle}function oT(t){return t&&t.padAngle}function oD(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function oj(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],u=(i?r:-r)/Math.sqrt(o*o+a*a),s=u*a,l=-u*o,c=t[0]+s,f=t[1]+l,d=e[0]+s,h=e[1]+l,p=(c+d)/2,g=(f+h)/2,v=d-c,m=h-f,y=v*v+m*m,x=n-r,b=c*h-d*f,k=(m<0?-1:1)*Math.sqrt(Math.max(0,x*x*y-b*b)),w=(b*m-v*k)/y,M=(-b*v-m*k)/y,A=(b*m+v*k)/y,_=(-b*v+m*k)/y,E=w-p,S=M-g,C=A-p,N=_-g;return E*E+S*S>C*C+N*N&&(w=A,M=_),[[w-s,M-l],[w*n/x,M*n/x]]}function oF(t){var e=rp,n=rg,r=nc,i=oL,o=i.key,a=.7;function u(o){var u,s=[],l=[],c=-1,f=o.length,d=ee(e),h=ee(n);function p(){s.push("M",i(t(l),a))}for(;++c<f;)r.call(this,u=o[c],c)?l.push([+d.call(this,u,c),+h.call(this,u,c)]):l.length&&(p(),l=[]);return l.length&&p(),s.length?s.join(""):null}return u.x=function(t){return arguments.length?(e=t,u):e},u.y=function(t){return arguments.length?(n=t,u):n},u.defined=function(t){return arguments.length?(r=t,u):r},u.interpolate=function(t){return arguments.length?(o="function"==typeof t?i=t:(i=oO.get(t)||oL).key,u):o},u.tension=function(t){return arguments.length?(a=t,u):a},u}e.svg.line=function(){return oF(N)};var oO=e.map({linear:oL,"linear-closed":oP,step:function(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);return n>1&&i.push("H",r[0]),i.join("")},"step-before":oW,"step-after":oI,basis:oR,"basis-open":function(t){if(t.length<4)return oL(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(oB(oU,o)+","+oB(oU,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),oG(n,o,a);return n.join("")},"basis-closed":function(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],u=[];++r<4;)n=t[r%i],a.push(n[0]),u.push(n[1]);for(e=[oB(oU,a),",",oB(oU,u)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),u.shift(),u.push(n[1]),oG(e,a,u);return e.join("")},bundle:function(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],u=t[n][0]-o,s=t[n][1]-a,l=-1;++l<=n;)r=t[l],i=l/n,r[0]=e*r[0]+(1-e)*(o+i*u),r[1]=e*r[1]+(1-e)*(a+i*s);return oR(t)},cardinal:function(t,e){return t.length<3?oL(t):t[0]+oz(t,oH(t,e))},"cardinal-open":function(t,e){return t.length<4?oL(t):t[1]+oz(t.slice(1,-1),oH(t,e))},"cardinal-closed":function(t,e){return t.length<3?oP(t):t[0]+oz((t.push(t[0]),t),oH([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length<3?oL(t):t[0]+oz(t,function(t){for(var e,n,r,i,o=[],a=function(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=oY(i,o);++e<n;)r[e]=(a+(a=oY(i=o,o=t[e+1])))/2;return r[e]=a,r}(t),u=-1,s=t.length-1;++u<s;)1e-6>y(e=oY(t[u],t[u+1]))?a[u]=a[u+1]=0:(i=(n=a[u]/e)*n+(r=a[u+1]/e)*r)>9&&(i=3*e/Math.sqrt(i),a[u]=i*n,a[u+1]=i*r);for(u=-1;++u<=s;)o.push([(i=(t[Math.min(s,u+1)][0]-t[Math.max(0,u-1)][0])/(6*(1+a[u]*a[u])))||0,a[u]*i||0]);return o}(t))}});function oL(t){return t.length>1?t.join("L"):t+"Z"}function oP(t){return t.join("L")+"Z"}function oW(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function oI(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function oz(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return oL(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],u=a,s=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],s=2),e.length>1){u=e[1],o=t[s],s++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1];for(var l=2;l<e.length;l++,s++)o=t[s],u=e[l],r+="S"+(o[0]-u[0])+","+(o[1]-u[1])+","+o[0]+","+o[1]}if(n){var c=t[s];r+="Q"+(o[0]+2*u[0]/3)+","+(o[1]+2*u[1]/3)+","+c[0]+","+c[1]}return r}function oH(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],u=1,s=t.length;++u<s;)n=o,o=a,r.push([i*((a=t[u])[0]-n[0]),i*(a[1]-n[1])]);return r}function oR(t){if(t.length<3)return oL(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],u=[o,o,o,r[1]],s=[i,",",o,"L",oB(oU,a),",",oB(oU,u)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),u.shift(),u.push(r[1]),oG(s,a,u);return t.pop(),s.push("L",r),s.join("")}function oB(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}oO.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var oq=[0,2/3,1/3,0],oV=[0,1/3,2/3,0],oU=[0,1/6,2/3,1/6];function oG(t,e,n){t.push("C",oB(oq,e),",",oB(oq,n),",",oB(oV,e),",",oB(oV,n),",",oB(oU,e),",",oB(oU,n))}function oY(t,e){return(e[1]-t[1])/(e[0]-t[0])}function oX(t){for(var e,n,r,i=-1,o=t.length;++i<o;)n=(e=t[i])[0],r=e[1]-tE,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function o$(t){var e=rp,n=rp,r=0,i=rg,o=nc,a=oL,u=a.key,s=a,l="L",c=.7;function f(u){var f,d,h,p=[],g=[],v=[],m=-1,y=u.length,x=ee(e),b=ee(r),k=e===n?function(){return d}:ee(n),w=r===i?function(){return h}:ee(i);function M(){p.push("M",a(t(v),c),l,s(t(g.reverse()),c),"Z")}for(;++m<y;)o.call(this,f=u[m],m)?(g.push([d=+x.call(this,f,m),h=+b.call(this,f,m)]),v.push([+k.call(this,f,m),+w.call(this,f,m)])):g.length&&(M(),g=[],v=[]);return g.length&&M(),p.length?p.join(""):null}return f.x=function(t){return arguments.length?(e=n=t,f):n},f.x0=function(t){return arguments.length?(e=t,f):e},f.x1=function(t){return arguments.length?(n=t,f):n},f.y=function(t){return arguments.length?(r=i=t,f):i},f.y0=function(t){return arguments.length?(r=t,f):r},f.y1=function(t){return arguments.length?(i=t,f):i},f.defined=function(t){return arguments.length?(o=t,f):o},f.interpolate=function(t){return arguments.length?(u="function"==typeof t?a=t:(a=oO.get(t)||oL).key,s=a.reverse||a,l=a.closed?"M":"L",f):u},f.tension=function(t){return arguments.length?(c=t,f):c},f}function oZ(t){return t.radius}function oJ(t){return[t.x,t.y]}function oQ(){return 64}function oK(){return"circle"}function o0(t){var e=Math.sqrt(t/tM);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}e.svg.line.radial=function(){var t=oF(oX);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},oW.reverse=oI,oI.reverse=oW,e.svg.area=function(){return o$(N)},e.svg.area.radial=function(){var t=o$(oX);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},e.svg.chord=function(){var t=rt,e=re,n=oZ,r=oC,i=oN;function o(n,r){var i,o,s,l,c,f,d,h,p,g=a(this,t,n,r),v=a(this,e,n,r);return"M"+g.p0+u(g.r,g.p1,g.a1-g.a0)+(g.a0==v.a0&&g.a1==v.a1?(g.r,g.p1,g.r,"Q 0,0 "+g.p0):(g.r,g.p1,v.r,"Q 0,0 "+v.p0+u(v.r,v.p1,v.a1-v.a0)+(v.r,v.p1,g.r,"Q 0,0 "+g.p0)))+"Z"}function a(t,e,o,a){var u=e.call(t,o,a),s=n.call(t,u,a),l=r.call(t,u,a)-tE,c=i.call(t,u,a)-tE;return{r:s,a0:l,a1:c,p0:[s*Math.cos(l),s*Math.sin(l)],p1:[s*Math.cos(c),s*Math.sin(c)]}}function u(t,e,n){return"A"+t+","+t+" 0 "+ +(n>tM)+",1 "+e}return o.radius=function(t){return arguments.length?(n=ee(t),o):n},o.source=function(e){return arguments.length?(t=ee(e),o):t},o.target=function(t){return arguments.length?(e=ee(t),o):e},o.startAngle=function(t){return arguments.length?(r=ee(t),o):r},o.endAngle=function(t){return arguments.length?(i=ee(t),o):i},o},e.svg.diagonal=function(){var t=rt,e=re,n=oJ;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i),u=(o.y+a.y)/2,s=[o,{x:o.x,y:u},{x:a.x,y:u},a];return"M"+(s=s.map(n))[0]+"C"+s[1]+" "+s[2]+" "+s[3]}return r.source=function(e){return arguments.length?(t=ee(e),r):t},r.target=function(t){return arguments.length?(e=ee(t),r):e},r.projection=function(t){return arguments.length?(n=t,r):n},r},e.svg.diagonal.radial=function(){var t=e.svg.diagonal(),n=oJ,r=t.projection;return t.projection=function(t){var e;return arguments.length?r((e=n=t,function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-tE;return[n*Math.cos(r),n*Math.sin(r)]})):n},t},e.svg.symbol=function(){var t=oK,e=oQ;function n(n,r){return(o1.get(t.call(this,n,r))||o0)(e.call(this,n,r))}return n.type=function(e){return arguments.length?(t=ee(e),n):t},n.size=function(t){return arguments.length?(e=ee(t),n):e},n};var o1=e.map({circle:o0,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*o2)),n=e*o2;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/o3),n=e*o3/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/o3),n=e*o3/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});e.svg.symbolTypes=o1.keys();var o3=Math.sqrt(3),o2=Math.tan(30*tS);V.transition=function(t){for(var e,n,r=o9||++at,i=ar(t),o=[],a=o7||{time:Date.now(),ease:ic,delay:0,duration:250},u=-1,s=this.length;++u<s;){o.push(e=[]);for(var l=this[u],c=-1,f=l.length;++c<f;)(n=l[c])&&ai(n,c,i,r,a),e.push(n)}return o4(o,i,r)},V.interrupt=function(t){return this.each(null==t?o5:o6(ar(t)))};var o5=o6(ar());function o6(t){return function(){var e,n,r;(e=this[t])&&(r=e[n=e.active])&&(r.timer.c=null,r.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function o4(t,e,n){return z(t,o8),t.namespace=e,t.id=n,t}var o9,o7,o8=[],at=0;function ae(t,e,n,r){var i=t.id,o=t.namespace;return tl(t,"function"==typeof n?function(t,a,u){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,u)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function an(t){return null==t&&(t=""),function(){this.textContent=t}}function ar(t){return null==t?"__transition__":"__transition_"+t+"__"}function ai(t,e,n,r,i){var o,a,u,s,l,c=t[n]||(t[n]={active:0,count:0}),f=c[r];function d(n){var i=c.active,d=c[i];for(var p in d&&(d.timer.c=null,d.timer.t=NaN,--c.count,delete c[i],d.event&&d.event.interrupt.call(t,t.__data__,d.index)),c)if(+p<r){var g=c[p];g.timer.c=null,g.timer.t=NaN,--c.count,delete c[p]}a.c=h,el(function(){return a.c&&h(n||1)&&(a.c=null,a.t=NaN),1},0,o),c.active=r,f.event&&f.event.start.call(t,t.__data__,e),l=[],f.tween.forEach(function(n,r){(r=r.call(t,t.__data__,e))&&l.push(r)}),s=f.ease,u=f.duration}function h(i){for(var o=i/u,a=s(o),d=l.length;d>0;)l[--d].call(t,a);if(o>=1)return f.event&&f.event.end.call(t,t.__data__,e),--c.count?delete c[r]:delete t[n],1}!f&&(a=el(function(t){var e=f.delay;if(a.t=e+o,e<=t)return d(t-e);a.c=d},0,o=i.time),f=c[r]={tween:new b,time:o,timer:a,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++c.count)}o8.call=V.call,o8.empty=V.empty,o8.node=V.node,o8.size=V.size,e.transition=function(t,n){return t&&t.transition?o9?t.transition(n):t:e.selection().transition(t)},e.transition.prototype=o8,o8.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=U(t);for(var u=-1,s=this.length;++u<s;){a.push(e=[]);for(var l=this[u],c=-1,f=l.length;++c<f;)(r=l[c])&&(n=t.call(r,r.__data__,c,u))?("__data__"in r&&(n.__data__=r.__data__),ai(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return o4(a,o,i)},o8.selectAll=function(t){var e,n,r,i,o,a=this.id,u=this.namespace,s=[];t=G(t);for(var l=-1,c=this.length;++l<c;)for(var f=this[l],d=-1,h=f.length;++d<h;)if(r=f[d]){o=r[u][a],n=t.call(r,r.__data__,d,l),s.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&ai(i,p,u,a,o),e.push(i)}return o4(s,u,a)},o8.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=tu(t));for(var o=0,a=this.length;o<a;o++){i.push(e=[]);for(var n=this[o],u=0,s=n.length;u<s;u++)(r=n[u])&&t.call(r,r.__data__,u,o)&&e.push(r)}return o4(i,this.namespace,this.id)},o8.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):tl(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},o8.attr=function(t,n){if(arguments.length<2){for(n in t)this.attr(n,t[n]);return this}var r="transform"==t?iw:it,i=e.ns.qualify(t);function o(){this.removeAttribute(i)}function a(){this.removeAttributeNS(i.space,i.local)}return ae(this,"attr."+t,n,i.local?function(t){return null==t?a:(t+="",function(){var e,n=this.getAttributeNS(i.space,i.local);return n!==t&&(e=r(n,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}:function(t){return null==t?o:(t+="",function(){var e,n=this.getAttribute(i);return n!==t&&(e=r(n,t),function(t){this.setAttribute(i,e(t))})})})},o8.attrTween=function(t,n){var r=e.ns.qualify(t);return this.tween("attr."+t,r.local?function(t,e){var i=n.call(this,t,e,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}:function(t,e){var i=n.call(this,t,e,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}})},o8.style=function(t,e,n){var r=arguments.length;if(r<3){if("string"!=typeof t){for(n in r<2&&(e=""),t)this.style(n,t[n],e);return this}n=""}function i(){this.style.removeProperty(t)}return ae(this,"style."+t,e,function(e){return null==e?i:(e+="",function(){var r,i=a(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=it(i,e),function(e){this.style.setProperty(t,r(e),n)})})})},o8.styleTween=function(t,e,n){return arguments.length<3&&(n=""),this.tween("style."+t,function(r,i){var o=e.call(this,r,i,a(this).getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}})},o8.text=function(t){return ae(this,"text",t,an)},o8.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},o8.ease=function(t){var n=this.id,r=this.namespace;return arguments.length<1?this.node()[r][n].ease:("function"!=typeof t&&(t=e.ease.apply(e,arguments)),tl(this,function(e){e[r][n].ease=t}))},o8.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:tl(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},o8.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:tl(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},o8.each=function(t,n){var r=this.id,i=this.namespace;if(arguments.length<2){var o=o7,a=o9;try{o9=r,tl(this,function(e,n,o){o7=e[i][r],t.call(e,e.__data__,n,o)})}finally{o7=o,o9=a}}else tl(this,function(o){var a=o[i][r];(a.event||(a.event=e.dispatch("start","end","interrupt"))).on(t,n)});return this},o8.transition=function(){for(var t,e,n,r,i=this.id,o=++at,a=this.namespace,u=[],s=0,l=this.length;s<l;s++){u.push(t=[]);for(var e=this[s],c=0,f=e.length;c<f;c++)(n=e[c])&&(r=n[a][i],ai(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return o4(u,a,o)},e.svg.axis=function(){var t,n=e.scale.linear(),i=ao,o=6,a=6,u=3,s=[10],l=null;function c(r){r.each(function(){var r,c=e.select(this),f=this.__chart__||n,d=this.__chart__=n.copy(),h=null==l?d.ticks?d.ticks.apply(d,s):d.domain():l,p=null==t?d.tickFormat?d.tickFormat.apply(d,s):N:t,g=c.selectAll(".tick").data(h,d),v=g.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),m=e.transition(g.exit()).style("opacity",1e-6).remove(),y=e.transition(g.order()).style("opacity",1),x=Math.max(o,0)+u,b=oi(d),k=c.selectAll(".domain").data([0]),w=(k.enter().append("path").attr("class","domain"),e.transition(k));v.append("line"),v.append("text");var M,A,_,E,S=v.select("line"),C=y.select("line"),T=g.select("text").text(p),D=v.select("text"),j=y.select("text"),F="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(r=au,M="x",_="y",A="x2",E="y2",T.attr("dy",F<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+F*a+"V0H"+b[1]+"V"+F*a)):(r=as,M="y",_="x",A="y2",E="x2",T.attr("dy",".32em").style("text-anchor",F<0?"end":"start"),w.attr("d","M"+F*a+","+b[0]+"H0V"+b[1]+"H"+F*a)),S.attr(E,F*o),D.attr(_,F*x),C.attr(A,0).attr(E,F*o),j.attr(M,0).attr(_,F*x),d.rangeBand){var O=d,L=O.rangeBand()/2;f=d=function(t){return O(t)+L}}else f.rangeBand?f=d:m.call(r,d,f);v.call(r,f,d),y.call(r,d,d)})}return c.scale=function(t){return arguments.length?(n=t,c):n},c.orient=function(t){return arguments.length?(i=t in aa?t+"":ao,c):i},c.ticks=function(){return arguments.length?(s=r(arguments),c):s},c.tickValues=function(t){return arguments.length?(l=t,c):l},c.tickFormat=function(e){return arguments.length?(t=e,c):t},c.tickSize=function(t){var e=arguments.length;return e?(o=+t,a=+arguments[e-1],c):o},c.innerTickSize=function(t){return arguments.length?(o=+t,c):o},c.outerTickSize=function(t){return arguments.length?(a=+t,c):a},c.tickPadding=function(t){return arguments.length?(u=+t,c):u},c.tickSubdivide=function(){return arguments.length&&c},c};var ao="bottom",aa={top:1,right:1,bottom:1,left:1};function au(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function as(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}e.svg.brush=function(){var t,n,r=W(d,"brushstart","brush","brushend"),i=null,o=null,u=[0,0],s=[0,0],l=!0,c=!0,f=ac[0];function d(t){t.each(function(){var t=e.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",v).on("touchstart.brush",v),n=t.selectAll(".background").data([0]);n.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),t.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var r=t.selectAll(".resize").data(f,N);r.exit().remove(),r.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return al[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),r.style("display",d.empty()?"none":null);var a,u=e.transition(t),s=e.transition(n);i&&(a=oi(i),s.attr("x",a[0]).attr("width",a[1]-a[0]),p(u)),o&&(a=oi(o),s.attr("y",a[0]).attr("height",a[1]-a[0]),g(u)),h(u)})}function h(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+u[+/e$/.test(t)]+","+s[+/^s/.test(t)]+")"})}function p(t){t.select(".extent").attr("x",u[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",u[1]-u[0])}function g(t){t.select(".extent").attr("y",s[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function v(){var f,v,m=this,y=e.select(e.event.target),x=r.of(m,arguments),b=e.select(m),k=y.datum(),w=!/^(n|s)$/.test(k)&&i,M=!/^(e|w)$/.test(k)&&o,A=y.classed("extent"),_=ty(m),E=e.mouse(m),S=e.select(a(m)).on("keydown.brush",function(){32==e.event.keyCode&&(A||(f=null,E[0]-=u[1],E[1]-=s[1],A=2),L())}).on("keyup.brush",function(){32==e.event.keyCode&&2==A&&(E[0]+=u[1],E[1]+=s[1],A=0,L())});if(e.event.changedTouches?S.on("touchmove.brush",T).on("touchend.brush",j):S.on("mousemove.brush",T).on("mouseup.brush",j),b.interrupt().selectAll("*").interrupt(),A)E[0]=u[0]-E[0],E[1]=s[0]-E[1];else if(k){var C=+/w$/.test(k),N=+/^n/.test(k);v=[u[1-C]-E[0],s[1-N]-E[1]],E[0]=u[C],E[1]=s[N]}else e.event.altKey&&(f=E.slice());function T(){var t=e.mouse(m),n=!1;v&&(t[0]+=v[0],t[1]+=v[1]),A||(e.event.altKey?(f||(f=[(u[0]+u[1])/2,(s[0]+s[1])/2]),E[0]=u[+(t[0]<f[0])],E[1]=s[+(t[1]<f[1])]):f=null),w&&D(t,i,0)&&(p(b),n=!0),M&&D(t,o,1)&&(g(b),n=!0),n&&(h(b),x({type:"brush",mode:A?"move":"resize"}))}function D(e,r,i){var o,a,d=oi(r),h=d[0],p=d[1],g=E[i],v=i?s:u,m=v[1]-v[0];if(A&&(h-=g,p-=m+g),o=(i?c:l)?Math.max(h,Math.min(p,e[i])):e[i],A?a=(o+=g)+m:(f&&(g=Math.max(h,Math.min(p,2*f[i]-o))),g<o?(a=o,o=g):a=g),v[0]!=o||v[1]!=a)return i?n=null:t=null,v[0]=o,v[1]=a,!0}function j(){T(),b.style("pointer-events","all").selectAll(".resize").style("display",d.empty()?"none":null),e.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),_(),x({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),e.select("body").style("cursor",y.style("cursor")),x({type:"brushstart"}),T()}return d.event=function(i){i.each(function(){var i=r.of(this,arguments),o={x:u,y:s,i:t,j:n},a=this.__chart__||o;this.__chart__=o,o9?e.select(this).transition().each("start.brush",function(){t=a.i,n=a.j,u=a.x,s=a.y,i({type:"brushstart"})}).tween("brush:brush",function(){var e=ie(u,o.x),r=ie(s,o.y);return t=n=null,function(t){u=o.x=e(t),s=o.y=r(t),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){t=o.i,n=o.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},d.x=function(t){return arguments.length?(f=ac[!(i=t)<<1|!o],d):i},d.y=function(t){return arguments.length?(f=ac[!i<<1|!(o=t)],d):o},d.clamp=function(t){return arguments.length?(i&&o?(l=!!t[0],c=!!t[1]):i?l=!!t:o&&(c=!!t),d):i&&o?[l,c]:i?l:o?c:null},d.extent=function(e){var r,a,l,c,f;return arguments.length?(i&&(r=e[0],a=e[1],o&&(r=r[0],a=a[0]),t=[r,a],i.invert&&(r=i(r),a=i(a)),a<r&&(f=r,r=a,a=f),(r!=u[0]||a!=u[1])&&(u=[r,a])),o&&(l=e[0],c=e[1],i&&(l=l[1],c=c[1]),n=[l,c],o.invert&&(l=o(l),c=o(c)),c<l&&(f=l,l=c,c=f),(l!=s[0]||c!=s[1])&&(s=[l,c])),d):(i&&(t?(r=t[0],a=t[1]):(r=u[0],a=u[1],i.invert&&(r=i.invert(r),a=i.invert(a)),a<r&&(f=r,r=a,a=f))),o&&(n?(l=n[0],c=n[1]):(l=s[0],c=s[1],o.invert&&(l=o.invert(l),c=o.invert(c)),c<l&&(f=l,l=c,c=f))),i&&o?[[r,l],[a,c]]:i?[r,a]:o&&[l,c])},d.clear=function(){return d.empty()||(u=[0,0],s=[0,0],t=n=null),d},d.empty=function(){return!!i&&u[0]==u[1]||!!o&&s[0]==s[1]},e.rebind(d,r,"on")};var al={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},ac=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],af=ey.format=eG.timeFormat,ad=af.utc,ah=ad("%Y-%m-%dT%H:%M:%S.%LZ");function ap(t){return t.toISOString()}function ag(t,n,r){function i(e){return t(e)}function o(t,r){var i=(t[1]-t[0])/r,o=e.bisect(am,i);return o==am.length?[n.year,od(t.map(function(t){return t/31536e6}),r)[2]]:o?n[i/am[o-1]<am[o]/i?o-1:o]:[ab,od(t,r)[2]]}return i.invert=function(e){return av(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(av)},i.nice=function(t,e){var n=i.domain(),r=or(n),a=null==t?o(r,10):"number"==typeof t&&o(r,t);function u(n){return!isNaN(n)&&!t.range(n,av(+n+1),e).length}return a&&(t=a[0],e=a[1]),i.domain(oa(n,e>1?{floor:function(e){for(;u(e=t.floor(e));)e=av(e-1);return e},ceil:function(e){for(;u(e=t.ceil(e));)e=av(+e+1);return e}}:t))},i.ticks=function(t,e){var n=or(i.domain()),r=null==t?o(n,10):"number"==typeof t?o(n,t):!t.range&&[{range:t},e];return r&&(t=r[0],e=r[1]),t.range(n[0],av(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return r},i.copy=function(){return ag(t.copy(),n,r)},oc(i,t)}function av(t){return new Date(t)}af.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?ap:ah,ap.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},ap.toString=ah.toString,ey.second=ew(function(t){return new ex(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ey.seconds=ey.second.range,ey.seconds.utc=ey.second.utc.range,ey.minute=ew(function(t){return new ex(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ey.minutes=ey.minute.range,ey.minutes.utc=ey.minute.utc.range,ey.hour=ew(function(t){var e=t.getTimezoneOffset()/60;return new ex((Math.floor(t/36e5-e)+e)*36e5)},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ey.hours=ey.hour.range,ey.hours.utc=ey.hour.utc.range,ey.month=ew(function(t){return(t=ey.day(t)).setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ey.months=ey.month.range,ey.months.utc=ey.month.utc.range;var am=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ay=[[ey.second,1],[ey.second,5],[ey.second,15],[ey.second,30],[ey.minute,1],[ey.minute,5],[ey.minute,15],[ey.minute,30],[ey.hour,1],[ey.hour,3],[ey.hour,6],[ey.hour,12],[ey.day,1],[ey.day,2],[ey.week,1],[ey.month,1],[ey.month,3],[ey.year,1]],ax=af.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",nc]]),ab={range:function(t,n,r){return e.range(Math.ceil(t/r)*r,+n,r).map(av)},floor:N,ceil:N};ay.year=ey.year,ey.scale=function(){return ag(e.scale.linear(),ay,ax)};var ak=ay.map(function(t){return[t[0].utc,t[1]]}),aw=ad.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",nc]]);function aM(t){return JSON.parse(t.responseText)}function aA(t){var e=i.createRange();return e.selectNode(i.body),e.createContextualFragment(t.responseText)}ak.year=ey.year.utc,ey.scale.utc=function(){return ag(e.scale.linear(),ak,aw)},e.text=en(function(t){return t.responseText}),e.json=function(t,e){return er(t,"application/json",aM,e)},e.html=function(t,e){return er(t,"text/html",aA,e)},e.xml=en(function(t){return t.responseXML}),"function"==typeof define&&define.amd?(this.d3=e,define(e)):t.exports?t.exports=e:this.d3=e}()}),u("ixUnv",function(n,r){t(n.exports),e(n.exports,"default",()=>a("1njYz").default),a("1njYz");var i,o=a("gdauW");i=n.exports,Object.keys(o).forEach(function(t){"default"===t||"__esModule"===t||Object.prototype.hasOwnProperty.call(i,t)||Object.defineProperty(i,t,{enumerable:!0,get:function(){return o[t]}})})}),u("1njYz",function(t,n){e(t.exports,"default",()=>u),a("gdauW");var r=a("63AJi"),i=a("gdauW"),o=(0,r.default)(i);o._=o;var u=o}),u("gdauW",function(n,r){t(n.exports),e(n.exports,"VERSION",()=>a("0fogG").VERSION),e(n.exports,"restArguments",()=>a("9b4UF").default),e(n.exports,"isObject",()=>a("ip1qP").default),e(n.exports,"isNull",()=>a("9NTkq").default),e(n.exports,"isUndefined",()=>a("1ryv3").default),e(n.exports,"isBoolean",()=>a("7Rbr4").default),e(n.exports,"isElement",()=>a("c47lv").default),e(n.exports,"isString",()=>a("eeGBh").default),e(n.exports,"isNumber",()=>a("cu3St").default),e(n.exports,"isDate",()=>a("8n4Bn").default),e(n.exports,"isRegExp",()=>a("fnXE0").default),e(n.exports,"isError",()=>a("7MFTz").default),e(n.exports,"isSymbol",()=>a("ao4q3").default),e(n.exports,"isArrayBuffer",()=>a("4he2i").default),e(n.exports,"isDataView",()=>a("hGEiU").default),e(n.exports,"isArray",()=>a("hux9f").default),e(n.exports,"isFunction",()=>a("atLoF").default),e(n.exports,"isArguments",()=>a("kO3hQ").default),e(n.exports,"isFinite",()=>a("jwwdD").default),e(n.exports,"isNaN",()=>a("5b3jG").default),e(n.exports,"isTypedArray",()=>a("30QxN").default),e(n.exports,"isEmpty",()=>a("f7bBZ").default),e(n.exports,"isMatch",()=>a("IgwY6").default),e(n.exports,"isEqual",()=>a("4vRze").default),e(n.exports,"isMap",()=>a("cPfVH").default),e(n.exports,"isWeakMap",()=>a("eyJSb").default),e(n.exports,"isSet",()=>a("9xU3y").default),e(n.exports,"isWeakSet",()=>a("krkyR").default),e(n.exports,"keys",()=>a("1rFsw").default),e(n.exports,"allKeys",()=>a("aJjO9").default),e(n.exports,"values",()=>a("a1tWb").default),e(n.exports,"pairs",()=>a("jtpc7").default),e(n.exports,"invert",()=>a("hGaFi").default),e(n.exports,"functions",()=>a("gmuuZ").default),e(n.exports,"methods",()=>a("gmuuZ").default),e(n.exports,"extend",()=>a("fFuwj").default),e(n.exports,"extendOwn",()=>a("x06cO").default),e(n.exports,"assign",()=>a("x06cO").default),e(n.exports,"defaults",()=>a("17Hnr").default),e(n.exports,"create",()=>a("gNib3").default),e(n.exports,"clone",()=>a("eENfB").default),e(n.exports,"tap",()=>a("6L4iO").default),e(n.exports,"get",()=>a("jkJ9i").default),e(n.exports,"has",()=>a("83NPx").default),e(n.exports,"mapObject",()=>a("gejmE").default),e(n.exports,"identity",()=>a("b3btC").default),e(n.exports,"constant",()=>a("6MFBG").default),e(n.exports,"noop",()=>a("jssPN").default),e(n.exports,"toPath",()=>a("aCdeG").default),e(n.exports,"property",()=>a("7gghp").default),e(n.exports,"propertyOf",()=>a("8HP4K").default),e(n.exports,"matcher",()=>a("gyNYk").default),e(n.exports,"matches",()=>a("gyNYk").default),e(n.exports,"times",()=>a("7UdJN").default),e(n.exports,"random",()=>a("97fU6").default),e(n.exports,"now",()=>a("1Yy3o").default),e(n.exports,"escape",()=>a("kH9tx").default),e(n.exports,"unescape",()=>a("jEiAQ").default),e(n.exports,"templateSettings",()=>a("eAyrH").default),e(n.exports,"template",()=>a("7m1QE").default),e(n.exports,"result",()=>a("dVtip").default),e(n.exports,"uniqueId",()=>a("brpOv").default),e(n.exports,"chain",()=>a("jc1kq").default),e(n.exports,"iteratee",()=>a("6jb4b").default),e(n.exports,"partial",()=>a("lSJhi").default),e(n.exports,"bind",()=>a("iELwm").default),e(n.exports,"bindAll",()=>a("8OoKw").default),e(n.exports,"memoize",()=>a("7ncWx").default),e(n.exports,"delay",()=>a("3RwiW").default),e(n.exports,"defer",()=>a("jA0Ja").default),e(n.exports,"throttle",()=>a("l5420").default),e(n.exports,"debounce",()=>a("5cfcY").default),e(n.exports,"wrap",()=>a("2rRDv").default),e(n.exports,"negate",()=>a("9yzrH").default),e(n.exports,"compose",()=>a("h0nlN").default),e(n.exports,"after",()=>a("hAYIU").default),e(n.exports,"before",()=>a("7G3Xv").default),e(n.exports,"once",()=>a("6D6Wy").default),e(n.exports,"findKey",()=>a("4sQsY").default),e(n.exports,"findIndex",()=>a("7H7To").default),e(n.exports,"findLastIndex",()=>a("3RRBL").default),e(n.exports,"sortedIndex",()=>a("7imeo").default),e(n.exports,"indexOf",()=>a("aMe0b").default),e(n.exports,"lastIndexOf",()=>a("9CMoH").default),e(n.exports,"find",()=>a("l0a5h").default),e(n.exports,"detect",()=>a("l0a5h").default),e(n.exports,"findWhere",()=>a("6oaDx").default),e(n.exports,"each",()=>a("k08ZD").default),e(n.exports,"forEach",()=>a("k08ZD").default),e(n.exports,"map",()=>a("e1hz7").default),e(n.exports,"collect",()=>a("e1hz7").default),e(n.exports,"reduce",()=>a("5ztlX").default),e(n.exports,"foldl",()=>a("5ztlX").default),e(n.exports,"inject",()=>a("5ztlX").default),e(n.exports,"reduceRight",()=>a("3h2GT").default),e(n.exports,"foldr",()=>a("3h2GT").default),e(n.exports,"filter",()=>a("2mDFn").default),e(n.exports,"select",()=>a("2mDFn").default),e(n.exports,"reject",()=>a("dNa3T").default),e(n.exports,"every",()=>a("jgJEX").default),e(n.exports,"all",()=>a("jgJEX").default),e(n.exports,"some",()=>a("9A89L").default),e(n.exports,"any",()=>a("9A89L").default),e(n.exports,"contains",()=>a("gKeEm").default),e(n.exports,"includes",()=>a("gKeEm").default),e(n.exports,"include",()=>a("gKeEm").default),e(n.exports,"invoke",()=>a("dCJW1").default),e(n.exports,"pluck",()=>a("5KyAs").default),e(n.exports,"where",()=>a("2X6oB").default),e(n.exports,"max",()=>a("gVpd2").default),e(n.exports,"min",()=>a("VITl0").default),e(n.exports,"shuffle",()=>a("dkK7j").default),e(n.exports,"sample",()=>a("a2b2M").default),e(n.exports,"sortBy",()=>a("gAiTl").default),e(n.exports,"groupBy",()=>a("bdh5G").default),e(n.exports,"indexBy",()=>a("bSlRz").default),e(n.exports,"countBy",()=>a("5N48u").default),e(n.exports,"partition",()=>a("4TODu").default),e(n.exports,"toArray",()=>a("cAT6M").default),e(n.exports,"size",()=>a("7B8AD").default),e(n.exports,"pick",()=>a("9I9nf").default),e(n.exports,"omit",()=>a("4QNAj").default),e(n.exports,"first",()=>a("5wOr9").default),e(n.exports,"head",()=>a("5wOr9").default),e(n.exports,"take",()=>a("5wOr9").default),e(n.exports,"initial",()=>a("5g2xy").default),e(n.exports,"last",()=>a("1VINE").default),e(n.exports,"rest",()=>a("gai4j").default),e(n.exports,"tail",()=>a("gai4j").default),e(n.exports,"drop",()=>a("gai4j").default),e(n.exports,"compact",()=>a("xDQNi").default),e(n.exports,"flatten",()=>a("aBPI4").default),e(n.exports,"without",()=>a("4iX6H").default),e(n.exports,"uniq",()=>a("25WHZ").default),e(n.exports,"unique",()=>a("25WHZ").default),e(n.exports,"union",()=>a("8vDfc").default),e(n.exports,"intersection",()=>a("cjA2Z").default),e(n.exports,"difference",()=>a("3UQ7O").default),e(n.exports,"unzip",()=>a("dLtZM").default),e(n.exports,"transpose",()=>a("dLtZM").default),e(n.exports,"zip",()=>a("cI1un").default),e(n.exports,"object",()=>a("kVaiK").default),e(n.exports,"range",()=>a("koB8T").default),e(n.exports,"chunk",()=>a("2bQfI").default),e(n.exports,"mixin",()=>a("63AJi").default),e(n.exports,"default",()=>a("eQt0N").default),a("0fogG"),a("9b4UF"),a("ip1qP"),a("9NTkq"),a("1ryv3"),a("7Rbr4"),a("c47lv"),a("eeGBh"),a("cu3St"),a("8n4Bn"),a("fnXE0"),a("7MFTz"),a("ao4q3"),a("4he2i"),a("hGEiU"),a("hux9f"),a("atLoF"),a("kO3hQ"),a("jwwdD"),a("5b3jG"),a("30QxN"),a("f7bBZ"),a("IgwY6"),a("4vRze"),a("cPfVH"),a("eyJSb"),a("9xU3y"),a("krkyR"),a("1rFsw"),a("aJjO9"),a("a1tWb"),a("jtpc7"),a("hGaFi"),a("gmuuZ"),a("fFuwj"),a("x06cO"),a("17Hnr"),a("gNib3"),a("eENfB"),a("6L4iO"),a("jkJ9i"),a("83NPx"),a("gejmE"),a("b3btC"),a("6MFBG"),a("jssPN"),a("aCdeG"),a("7gghp"),a("8HP4K"),a("gyNYk"),a("7UdJN"),a("97fU6"),a("1Yy3o"),a("kH9tx"),a("jEiAQ"),a("eAyrH"),a("7m1QE"),a("dVtip"),a("brpOv"),a("jc1kq"),a("6jb4b"),a("lSJhi"),a("iELwm"),a("8OoKw"),a("7ncWx"),a("3RwiW"),a("jA0Ja"),a("l5420"),a("5cfcY"),a("2rRDv"),a("9yzrH"),a("h0nlN"),a("hAYIU"),a("7G3Xv"),a("6D6Wy"),a("4sQsY"),a("7H7To"),a("3RRBL"),a("7imeo"),a("aMe0b"),a("9CMoH"),a("l0a5h"),a("6oaDx"),a("k08ZD"),a("e1hz7"),a("5ztlX"),a("3h2GT"),a("2mDFn"),a("dNa3T"),a("jgJEX"),a("9A89L"),a("gKeEm"),a("dCJW1"),a("5KyAs"),a("2X6oB"),a("gVpd2"),a("VITl0"),a("dkK7j"),a("a2b2M"),a("gAiTl"),a("bdh5G"),a("bSlRz"),a("5N48u"),a("4TODu"),a("cAT6M"),a("7B8AD"),a("9I9nf"),a("4QNAj"),a("5wOr9"),a("5g2xy"),a("1VINE"),a("gai4j"),a("xDQNi"),a("aBPI4"),a("4iX6H"),a("25WHZ"),a("8vDfc"),a("cjA2Z"),a("3UQ7O"),a("dLtZM"),a("cI1un"),a("kVaiK"),a("koB8T"),a("2bQfI"),a("63AJi"),a("eQt0N")}),u("0fogG",function(t,n){e(t.exports,"VERSION",()=>i),e(t.exports,"root",()=>o),e(t.exports,"ArrayProto",()=>a),e(t.exports,"ObjProto",()=>u),e(t.exports,"SymbolProto",()=>s),e(t.exports,"push",()=>l),e(t.exports,"slice",()=>c),e(t.exports,"toString",()=>f),e(t.exports,"hasOwnProperty",()=>d),e(t.exports,"supportsArrayBuffer",()=>h),e(t.exports,"supportsDataView",()=>p),e(t.exports,"nativeIsArray",()=>g),e(t.exports,"nativeKeys",()=>v),e(t.exports,"nativeCreate",()=>m),e(t.exports,"nativeIsView",()=>y),e(t.exports,"_isNaN",()=>x),e(t.exports,"_isFinite",()=>b),e(t.exports,"hasEnumBug",()=>k),e(t.exports,"nonEnumerableProps",()=>w),e(t.exports,"MAX_ARRAY_INDEX",()=>M);var i="1.13.7",o="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r||Function("return this")()||{},a=Array.prototype,u=Object.prototype,s="undefined"!=typeof Symbol?Symbol.prototype:null,l=a.push,c=a.slice,f=u.toString,d=u.hasOwnProperty,h="undefined"!=typeof ArrayBuffer,p="undefined"!=typeof DataView,g=Array.isArray,v=Object.keys,m=Object.create,y=h&&ArrayBuffer.isView,x=isNaN,b=isFinite,k=!({toString:null}).propertyIsEnumerable("toString"),w=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],M=0x1fffffffffffff}),u("9b4UF",function(t,n){e(t.exports,"default",()=>r);function r(t,e){return e=null==e?t.length-1:+e,function(){for(var n=Math.max(arguments.length-e,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+e];switch(e){case 0:return t.call(this,r);case 1:return t.call(this,arguments[0],r);case 2:return t.call(this,arguments[0],arguments[1],r)}var o=Array(e+1);for(i=0;i<e;i++)o[i]=arguments[i];return o[e]=r,t.apply(this,o)}}}),u("ip1qP",function(t,n){e(t.exports,"default",()=>r);function r(t){var e=typeof t;return"function"===e||"object"===e&&!!t}}),u("9NTkq",function(t,n){e(t.exports,"default",()=>r);function r(t){return null===t}}),u("1ryv3",function(t,n){e(t.exports,"default",()=>r);function r(t){return void 0===t}}),u("7Rbr4",function(t,n){e(t.exports,"default",()=>i);var r=a("0fogG");function i(t){return!0===t||!1===t||"[object Boolean]"===(0,r.toString).call(t)}}),u("c47lv",function(t,n){e(t.exports,"default",()=>r);function r(t){return!!(t&&1===t.nodeType)}}),u("eeGBh",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("b5ZjP").default)("String")}),u("b5ZjP",function(t,n){e(t.exports,"default",()=>i);var r=a("0fogG");function i(t){var e="[object "+t+"]";return function(t){return(0,r.toString).call(t)===e}}}),u("cu3St",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("b5ZjP").default)("Number")}),u("8n4Bn",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("b5ZjP").default)("Date")}),u("fnXE0",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("b5ZjP").default)("RegExp")}),u("7MFTz",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("b5ZjP").default)("Error")}),u("ao4q3",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("b5ZjP").default)("Symbol")}),u("4he2i",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("b5ZjP").default)("ArrayBuffer")}),u("hGEiU",function(t,n){e(t.exports,"default",()=>l);var r=a("b5ZjP"),i=a("atLoF"),o=a("4he2i"),u=a("ccxH1"),s=(0,r.default)("DataView"),l=u.hasDataViewBug?function(t){return null!=t&&(0,i.default)(t.getInt8)&&(0,o.default)(t.buffer)}:s}),u("atLoF",function(t,n){e(t.exports,"default",()=>s);var r=a("b5ZjP"),i=a("0fogG"),o=(0,r.default)("Function"),u=i.root.document&&i.root.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof u&&(o=function(t){return"function"==typeof t});var s=o}),u("ccxH1",function(t,n){e(t.exports,"hasDataViewBug",()=>o),e(t.exports,"isIE11",()=>u);var r=a("0fogG"),i=a("6lIjG"),o=r.supportsDataView&&(!/\[native code\]/.test(String(DataView))||(0,i.default)(new DataView(new ArrayBuffer(8)))),u="undefined"!=typeof Map&&(0,i.default)(new Map)}),u("6lIjG",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("b5ZjP").default)("Object")}),u("hux9f",function(t,n){e(t.exports,"default",()=>o);var r=a("0fogG"),i=a("b5ZjP"),o=r.nativeIsArray||(0,i.default)("Array")}),u("kO3hQ",function(t,n){e(t.exports,"default",()=>u);var r=a("b5ZjP"),i=a("lHkXO"),o=(0,r.default)("Arguments");!function(){o(arguments)||(o=function(t){return(0,i.default)(t,"callee")})}();var u=o}),u("lHkXO",function(t,n){e(t.exports,"default",()=>i);var r=a("0fogG");function i(t,e){return null!=t&&(0,r.hasOwnProperty).call(t,e)}}),u("jwwdD",function(t,n){e(t.exports,"default",()=>o);var r=a("0fogG"),i=a("ao4q3");function o(t){return!(0,i.default)(t)&&(0,r._isFinite)(t)&&!isNaN(parseFloat(t))}}),u("5b3jG",function(t,n){e(t.exports,"default",()=>o);var r=a("0fogG"),i=a("cu3St");function o(t){return(0,i.default)(t)&&(0,r._isNaN)(t)}}),u("30QxN",function(t,n){e(t.exports,"default",()=>l);var r=a("0fogG"),i=a("hGEiU"),o=a("6MFBG"),u=a("3LAAj"),s=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,l=r.supportsArrayBuffer?function(t){return r.nativeIsView?(0,r.nativeIsView)(t)&&!(0,i.default)(t):(0,u.default)(t)&&s.test((0,r.toString).call(t))}:(0,o.default)(!1)}),u("6MFBG",function(t,n){e(t.exports,"default",()=>r);function r(t){return function(){return t}}}),u("3LAAj",function(t,n){e(t.exports,"default",()=>o);var r=a("iypm0"),i=a("jabMU"),o=(0,r.default)(i.default)}),u("iypm0",function(t,n){e(t.exports,"default",()=>i);var r=a("0fogG");function i(t){return function(e){var n=t(e);return"number"==typeof n&&n>=0&&n<=r.MAX_ARRAY_INDEX}}}),u("jabMU",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("5eLoL").default)("byteLength")}),u("5eLoL",function(t,n){e(t.exports,"default",()=>r);function r(t){return function(e){return null==e?void 0:e[t]}}}),u("f7bBZ",function(t,n){e(t.exports,"default",()=>l);var r=a("giMod"),i=a("hux9f"),o=a("eeGBh"),u=a("kO3hQ"),s=a("1rFsw");function l(t){if(null==t)return!0;var e=(0,r.default)(t);return"number"==typeof e&&((0,i.default)(t)||(0,o.default)(t)||(0,u.default)(t))?0===e:0===(0,r.default)((0,s.default)(t))}}),u("giMod",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("5eLoL").default)("length")}),u("1rFsw",function(t,n){e(t.exports,"default",()=>s);var r=a("ip1qP"),i=a("0fogG"),o=a("lHkXO"),u=a("2YQyY");function s(t){if(!(0,r.default)(t))return[];if(i.nativeKeys)return(0,i.nativeKeys)(t);var e=[];for(var n in t)(0,o.default)(t,n)&&e.push(n);return i.hasEnumBug&&(0,u.default)(t,e),e}}),u("2YQyY",function(t,n){e(t.exports,"default",()=>u);var r=a("0fogG"),i=a("atLoF"),o=a("lHkXO");function u(t,e){e=function(t){for(var e={},n=t.length,r=0;r<n;++r)e[t[r]]=!0;return{contains:function(t){return!0===e[t]},push:function(n){return e[n]=!0,t.push(n)}}}(e);var n=r.nonEnumerableProps.length,a=t.constructor,u=(0,i.default)(a)&&a.prototype||r.ObjProto,s="constructor";for((0,o.default)(t,s)&&!e.contains(s)&&e.push(s);n--;)(s=r.nonEnumerableProps[n])in t&&t[s]!==u[s]&&!e.contains(s)&&e.push(s)}}),u("IgwY6",function(t,n){e(t.exports,"default",()=>i);var r=a("1rFsw");function i(t,e){var n=(0,r.default)(e),i=n.length;if(null==t)return!i;for(var o=Object(t),a=0;a<i;a++){var u=n[a];if(e[u]!==o[u]||!(u in o))return!1}return!0}}),u("4vRze",function(t,n){e(t.exports,"default",()=>g);var r=a("9FCoE"),i=a("0fogG"),o=a("jabMU"),u=a("30QxN"),s=a("atLoF"),l=a("ccxH1"),c=a("hGEiU"),f=a("1rFsw"),d=a("lHkXO"),h=a("7w2B8"),p="[object DataView]";function g(t,e){return function t(e,n,a,g){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return!1;if(e!=e)return n!=n;var v=typeof e;return("function"===v||"object"===v||"object"==typeof n)&&function e(n,a,g,v){n instanceof r.default&&(n=n._wrapped),a instanceof r.default&&(a=a._wrapped);var m=(0,i.toString).call(n);if(m!==(0,i.toString).call(a))return!1;if(l.hasDataViewBug&&"[object Object]"==m&&(0,c.default)(n)){if(!(0,c.default)(a))return!1;m=p}switch(m){case"[object RegExp]":case"[object String]":return""+n==""+a;case"[object Number]":if(+n!=+n)return+a!=+a;return 0==+n?1/+n==1/a:+n==+a;case"[object Date]":case"[object Boolean]":return+n==+a;case"[object Symbol]":return(0,i.SymbolProto).valueOf.call(n)===(0,i.SymbolProto).valueOf.call(a);case"[object ArrayBuffer]":case p:return e((0,h.default)(n),(0,h.default)(a),g,v)}var y="[object Array]"===m;if(!y&&(0,u.default)(n)){if((0,o.default)(n)!==(0,o.default)(a))return!1;if(n.buffer===a.buffer&&n.byteOffset===a.byteOffset)return!0;y=!0}if(!y){if("object"!=typeof n||"object"!=typeof a)return!1;var x=n.constructor,b=a.constructor;if(x!==b&&!((0,s.default)(x)&&x instanceof x&&(0,s.default)(b)&&b instanceof b)&&"constructor"in n&&"constructor"in a)return!1}v=v||[];for(var k=(g=g||[]).length;k--;)if(g[k]===n)return v[k]===a;if(g.push(n),v.push(a),y){if((k=n.length)!==a.length)return!1;for(;k--;)if(!t(n[k],a[k],g,v))return!1}else{var w,M=(0,f.default)(n);if(k=M.length,(0,f.default)(a).length!==k)return!1;for(;k--;)if(w=M[k],!((0,d.default)(a,w)&&t(n[w],a[w],g,v)))return!1}return g.pop(),v.pop(),!0}(e,n,a,g)}(t,e)}}),u("9FCoE",function(t,n){e(t.exports,"default",()=>i);var r=a("0fogG");function i(t){return t instanceof i?t:this instanceof i?void(this._wrapped=t):new i(t)}i.VERSION=r.VERSION,i.prototype.value=function(){return this._wrapped},i.prototype.valueOf=i.prototype.toJSON=i.prototype.value,i.prototype.toString=function(){return String(this._wrapped)}}),u("7w2B8",function(t,n){e(t.exports,"default",()=>i);var r=a("jabMU");function i(t){return new Uint8Array(t.buffer||t,t.byteOffset||0,(0,r.default)(t))}}),u("cPfVH",function(t,n){e(t.exports,"default",()=>u);var r=a("b5ZjP"),i=a("ccxH1"),o=a("2DDyJ"),u=i.isIE11?(0,o.ie11fingerprint)(o.mapMethods):(0,r.default)("Map")}),u("2DDyJ",function(t,n){e(t.exports,"ie11fingerprint",()=>u),e(t.exports,"weakMapMethods",()=>d),e(t.exports,"mapMethods",()=>f),e(t.exports,"setMethods",()=>h);var r=a("giMod"),i=a("atLoF"),o=a("aJjO9");function u(t){var e=(0,r.default)(t);return function(n){if(null==n)return!1;var a=(0,o.default)(n);if((0,r.default)(a))return!1;for(var u=0;u<e;u++)if(!(0,i.default)(n[t[u]]))return!1;return t!==d||!(0,i.default)(n[s])}}var s="forEach",l=["clear","delete"],c=["get","has","set"],f=l.concat(s,c),d=l.concat(c),h=["add"].concat(l,s,"has")}),u("aJjO9",function(t,n){e(t.exports,"default",()=>u);var r=a("ip1qP"),i=a("0fogG"),o=a("2YQyY");function u(t){if(!(0,r.default)(t))return[];var e=[];for(var n in t)e.push(n);return i.hasEnumBug&&(0,o.default)(t,e),e}}),u("eyJSb",function(t,n){e(t.exports,"default",()=>u);var r=a("b5ZjP"),i=a("ccxH1"),o=a("2DDyJ"),u=i.isIE11?(0,o.ie11fingerprint)(o.weakMapMethods):(0,r.default)("WeakMap")}),u("9xU3y",function(t,n){e(t.exports,"default",()=>u);var r=a("b5ZjP"),i=a("ccxH1"),o=a("2DDyJ"),u=i.isIE11?(0,o.ie11fingerprint)(o.setMethods):(0,r.default)("Set")}),u("krkyR",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("b5ZjP").default)("WeakSet")}),u("a1tWb",function(t,n){e(t.exports,"default",()=>i);var r=a("1rFsw");function i(t){for(var e=(0,r.default)(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=t[e[o]];return i}}),u("jtpc7",function(t,n){e(t.exports,"default",()=>i);var r=a("1rFsw");function i(t){for(var e=(0,r.default)(t),n=e.length,i=Array(n),o=0;o<n;o++)i[o]=[e[o],t[e[o]]];return i}}),u("hGaFi",function(t,n){e(t.exports,"default",()=>i);var r=a("1rFsw");function i(t){for(var e={},n=(0,r.default)(t),i=0,o=n.length;i<o;i++)e[t[n[i]]]=n[i];return e}}),u("gmuuZ",function(t,n){e(t.exports,"default",()=>i);var r=a("atLoF");function i(t){var e=[];for(var n in t)(0,r.default)(t[n])&&e.push(n);return e.sort()}}),u("fFuwj",function(t,n){e(t.exports,"default",()=>o);var r=a("hlhdj"),i=a("aJjO9"),o=(0,r.default)(i.default)}),u("hlhdj",function(t,n){e(t.exports,"default",()=>r);function r(t,e){return function(n){var r=arguments.length;if(e&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=t(o),u=a.length,s=0;s<u;s++){var l=a[s];e&&void 0!==n[l]||(n[l]=o[l])}return n}}}),u("x06cO",function(t,n){e(t.exports,"default",()=>o);var r=a("hlhdj"),i=a("1rFsw"),o=(0,r.default)(i.default)}),u("17Hnr",function(t,n){e(t.exports,"default",()=>o);var r=a("hlhdj"),i=a("aJjO9"),o=(0,r.default)(i.default,!0)}),u("gNib3",function(t,n){e(t.exports,"default",()=>o);var r=a("3rGS7"),i=a("x06cO");function o(t,e){var n=(0,r.default)(t);return e&&(0,i.default)(n,e),n}}),u("3rGS7",function(t,n){e(t.exports,"default",()=>o);var r=a("ip1qP"),i=a("0fogG");function o(t){if(!(0,r.default)(t))return{};if(i.nativeCreate)return(0,i.nativeCreate)(t);var e=function(){};e.prototype=t;var n=new e;return e.prototype=null,n}}),u("eENfB",function(t,n){e(t.exports,"default",()=>u);var r=a("ip1qP"),i=a("hux9f"),o=a("fFuwj");function u(t){return(0,r.default)(t)?(0,i.default)(t)?t.slice():(0,o.default)({},t):t}}),u("6L4iO",function(t,n){e(t.exports,"default",()=>r);function r(t,e){return e(t),t}}),u("jkJ9i",function(t,n){e(t.exports,"default",()=>u);var r=a("izdkQ"),i=a("2pDg4"),o=a("1ryv3");function u(t,e,n){var a=(0,i.default)(t,(0,r.default)(e));return(0,o.default)(a)?n:a}}),u("izdkQ",function(t,n){e(t.exports,"default",()=>i);var r=a("9FCoE");function i(t){return(0,r.default).toPath(t)}a("aCdeG")}),u("aCdeG",function(t,n){e(t.exports,"default",()=>o);var r=a("9FCoE"),i=a("hux9f");function o(t){return(0,i.default)(t)?t:[t]}r.default.toPath=o}),u("2pDg4",function(t,n){e(t.exports,"default",()=>r);function r(t,e){for(var n=e.length,r=0;r<n;r++){if(null==t)return;t=t[e[r]]}return n?t:void 0}}),u("83NPx",function(t,n){e(t.exports,"default",()=>o);var r=a("lHkXO"),i=a("izdkQ");function o(t,e){for(var n=(e=(0,i.default)(e)).length,o=0;o<n;o++){var a=e[o];if(!(0,r.default)(t,a))return!1;t=t[a]}return!!n}}),u("gejmE",function(t,n){e(t.exports,"default",()=>o);var r=a("cmfAU"),i=a("1rFsw");function o(t,e,n){e=(0,r.default)(e,n);for(var o=(0,i.default)(t),a=o.length,u={},s=0;s<a;s++){var l=o[s];u[l]=e(t[l],l,t)}return u}}),u("cmfAU",function(t,n){e(t.exports,"default",()=>u);var r=a("9FCoE"),i=a("4W9NQ"),o=a("6jb4b");function u(t,e,n){return r.default.iteratee!==o.default?(0,r.default).iteratee(t,e):(0,i.default)(t,e,n)}}),u("4W9NQ",function(t,n){e(t.exports,"default",()=>f);var r=a("b3btC"),i=a("atLoF"),o=a("ip1qP"),u=a("hux9f"),s=a("gyNYk"),l=a("7gghp"),c=a("a4GZa");function f(t,e,n){return null==t?r.default:(0,i.default)(t)?(0,c.default)(t,e,n):(0,o.default)(t)&&!(0,u.default)(t)?(0,s.default)(t):(0,l.default)(t)}}),u("b3btC",function(t,n){e(t.exports,"default",()=>r);function r(t){return t}}),u("gyNYk",function(t,n){e(t.exports,"default",()=>o);var r=a("x06cO"),i=a("IgwY6");function o(t){return t=(0,r.default)({},t),function(e){return(0,i.default)(e,t)}}}),u("7gghp",function(t,n){e(t.exports,"default",()=>o);var r=a("2pDg4"),i=a("izdkQ");function o(t){return t=(0,i.default)(t),function(e){return(0,r.default)(e,t)}}}),u("a4GZa",function(t,n){e(t.exports,"default",()=>r);function r(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,r,i){return t.call(e,n,r,i)};case 4:return function(n,r,i,o){return t.call(e,n,r,i,o)}}return function(){return t.apply(e,arguments)}}}),u("6jb4b",function(t,n){e(t.exports,"default",()=>o);var r=a("9FCoE"),i=a("4W9NQ");function o(t,e){return(0,i.default)(t,e,1/0)}r.default.iteratee=o}),u("jssPN",function(t,n){e(t.exports,"default",()=>r);function r(){}}),u("8HP4K",function(t,n){e(t.exports,"default",()=>o);var r=a("jssPN"),i=a("jkJ9i");function o(t){return null==t?r.default:function(e){return(0,i.default)(t,e)}}}),u("7UdJN",function(t,n){e(t.exports,"default",()=>i);var r=a("a4GZa");function i(t,e,n){var i=Array(Math.max(0,t));e=(0,r.default)(e,n,1);for(var o=0;o<t;o++)i[o]=e(o);return i}}),u("97fU6",function(t,n){e(t.exports,"default",()=>r);function r(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))}}),u("1Yy3o",function(t,n){e(t.exports,"default",()=>r);var r=Date.now||function(){return new Date().getTime()}}),u("kH9tx",function(t,n){e(t.exports,"default",()=>o);var r=a("be6sr"),i=a("bhFrh"),o=(0,r.default)(i.default)}),u("be6sr",function(t,n){e(t.exports,"default",()=>i);var r=a("1rFsw");function i(t){var e=function(e){return t[e]},n="(?:"+(0,r.default)(t).join("|")+")",i=RegExp(n),o=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(o,e):t}}}),u("bhFrh",function(t,n){e(t.exports,"default",()=>r);var r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}}),u("jEiAQ",function(t,n){e(t.exports,"default",()=>o);var r=a("be6sr"),i=a("ck1Wr"),o=(0,r.default)(i.default)}),u("ck1Wr",function(t,n){e(t.exports,"default",()=>o);var r=a("hGaFi"),i=a("bhFrh"),o=(0,r.default)(i.default)}),u("eAyrH",function(t,n){e(t.exports,"default",()=>r);var r=a("9FCoE").default.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g}}),u("7m1QE",function(t,n){e(t.exports,"default",()=>f);var r=a("17Hnr"),i=a("9FCoE");a("eAyrH");var o=/(.)^/,u={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},s=/\\|'|\r|\n|\u2028|\u2029/g;function l(t){return"\\"+u[t]}var c=/^\s*(\w|\$)+\s*$/;function f(t,e,n){!e&&n&&(e=n);var a,u=RegExp([((e=(0,r.default)({},e,i.default.templateSettings)).escape||o).source,(e.interpolate||o).source,(e.evaluate||o).source].join("|")+"|$","g"),f=0,d="__p+='";t.replace(u,function(e,n,r,i,o){return d+=t.slice(f,o).replace(s,l),f=o+e.length,n?d+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?d+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(d+="';\n"+i+"\n__p+='"),e}),d+="';\n";var h=e.variable;if(h){if(!c.test(h))throw Error("variable is not a bare identifier: "+h)}else d="with(obj||{}){\n"+d+"}\n",h="obj";d="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+d+"return __p;\n";try{a=Function(h,"_",d)}catch(t){throw t.source=d,t}var p=function(t){return a.call(this,t,i.default)};return p.source="function("+h+"){\n"+d+"}",p}}),u("dVtip",function(t,n){e(t.exports,"default",()=>o);var r=a("atLoF"),i=a("izdkQ");function o(t,e,n){var o=(e=(0,i.default)(e)).length;if(!o)return(0,r.default)(n)?n.call(t):n;for(var a=0;a<o;a++){var u=null==t?void 0:t[e[a]];void 0===u&&(u=n,a=o),t=(0,r.default)(u)?u.call(t):u}return t}}),u("brpOv",function(t,n){e(t.exports,"default",()=>i);var r=0;function i(t){var e=++r+"";return t?t+e:e}}),u("jc1kq",function(t,n){e(t.exports,"default",()=>i);var r=a("9FCoE");function i(t){var e=(0,r.default)(t);return e._chain=!0,e}}),u("lSJhi",function(t,n){e(t.exports,"default",()=>s);var r=a("9b4UF"),i=a("gsuJy"),o=a("9FCoE"),u=(0,r.default)(function(t,e){var n=u.placeholder,r=function(){for(var o=0,a=e.length,u=Array(a),s=0;s<a;s++)u[s]=e[s]===n?arguments[o++]:e[s];for(;o<arguments.length;)u.push(arguments[o++]);return(0,i.default)(t,r,this,this,u)};return r});u.placeholder=o.default;var s=u}),u("gsuJy",function(t,n){e(t.exports,"default",()=>o);var r=a("3rGS7"),i=a("ip1qP");function o(t,e,n,o,a){if(!(o instanceof e))return t.apply(n,a);var u=(0,r.default)(t.prototype),s=t.apply(u,a);return(0,i.default)(s)?s:u}}),u("iELwm",function(t,n){e(t.exports,"default",()=>u);var r=a("9b4UF"),i=a("atLoF"),o=a("gsuJy"),u=(0,r.default)(function(t,e,n){if(!(0,i.default)(t))throw TypeError("Bind must be called on a function");var a=(0,r.default)(function(r){return(0,o.default)(t,a,e,this,n.concat(r))});return a})}),u("8OoKw",function(t,n){e(t.exports,"default",()=>u);var r=a("9b4UF"),i=a("6vOl1"),o=a("iELwm"),u=(0,r.default)(function(t,e){var n=(e=(0,i.default)(e,!1,!1)).length;if(n<1)throw Error("bindAll must be passed function names");for(;n--;){var r=e[n];t[r]=(0,o.default)(t[r],t)}return t})}),u("6vOl1",function(t,n){e(t.exports,"default",()=>function t(e,n,a,s){if(s=s||[],n||0===n){if(n<=0)return s.concat(e)}else n=1/0;for(var l=s.length,c=0,f=(0,r.default)(e);c<f;c++){var d=e[c];if((0,i.default)(d)&&((0,o.default)(d)||(0,u.default)(d))){if(n>1)t(d,n-1,a,s),l=s.length;else for(var h=0,p=d.length;h<p;)s[l++]=d[h++]}else a||(s[l++]=d)}return s});var r=a("giMod"),i=a("kESAN"),o=a("hux9f"),u=a("kO3hQ")}),u("kESAN",function(t,n){e(t.exports,"default",()=>o);var r=a("iypm0"),i=a("giMod"),o=(0,r.default)(i.default)}),u("7ncWx",function(t,n){e(t.exports,"default",()=>i);var r=a("lHkXO");function i(t,e){var n=function(i){var o=n.cache,a=""+(e?e.apply(this,arguments):i);return(0,r.default)(o,a)||(o[a]=t.apply(this,arguments)),o[a]};return n.cache={},n}}),u("3RwiW",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("9b4UF").default)(function(t,e,n){return setTimeout(function(){return t.apply(null,n)},e)})}),u("jA0Ja",function(t,n){e(t.exports,"default",()=>u);var r=a("lSJhi"),i=a("3RwiW"),o=a("9FCoE"),u=(0,r.default)(i.default,o.default,1)}),u("l5420",function(t,n){e(t.exports,"default",()=>i);var r=a("1Yy3o");function i(t,e,n){var i,o,a,u,s=0;n||(n={});var l=function(){s=!1===n.leading?0:(0,r.default)(),i=null,u=t.apply(o,a),i||(o=a=null)},c=function(){var c=(0,r.default)();s||!1!==n.leading||(s=c);var f=e-(c-s);return o=this,a=arguments,f<=0||f>e?(i&&(clearTimeout(i),i=null),s=c,u=t.apply(o,a),i||(o=a=null)):i||!1===n.trailing||(i=setTimeout(l,f)),u};return c.cancel=function(){clearTimeout(i),s=0,i=o=a=null},c}}),u("5cfcY",function(t,n){e(t.exports,"default",()=>o);var r=a("9b4UF"),i=a("1Yy3o");function o(t,e,n){var o,a,u,s,l,c=function(){var r=(0,i.default)()-a;e>r?o=setTimeout(c,e-r):(o=null,n||(s=t.apply(l,u)),o||(u=l=null))},f=(0,r.default)(function(r){return l=this,u=r,a=(0,i.default)(),!o&&(o=setTimeout(c,e),n&&(s=t.apply(l,u))),s});return f.cancel=function(){clearTimeout(o),o=u=l=null},f}}),u("2rRDv",function(t,n){e(t.exports,"default",()=>i);var r=a("lSJhi");function i(t,e){return(0,r.default)(e,t)}}),u("9yzrH",function(t,n){e(t.exports,"default",()=>r);function r(t){return function(){return!t.apply(this,arguments)}}}),u("h0nlN",function(t,n){e(t.exports,"default",()=>r);function r(){var t=arguments,e=t.length-1;return function(){for(var n=e,r=t[e].apply(this,arguments);n--;)r=t[n].call(this,r);return r}}}),u("hAYIU",function(t,n){e(t.exports,"default",()=>r);function r(t,e){return function(){if(--t<1)return e.apply(this,arguments)}}}),u("7G3Xv",function(t,n){e(t.exports,"default",()=>r);function r(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=null),n}}}),u("6D6Wy",function(t,n){e(t.exports,"default",()=>o);var r=a("lSJhi"),i=a("7G3Xv"),o=(0,r.default)(i.default,2)}),u("4sQsY",function(t,n){e(t.exports,"default",()=>o);var r=a("cmfAU"),i=a("1rFsw");function o(t,e,n){e=(0,r.default)(e,n);for(var o,a=(0,i.default)(t),u=0,s=a.length;u<s;u++)if(e(t[o=a[u]],o,t))return o}}),u("7H7To",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("3zhoV").default)(1)}),u("3zhoV",function(t,n){e(t.exports,"default",()=>o);var r=a("cmfAU"),i=a("giMod");function o(t){return function(e,n,o){n=(0,r.default)(n,o);for(var a=(0,i.default)(e),u=t>0?0:a-1;u>=0&&u<a;u+=t)if(n(e[u],u,e))return u;return -1}}}),u("3RRBL",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("3zhoV").default)(-1)}),u("7imeo",function(t,n){e(t.exports,"default",()=>o);var r=a("cmfAU"),i=a("giMod");function o(t,e,n,o){for(var a=(n=(0,r.default)(n,o,1))(e),u=0,s=(0,i.default)(t);u<s;){var l=Math.floor((u+s)/2);n(t[l])<a?u=l+1:s=l}return u}}),u("aMe0b",function(t,n){e(t.exports,"default",()=>o);var r=a("7imeo"),i=a("7H7To"),o=(0,a("hOxsU").default)(1,i.default,r.default)}),u("hOxsU",function(t,n){e(t.exports,"default",()=>u);var r=a("giMod"),i=a("0fogG"),o=a("5b3jG");function u(t,e,n){return function(a,u,s){var l=0,c=(0,r.default)(a);if("number"==typeof s)t>0?l=s>=0?s:Math.max(s+c,l):c=s>=0?Math.min(s+1,c):s+c+1;else if(n&&s&&c)return s=n(a,u),a[s]===u?s:-1;if(u!=u)return(s=e((0,i.slice).call(a,l,c),o.default))>=0?s+l:-1;for(s=t>0?l:c-1;s>=0&&s<c;s+=t)if(a[s]===u)return s;return -1}}}),u("9CMoH",function(t,n){e(t.exports,"default",()=>i);var r=a("3RRBL"),i=(0,a("hOxsU").default)(-1,r.default)}),u("l0a5h",function(t,n){e(t.exports,"default",()=>u);var r=a("kESAN"),i=a("7H7To"),o=a("4sQsY");function u(t,e,n){var a=((0,r.default)(t)?i.default:o.default)(t,e,n);if(void 0!==a&&-1!==a)return t[a]}}),u("6oaDx",function(t,n){e(t.exports,"default",()=>o);var r=a("l0a5h"),i=a("gyNYk");function o(t,e){return(0,r.default)(t,(0,i.default)(e))}}),u("k08ZD",function(t,n){e(t.exports,"default",()=>u);var r=a("a4GZa"),i=a("kESAN"),o=a("1rFsw");function u(t,e,n){if(e=(0,r.default)(e,n),(0,i.default)(t))for(a=0,u=t.length;a<u;a++)e(t[a],a,t);else{var a,u,s=(0,o.default)(t);for(a=0,u=s.length;a<u;a++)e(t[s[a]],s[a],t)}return t}}),u("e1hz7",function(t,n){e(t.exports,"default",()=>u);var r=a("cmfAU"),i=a("kESAN"),o=a("1rFsw");function u(t,e,n){e=(0,r.default)(e,n);for(var a=!(0,i.default)(t)&&(0,o.default)(t),u=(a||t).length,s=Array(u),l=0;l<u;l++){var c=a?a[l]:l;s[l]=e(t[c],c,t)}return s}}),u("5ztlX",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("IGyd7").default)(1)}),u("IGyd7",function(t,n){e(t.exports,"default",()=>u);var r=a("kESAN"),i=a("1rFsw"),o=a("a4GZa");function u(t){var e=function(e,n,o,a){var u=!(0,r.default)(e)&&(0,i.default)(e),s=(u||e).length,l=t>0?0:s-1;for(a||(o=e[u?u[l]:l],l+=t);l>=0&&l<s;l+=t){var c=u?u[l]:l;o=n(o,e[c],c,e)}return o};return function(t,n,r,i){var a=arguments.length>=3;return e(t,(0,o.default)(n,i,4),r,a)}}}),u("3h2GT",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("IGyd7").default)(-1)}),u("2mDFn",function(t,n){e(t.exports,"default",()=>o);var r=a("cmfAU"),i=a("k08ZD");function o(t,e,n){var o=[];return e=(0,r.default)(e,n),(0,i.default)(t,function(t,n,r){e(t,n,r)&&o.push(t)}),o}}),u("dNa3T",function(t,n){e(t.exports,"default",()=>u);var r=a("2mDFn"),i=a("9yzrH"),o=a("cmfAU");function u(t,e,n){return(0,r.default)(t,(0,i.default)((0,o.default)(e)),n)}}),u("jgJEX",function(t,n){e(t.exports,"default",()=>u);var r=a("cmfAU"),i=a("kESAN"),o=a("1rFsw");function u(t,e,n){e=(0,r.default)(e,n);for(var a=!(0,i.default)(t)&&(0,o.default)(t),u=(a||t).length,s=0;s<u;s++){var l=a?a[s]:s;if(!e(t[l],l,t))return!1}return!0}}),u("9A89L",function(t,n){e(t.exports,"default",()=>u);var r=a("cmfAU"),i=a("kESAN"),o=a("1rFsw");function u(t,e,n){e=(0,r.default)(e,n);for(var a=!(0,i.default)(t)&&(0,o.default)(t),u=(a||t).length,s=0;s<u;s++){var l=a?a[s]:s;if(e(t[l],l,t))return!0}return!1}}),u("gKeEm",function(t,n){e(t.exports,"default",()=>u);var r=a("kESAN"),i=a("a1tWb"),o=a("aMe0b");function u(t,e,n,a){return(0,r.default)(t)||(t=(0,i.default)(t)),("number"!=typeof n||a)&&(n=0),(0,o.default)(t,e,n)>=0}}),u("dCJW1",function(t,n){e(t.exports,"default",()=>l);var r=a("9b4UF"),i=a("atLoF"),o=a("e1hz7"),u=a("2pDg4"),s=a("izdkQ"),l=(0,r.default)(function(t,e,n){var r,a;return(0,i.default)(e)?a=e:(r=(e=(0,s.default)(e)).slice(0,-1),e=e[e.length-1]),(0,o.default)(t,function(t){var i=a;if(!i){if(r&&r.length&&(t=(0,u.default)(t,r)),null==t)return;i=t[e]}return null==i?i:i.apply(t,n)})})}),u("5KyAs",function(t,n){e(t.exports,"default",()=>o);var r=a("e1hz7"),i=a("7gghp");function o(t,e){return(0,r.default)(t,(0,i.default)(e))}}),u("2X6oB",function(t,n){e(t.exports,"default",()=>o);var r=a("2mDFn"),i=a("gyNYk");function o(t,e){return(0,r.default)(t,(0,i.default)(e))}}),u("gVpd2",function(t,n){e(t.exports,"default",()=>s);var r=a("kESAN"),i=a("a1tWb"),o=a("cmfAU"),u=a("k08ZD");function s(t,e,n){var a,s,l=-1/0,c=-1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=(0,r.default)(t)?t:(0,i.default)(t);for(var f=0,d=t.length;f<d;f++)null!=(a=t[f])&&a>l&&(l=a)}else e=(0,o.default)(e,n),(0,u.default)(t,function(t,n,r){((s=e(t,n,r))>c||s===-1/0&&l===-1/0)&&(l=t,c=s)});return l}}),u("VITl0",function(t,n){e(t.exports,"default",()=>s);var r=a("kESAN"),i=a("a1tWb"),o=a("cmfAU"),u=a("k08ZD");function s(t,e,n){var a,s,l=1/0,c=1/0;if(null==e||"number"==typeof e&&"object"!=typeof t[0]&&null!=t){t=(0,r.default)(t)?t:(0,i.default)(t);for(var f=0,d=t.length;f<d;f++)null!=(a=t[f])&&a<l&&(l=a)}else e=(0,o.default)(e,n),(0,u.default)(t,function(t,n,r){((s=e(t,n,r))<c||s===1/0&&l===1/0)&&(l=t,c=s)});return l}}),u("dkK7j",function(t,n){e(t.exports,"default",()=>i);var r=a("a2b2M");function i(t){return(0,r.default)(t,1/0)}}),u("a2b2M",function(t,n){e(t.exports,"default",()=>l);var r=a("kESAN"),i=a("a1tWb"),o=a("giMod"),u=a("97fU6"),s=a("cAT6M");function l(t,e,n){if(null==e||n)return(0,r.default)(t)||(t=(0,i.default)(t)),t[(0,u.default)(t.length-1)];var a=(0,s.default)(t),l=(0,o.default)(a);e=Math.max(Math.min(e,l),0);for(var c=l-1,f=0;f<e;f++){var d=(0,u.default)(f,c),h=a[f];a[f]=a[d],a[d]=h}return a.slice(0,e)}}),u("cAT6M",function(t,n){e(t.exports,"default",()=>d);var r=a("hux9f"),i=a("0fogG"),o=a("eeGBh"),u=a("kESAN"),s=a("e1hz7"),l=a("b3btC"),c=a("a1tWb"),f=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function d(t){return t?(0,r.default)(t)?(0,i.slice).call(t):(0,o.default)(t)?t.match(f):(0,u.default)(t)?(0,s.default)(t,l.default):(0,c.default)(t):[]}}),u("gAiTl",function(t,n){e(t.exports,"default",()=>u);var r=a("cmfAU"),i=a("5KyAs"),o=a("e1hz7");function u(t,e,n){var a=0;return e=(0,r.default)(e,n),(0,i.default)((0,o.default)(t,function(t,n,r){return{value:t,index:a++,criteria:e(t,n,r)}}).sort(function(t,e){var n=t.criteria,r=e.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return -1}return t.index-e.index}),"value")}}),u("bdh5G",function(t,n){e(t.exports,"default",()=>o);var r=a("791vf"),i=a("lHkXO"),o=(0,r.default)(function(t,e,n){(0,i.default)(t,n)?t[n].push(e):t[n]=[e]})}),u("791vf",function(t,n){e(t.exports,"default",()=>o);var r=a("cmfAU"),i=a("k08ZD");function o(t,e){return function(n,o,a){var u=e?[[],[]]:{};return o=(0,r.default)(o,a),(0,i.default)(n,function(e,r){var i=o(e,r,n);t(u,e,i)}),u}}}),u("bSlRz",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("791vf").default)(function(t,e,n){t[n]=e})}),u("5N48u",function(t,n){e(t.exports,"default",()=>o);var r=a("791vf"),i=a("lHkXO"),o=(0,r.default)(function(t,e,n){(0,i.default)(t,n)?t[n]++:t[n]=1})}),u("4TODu",function(t,n){e(t.exports,"default",()=>r);var r=(0,a("791vf").default)(function(t,e,n){t[n?0:1].push(e)},!0)}),u("7B8AD",function(t,n){e(t.exports,"default",()=>o);var r=a("kESAN"),i=a("1rFsw");function o(t){return null==t?0:(0,r.default)(t)?t.length:(0,i.default)(t).length}}),u("9I9nf",function(t,n){e(t.exports,"default",()=>c);var r=a("9b4UF"),i=a("atLoF"),o=a("a4GZa"),u=a("aJjO9"),s=a("eaYQM"),l=a("6vOl1"),c=(0,r.default)(function(t,e){var n={},r=e[0];if(null==t)return n;(0,i.default)(r)?(e.length>1&&(r=(0,o.default)(r,e[1])),e=(0,u.default)(t)):(r=s.default,e=(0,l.default)(e,!1,!1),t=Object(t));for(var a=0,c=e.length;a<c;a++){var f=e[a],d=t[f];r(d,f,t)&&(n[f]=d)}return n})}),u("eaYQM",function(t,n){e(t.exports,"default",()=>r);function r(t,e,n){return e in n}}),u("4QNAj",function(t,n){e(t.exports,"default",()=>f);var r=a("9b4UF"),i=a("atLoF"),o=a("9yzrH"),u=a("e1hz7"),s=a("6vOl1"),l=a("gKeEm"),c=a("9I9nf"),f=(0,r.default)(function(t,e){var n,r=e[0];return(0,i.default)(r)?(r=(0,o.default)(r),e.length>1&&(n=e[1])):(e=(0,u.default)((0,s.default)(e,!1,!1),String),r=function(t,n){return!(0,l.default)(e,n)}),(0,c.default)(t,r,n)})}),u("5wOr9",function(t,n){e(t.exports,"default",()=>i);var r=a("5g2xy");function i(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[0]:(0,r.default)(t,t.length-e)}}),u("5g2xy",function(t,n){e(t.exports,"default",()=>i);var r=a("0fogG");function i(t,e,n){return(0,r.slice).call(t,0,Math.max(0,t.length-(null==e||n?1:e)))}}),u("1VINE",function(t,n){e(t.exports,"default",()=>i);var r=a("gai4j");function i(t,e,n){return null==t||t.length<1?null==e||n?void 0:[]:null==e||n?t[t.length-1]:(0,r.default)(t,Math.max(0,t.length-e))}}),u("gai4j",function(t,n){e(t.exports,"default",()=>i);var r=a("0fogG");function i(t,e,n){return(0,r.slice).call(t,null==e||n?1:e)}}),u("xDQNi",function(t,n){e(t.exports,"default",()=>i);var r=a("2mDFn");function i(t){return(0,r.default)(t,Boolean)}}),u("aBPI4",function(t,n){e(t.exports,"default",()=>i);var r=a("6vOl1");function i(t,e){return(0,r.default)(t,e,!1)}}),u("4iX6H",function(t,n){e(t.exports,"default",()=>o);var r=a("9b4UF"),i=a("3UQ7O"),o=(0,r.default)(function(t,e){return(0,i.default)(t,e)})}),u("3UQ7O",function(t,n){e(t.exports,"default",()=>s);var r=a("9b4UF"),i=a("6vOl1"),o=a("2mDFn"),u=a("gKeEm"),s=(0,r.default)(function(t,e){return e=(0,i.default)(e,!0,!0),(0,o.default)(t,function(t){return!(0,u.default)(e,t)})})}),u("25WHZ",function(t,n){e(t.exports,"default",()=>s);var r=a("7Rbr4"),i=a("cmfAU"),o=a("giMod"),u=a("gKeEm");function s(t,e,n,a){(0,r.default)(e)||(a=n,n=e,e=!1),null!=n&&(n=(0,i.default)(n,a));for(var s=[],l=[],c=0,f=(0,o.default)(t);c<f;c++){var d=t[c],h=n?n(d,c,t):d;e&&!n?(c&&l===h||s.push(d),l=h):n?(0,u.default)(l,h)||(l.push(h),s.push(d)):(0,u.default)(s,d)||s.push(d)}return s}}),u("8vDfc",function(t,n){e(t.exports,"default",()=>u);var r=a("9b4UF"),i=a("25WHZ"),o=a("6vOl1"),u=(0,r.default)(function(t){return(0,i.default)((0,o.default)(t,!0,!0))})}),u("cjA2Z",function(t,n){e(t.exports,"default",()=>o);var r=a("giMod"),i=a("gKeEm");function o(t){for(var e=[],n=arguments.length,o=0,a=(0,r.default)(t);o<a;o++){var u,s=t[o];if(!(0,i.default)(e,s)){for(u=1;u<n&&(0,i.default)(arguments[u],s);u++);u===n&&e.push(s)}}return e}}),u("dLtZM",function(t,n){e(t.exports,"default",()=>u);var r=a("gVpd2"),i=a("giMod"),o=a("5KyAs");function u(t){for(var e=t&&(0,r.default)(t,i.default).length||0,n=Array(e),a=0;a<e;a++)n[a]=(0,o.default)(t,a);return n}}),u("cI1un",function(t,n){e(t.exports,"default",()=>o);var r=a("9b4UF"),i=a("dLtZM"),o=(0,r.default)(i.default)}),u("kVaiK",function(t,n){e(t.exports,"default",()=>i);var r=a("giMod");function i(t,e){for(var n={},i=0,o=(0,r.default)(t);i<o;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n}}),u("koB8T",function(t,n){e(t.exports,"default",()=>r);function r(t,e,n){null==e&&(e=t||0,t=0),n||(n=e<t?-1:1);for(var r=Math.max(Math.ceil((e-t)/n),0),i=Array(r),o=0;o<r;o++,t+=n)i[o]=t;return i}}),u("2bQfI",function(t,n){e(t.exports,"default",()=>i);var r=a("0fogG");function i(t,e){if(null==e||e<1)return[];for(var n=[],i=0,o=t.length;i<o;)n.push((0,r.slice).call(t,i,i+=e));return n}}),u("63AJi",function(t,n){e(t.exports,"default",()=>l);var r=a("9FCoE"),i=a("k08ZD"),o=a("gmuuZ"),u=a("0fogG"),s=a("bKoev");function l(t){return(0,i.default)((0,o.default)(t),function(e){var n=r.default[e]=t[e];r.default.prototype[e]=function(){var t=[this._wrapped];return(0,u.push).apply(t,arguments),(0,s.default)(this,n.apply(r.default,t))}}),r.default}}),u("bKoev",function(t,n){e(t.exports,"default",()=>i);var r=a("9FCoE");function i(t,e){return t._chain?(0,r.default)(e).chain():e}}),u("eQt0N",function(t,n){e(t.exports,"default",()=>s);var r=a("9FCoE"),i=a("k08ZD"),o=a("0fogG"),u=a("bKoev");(0,i.default)(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o.ArrayProto[t];r.default.prototype[t]=function(){var n=this._wrapped;return null!=n&&(e.apply(n,arguments),("shift"===t||"splice"===t)&&0===n.length&&delete n[0]),(0,u.default)(this,n)}}),(0,i.default)(["concat","join","slice"],function(t){var e=o.ArrayProto[t];r.default.prototype[t]=function(){var t=this._wrapped;return null!=t&&(t=e.apply(t,arguments)),(0,u.default)(this,t)}});var s=r.default}),u("iUSsr",function(t,e){var n,r;n="undefined"!=typeof window?window:t.exports,r=function(t,e){var n,r=[],i=Object.getPrototypeOf,o=r.slice,a=r.flat?function(t){return r.flat.call(t)}:function(t){return r.concat.apply([],t)},u=r.push,s=r.indexOf,l={},c=l.toString,f=l.hasOwnProperty,d=f.toString,h=d.call(Object),p={},g=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item},v=function(t){return null!=t&&t===t.window},m=t.document,y={type:!0,src:!0,nonce:!0,noModule:!0};function x(t,e,n){var r,i,o=(n=n||m).createElement("script");if(o.text=t,e)for(r in y)(i=e[r]||e.getAttribute&&e.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function b(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?l[c.call(t)]||"object":typeof t}var k="3.7.1",w=/HTML$/i,M=function(t,e){return new M.fn.init(t,e)};function A(t){var e=!!t&&"length"in t&&t.length,n=b(t);return!(g(t)||v(t))&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}function _(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}M.fn=M.prototype={jquery:k,constructor:M,length:0,toArray:function(){return o.call(this)},get:function(t){return null==t?o.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=M.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return M.each(this,t)},map:function(t){return this.pushStack(M.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(M.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(M.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:r.sort,splice:r.splice},M.extend=M.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},u=1,s=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[u]||{},u++),"object"==typeof a||g(a)||(a={}),u===s&&(a=this,u--);u<s;u++)if(null!=(t=arguments[u]))for(e in t)r=t[e],"__proto__"!==e&&a!==r&&(l&&r&&(M.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[e],o=i&&!Array.isArray(n)?[]:i||M.isPlainObject(n)?n:{},i=!1,a[e]=M.extend(l,o,r)):void 0!==r&&(a[e]=r));return a},M.extend({expando:"jQuery"+(k+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!!t&&"[object Object]"===c.call(t)&&(!(e=i(t))||"function"==typeof(n=f.call(e,"constructor")&&e.constructor)&&d.call(n)===h)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t,e,n){x(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,r=0;if(A(t))for(n=t.length;r<n&&!1!==e.call(t[r],r,t[r]);r++);else for(r in t)if(!1===e.call(t[r],r,t[r]))break;return t},text:function(t){var e,n="",r=0,i=t.nodeType;if(!i)for(;e=t[r++];)n+=M.text(e);return 1===i||11===i?t.textContent:9===i?t.documentElement.textContent:3===i||4===i?t.nodeValue:n},makeArray:function(t,e){var n=e||[];return null!=t&&(A(Object(t))?M.merge(n,"string"==typeof t?[t]:t):u.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:s.call(e,t,n)},isXMLDoc:function(t){var e=t&&t.namespaceURI,n=t&&(t.ownerDocument||t).documentElement;return!w.test(e||n&&n.nodeName||"HTML")},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;r<n;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r=[],i=0,o=t.length,a=!n;i<o;i++)!e(t[i],i)!==a&&r.push(t[i]);return r},map:function(t,e,n){var r,i,o=0,u=[];if(A(t))for(r=t.length;o<r;o++)null!=(i=e(t[o],o,n))&&u.push(i);else for(o in t)null!=(i=e(t[o],o,n))&&u.push(i);return a(u)},guid:1,support:p}),"function"==typeof Symbol&&(M.fn[Symbol.iterator]=r[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){l["[object "+e+"]"]=e.toLowerCase()});var E=r.pop,S=r.sort,C=r.splice,N="[\\x20\\t\\r\\n\\f]",T=RegExp("^"+N+"+|((?:^|[^\\\\])(?:\\\\.)*)"+N+"+$","g");M.contains=function(t,e){var n=e&&e.parentNode;return t===n||!!(n&&1===n.nodeType&&(t.contains?t.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))};var D=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function j(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}M.escapeSelector=function(t){return(t+"").replace(D,j)},function(){var e,n,i,a,l,c,d,h,g,v,y=u,x=M.expando,b=0,k=0,w=te(),A=te(),D=te(),j=te(),F=function(t,e){return t===e&&(l=!0),0},O="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="(?:\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",P="\\["+N+"*("+L+")(?:"+N+"*([*^$|!~]?=)"+N+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+N+"*\\]",W=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+P+")*)|.*)\\)|)",I=RegExp(N+"+","g"),z=RegExp("^"+N+"*,"+N+"*"),H=RegExp("^"+N+"*([>+~]|"+N+")"+N+"*"),R=RegExp(N+"|>"),B=new RegExp(W),q=RegExp("^"+L+"$"),V={ID:RegExp("^#("+L+")"),CLASS:RegExp("^\\.("+L+")"),TAG:RegExp("^("+L+"|[*])"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+W),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+N+"*(even|odd|(([+-]|)(\\d*)n|)"+N+"*(?:([+-]|)"+N+"*(\\d+)|))"+N+"*\\)|)","i"),bool:RegExp("^(?:"+O+")$","i"),needsContext:RegExp("^"+N+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+N+"*((?:-\\d)?\\d*)"+N+"*\\)|)(?=[^-]|$)","i")},U=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,Y=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,X=/[+~]/,Z=RegExp("\\\\[\\da-fA-F]{1,6}"+N+"?|\\\\([^\\r\\n\\f])","g"),J=function(t,e){var n="0x"+t.slice(1)-65536;return e||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},Q=function(){tu()},K=tf(function(t){return!0===t.disabled&&_(t,"fieldset")},{dir:"parentNode",next:"legend"});try{y.apply(r=o.call(m.childNodes),m.childNodes),r[m.childNodes.length].nodeType}catch(t){y={apply:function(t,e){u.apply(t,o.call(e))},call:function(t){u.apply(t,o.call(arguments,1))}}}function tt(t,e,n,r){var i,o,a,u,s,l,f,d=e&&e.ownerDocument,v=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==v&&9!==v&&11!==v)return n;if(!r&&(tu(e),e=e||c,h)){if(11!==v&&(s=Y.exec(t))){if(i=s[1]){if(9===v){if(!(a=e.getElementById(i)))return n;if(a.id===i)return y.call(n,a),n}else if(d&&(a=d.getElementById(i))&&tt.contains(e,a)&&a.id===i)return y.call(n,a),n}else if(s[2])return y.apply(n,e.getElementsByTagName(t)),n;else if((i=s[3])&&e.getElementsByClassName)return y.apply(n,e.getElementsByClassName(i)),n}if(!j[t+" "]&&(!g||!g.test(t))){if(f=t,d=e,1===v&&(R.test(t)||H.test(t))){for((d=X.test(t)&&ta(e.parentNode)||e)==e&&p.scope||((u=e.getAttribute("id"))?u=M.escapeSelector(u):e.setAttribute("id",u=x)),o=(l=tl(t)).length;o--;)l[o]=(u?"#"+u:":scope")+" "+tc(l[o]);f=l.join(",")}try{return y.apply(n,d.querySelectorAll(f)),n}catch(e){j(t,!0)}finally{u===x&&e.removeAttribute("id")}}}return tg(t.replace(T,"$1"),e,n,r)}function te(){var t=[];return function e(r,i){return t.push(r+" ")>n.cacheLength&&delete e[t.shift()],e[r+" "]=i}}function tn(t){return t[x]=!0,t}function tr(t){var e=c.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ti(t){return function(e){if("form"in e)return e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||!t!==e.isDisabled&&K(e)===t:e.disabled===t;return"label"in e&&e.disabled===t}}function to(t){return tn(function(e){return e=+e,tn(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ta(t){return t&&void 0!==t.getElementsByTagName&&t}function tu(t){var e,r=t?t.ownerDocument||t:m;return r!=c&&9===r.nodeType&&r.documentElement&&(d=(c=r).documentElement,h=!M.isXMLDoc(c),v=d.matches||d.webkitMatchesSelector||d.msMatchesSelector,d.msMatchesSelector&&m!=c&&(e=c.defaultView)&&e.top!==e&&e.addEventListener("unload",Q),p.getById=tr(function(t){return d.appendChild(t).id=M.expando,!c.getElementsByName||!c.getElementsByName(M.expando).length}),p.disconnectedMatch=tr(function(t){return v.call(t,"*")}),p.scope=tr(function(){return c.querySelectorAll(":scope")}),p.cssHas=tr(function(){try{return c.querySelector(":has(*,:jqfake)"),!1}catch(t){return!0}}),p.getById?(n.filter.ID=function(t){var e=t.replace(Z,J);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n=e.getElementById(t);return n?[n]:[]}}):(n.filter.ID=function(t){var e=t.replace(Z,J);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&h){var n,r,i,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(i=e.getElementsByName(t),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),n.find.TAG=function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):e.querySelectorAll(t)},n.find.CLASS=function(t,e){if(void 0!==e.getElementsByClassName&&h)return e.getElementsByClassName(t)},g=[],tr(function(t){var e;d.appendChild(t).innerHTML="<a id='"+x+"' href='' disabled='disabled'></a><select id='"+x+"-\r\\' disabled='disabled'><option selected=''></option></select>",t.querySelectorAll("[selected]").length||g.push("\\["+N+"*(?:value|"+O+")"),t.querySelectorAll("[id~="+x+"-]").length||g.push("~="),t.querySelectorAll("a#"+x+"+*").length||g.push(".#.+[+~]"),t.querySelectorAll(":checked").length||g.push(":checked"),(e=c.createElement("input")).setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),d.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),(e=c.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||g.push("\\["+N+"*name"+N+"*="+N+"*(?:''|\"\")")}),p.cssHas||g.push(":has"),g=g.length&&new RegExp(g.join("|")),F=function(t,e){if(t===e)return l=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!p.sortDetached&&e.compareDocumentPosition(t)===n?t===c||t.ownerDocument==m&&tt.contains(m,t)?-1:e===c||e.ownerDocument==m&&tt.contains(m,e)?1:a?s.call(a,t)-s.call(a,e):0:4&n?-1:1)}),c}for(e in tt.matches=function(t,e){return tt(t,null,null,e)},tt.matchesSelector=function(t,e){if(tu(t),h&&!j[e+" "]&&(!g||!g.test(e)))try{var n=v.call(t,e);if(n||p.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){j(e,!0)}return tt(e,c,null,[t]).length>0},tt.contains=function(t,e){return(t.ownerDocument||t)!=c&&tu(t),M.contains(t,e)},tt.attr=function(t,e){(t.ownerDocument||t)!=c&&tu(t);var r=n.attrHandle[e.toLowerCase()],i=r&&f.call(n.attrHandle,e.toLowerCase())?r(t,e,!h):void 0;return void 0!==i?i:t.getAttribute(e)},tt.error=function(t){throw Error("Syntax error, unrecognized expression: "+t)},M.uniqueSort=function(t){var e,n=[],r=0,i=0;if(l=!p.sortStable,a=!p.sortStable&&o.call(t,0),S.call(t,F),l){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)C.call(t,n[r],1)}return a=null,t},M.fn.uniqueSort=function(){return this.pushStack(M.uniqueSort(o.apply(this)))},(n=M.expr={cacheLength:50,createPseudo:tn,match:V,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,J),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,J),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||tt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&tt.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return V.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&B.test(n)&&(e=tl(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,J).toLowerCase();return"*"===t?function(){return!0}:function(t){return _(t,e)}},CLASS:function(t){var e=w[t+" "];return e||(e=RegExp("(^|"+N+")"+t+"("+N+"|$)"),w(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(r){var i=tt.attr(r,t);return null==i?"!="===e:!e||((i+="","="===e)?i===n:"!="===e?i!==n:"^="===e?n&&0===i.indexOf(n):"*="===e?n&&i.indexOf(n)>-1:"$="===e?n&&i.slice(-n.length)===n:"~="===e?(" "+i.replace(I," ")+" ").indexOf(n)>-1:"|="===e&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),u="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,s){var l,c,f,d,h,p=o!==a?"nextSibling":"previousSibling",g=e.parentNode,v=u&&e.nodeName.toLowerCase(),m=!s&&!u,y=!1;if(g){if(o){for(;p;){for(f=e;f=f[p];)if(u?_(f,v):1===f.nodeType)return!1;h=p="only"===t&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&m){for(y=(d=(l=(c=g[x]||(g[x]={}))[t]||[])[0]===b&&l[1])&&l[2],f=d&&g.childNodes[d];f=++d&&f&&f[p]||(y=d=0)||h.pop();)if(1===f.nodeType&&++y&&f===e){c[t]=[b,d,y];break}}else if(m&&(y=d=(l=(c=e[x]||(e[x]={}))[t]||[])[0]===b&&l[1]),!1===y)for(;(f=++d&&f&&f[p]||(y=d=0)||h.pop())&&(!((u?_(f,v):1===f.nodeType)&&++y)||(m&&((c=f[x]||(f[x]={}))[t]=[b,y]),f!==e)););return(y-=i)===r||y%r==0&&y/r>=0}}},PSEUDO:function(t,e){var r,i=n.pseudos[t]||n.setFilters[t.toLowerCase()]||tt.error("unsupported pseudo: "+t);return i[x]?i(e):i.length>1?(r=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?tn(function(t,n){for(var r,o=i(t,e),a=o.length;a--;)r=s.call(t,o[a]),t[r]=!(n[r]=o[a])}):function(t){return i(t,0,r)}):i}},pseudos:{not:tn(function(t){var e=[],n=[],r=tp(t.replace(T,"$1"));return r[x]?tn(function(t,e,n,i){for(var o,a=r(t,null,i,[]),u=t.length;u--;)(o=a[u])&&(t[u]=!(e[u]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),e[0]=null,!n.pop()}}),has:tn(function(t){return function(e){return tt(t,e).length>0}}),contains:tn(function(t){return t=t.replace(Z,J),function(e){return(e.textContent||M.text(e)).indexOf(t)>-1}}),lang:tn(function(t){return q.test(t||"")||tt.error("unsupported lang: "+t),t=t.replace(Z,J).toLowerCase(),function(e){var n;do if(n=h?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType)return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===d},focus:function(t){return t===function(){try{return c.activeElement}catch(t){}}()&&c.hasFocus()&&!!(t.type||t.href||~t.tabIndex)},enabled:ti(!1),disabled:ti(!0),checked:function(t){return _(t,"input")&&!!t.checked||_(t,"option")&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return U.test(t.nodeName)},button:function(t){return _(t,"input")&&"button"===t.type||_(t,"button")},text:function(t){var e;return _(t,"input")&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:to(function(){return[0]}),last:to(function(t,e){return[e-1]}),eq:to(function(t,e,n){return[n<0?n+e:n]}),even:to(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:to(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:to(function(t,e,n){var r;for(r=n<0?n+e:n>e?e:n;--r>=0;)t.push(r);return t}),gt:to(function(t,e,n){for(var r=n<0?n+e:n;++r<e;)t.push(r);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=function(t){return function(e){return _(e,"input")&&e.type===t}}(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=function(t){return function(e){return(_(e,"input")||_(e,"button"))&&e.type===t}}(e);function ts(){}function tl(t,e){var r,i,o,a,u,s,l,c=A[t+" "];if(c)return e?0:c.slice(0);for(u=t,s=[],l=n.preFilter;u;){for(a in(!r||(i=z.exec(u)))&&(i&&(u=u.slice(i[0].length)||u),s.push(o=[])),r=!1,(i=H.exec(u))&&(r=i.shift(),o.push({value:r,type:i[0].replace(T," ")}),u=u.slice(r.length)),n.filter)(i=V[a].exec(u))&&(!l[a]||(i=l[a](i)))&&(r=i.shift(),o.push({value:r,type:a,matches:i}),u=u.slice(r.length));if(!r)break}return e?u.length:u?tt.error(t):A(t,s).slice(0)}function tc(t){for(var e=0,n=t.length,r="";e<n;e++)r+=t[e].value;return r}function tf(t,e,n){var r=e.dir,i=e.next,o=i||r,a=n&&"parentNode"===o,u=k++;return e.first?function(e,n,i){for(;e=e[r];)if(1===e.nodeType||a)return t(e,n,i);return!1}:function(e,n,s){var l,c,f=[b,u];if(s){for(;e=e[r];)if((1===e.nodeType||a)&&t(e,n,s))return!0}else for(;e=e[r];)if(1===e.nodeType||a){if(c=e[x]||(e[x]={}),i&&_(e,i))e=e[r]||e;else{if((l=c[o])&&l[0]===b&&l[1]===u)return f[2]=l[2];if(c[o]=f,f[2]=t(e,n,s))return!0}}return!1}}function td(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function th(t,e,n,r,i){for(var o,a=[],u=0,s=t.length,l=null!=e;u<s;u++)(o=t[u])&&(!n||n(o,r,i))&&(a.push(o),l&&e.push(u));return a}function tp(t,e){var r,o,a,u,l=[],f=[],d=D[t+" "];if(!d){for(e||(e=tl(t)),u=e.length;u--;)(d=function t(e){for(var r,o,a,u=e.length,l=n.relative[e[0].type],c=l||n.relative[" "],f=l?1:0,d=tf(function(t){return t===r},c,!0),h=tf(function(t){return s.call(r,t)>-1},c,!0),p=[function(t,e,n){var o=!l&&(n||e!=i)||((r=e).nodeType?d(t,e,n):h(t,e,n));return r=null,o}];f<u;f++)if(o=n.relative[e[f].type])p=[tf(td(p),o)];else{if((o=n.filter[e[f].type].apply(null,e[f].matches))[x]){for(a=++f;a<u&&!n.relative[e[a].type];a++);return function t(e,n,r,i,o,a){return i&&!i[x]&&(i=t(i)),o&&!o[x]&&(o=t(o,a)),tn(function(t,a,u,l){var c,f,d,h,p=[],g=[],v=a.length,m=t||function(t,e,n){for(var r=0,i=e.length;r<i;r++)tt(t,e[r],n);return n}(n||"*",u.nodeType?[u]:u,[]),x=e&&(t||!n)?th(m,p,e,u,l):m;if(r?r(x,h=o||(t?e:v||i)?[]:a,u,l):h=x,i)for(c=th(h,g),i(c,[],u,l),f=c.length;f--;)(d=c[f])&&(h[g[f]]=!(x[g[f]]=d));if(t){if(o||e){if(o){for(c=[],f=h.length;f--;)(d=h[f])&&c.push(x[f]=d);o(null,h=[],c,l)}for(f=h.length;f--;)(d=h[f])&&(c=o?s.call(t,d):p[f])>-1&&(t[c]=!(a[c]=d))}}else h=th(h===a?h.splice(v,h.length):h),o?o(null,a,h,l):y.apply(a,h)})}(f>1&&td(p),f>1&&tc(e.slice(0,f-1).concat({value:" "===e[f-2].type?"*":""})).replace(T,"$1"),o,f<a&&t(e.slice(f,a)),a<u&&t(e=e.slice(a)),a<u&&tc(e))}p.push(o)}return td(p)}(e[u]))[x]?l.push(d):f.push(d);(d=D(t,(r=l.length>0,o=f.length>0,a=function(t,e,a,u,s){var d,p,g,v=0,m="0",x=t&&[],k=[],w=i,A=t||o&&n.find.TAG("*",s),_=b+=null==w?1:Math.random()||.1,S=A.length;for(s&&(i=e==c||e||s);m!==S&&null!=(d=A[m]);m++){if(o&&d){for(p=0,e||d.ownerDocument==c||(tu(d),a=!h);g=f[p++];)if(g(d,e||c,a)){y.call(u,d);break}s&&(b=_)}r&&((d=!g&&d)&&v--,t&&x.push(d))}if(v+=m,r&&m!==v){for(p=0;g=l[p++];)g(x,k,e,a);if(t){if(v>0)for(;m--;)x[m]||k[m]||(k[m]=E.call(u));k=th(k)}y.apply(u,k),s&&!t&&k.length>0&&v+l.length>1&&M.uniqueSort(u)}return s&&(b=_,i=w),x},r?tn(a):a))).selector=t}return d}function tg(t,e,r,i){var o,a,u,s,l,c="function"==typeof t&&t,f=!i&&tl(t=c.selector||t);if(r=r||[],1===f.length){if((a=f[0]=f[0].slice(0)).length>2&&"ID"===(u=a[0]).type&&9===e.nodeType&&h&&n.relative[a[1].type]){if(!(e=(n.find.ID(u.matches[0].replace(Z,J),e)||[])[0]))return r;c&&(e=e.parentNode),t=t.slice(a.shift().value.length)}for(o=V.needsContext.test(t)?0:a.length;o--&&(u=a[o],!n.relative[s=u.type]);)if((l=n.find[s])&&(i=l(u.matches[0].replace(Z,J),X.test(a[0].type)&&ta(e.parentNode)||e))){if(a.splice(o,1),!(t=i.length&&tc(a)))return y.apply(r,i),r;break}}return(c||tp(t,f))(i,e,!h,r,!e||X.test(t)&&ta(e.parentNode)||e),r}ts.prototype=n.filters=n.pseudos,n.setFilters=new ts,p.sortStable=x.split("").sort(F).join("")===x,tu(),p.sortDetached=tr(function(t){return 1&t.compareDocumentPosition(c.createElement("fieldset"))}),M.find=tt,M.expr[":"]=M.expr.pseudos,M.unique=M.uniqueSort,tt.compile=tp,tt.select=tg,tt.setDocument=tu,tt.tokenize=tl,tt.escape=M.escapeSelector,tt.getText=M.text,tt.isXML=M.isXMLDoc,tt.selectors=M.expr,tt.support=M.support,tt.uniqueSort=M.uniqueSort}();var F=function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&M(t).is(n))break;r.push(t)}return r},O=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},L=M.expr.match.needsContext,P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function W(t,e,n){return g(e)?M.grep(t,function(t,r){return!!e.call(t,r,t)!==n}):e.nodeType?M.grep(t,function(t){return t===e!==n}):"string"!=typeof e?M.grep(t,function(t){return s.call(e,t)>-1!==n}):M.filter(e,t,n)}M.filter=function(t,e,n){var r=e[0];return(n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType)?M.find.matchesSelector(r,t)?[r]:[]:M.find.matches(t,M.grep(e,function(t){return 1===t.nodeType}))},M.fn.extend({find:function(t){var e,n,r=this.length,i=this;if("string"!=typeof t)return this.pushStack(M(t).filter(function(){for(e=0;e<r;e++)if(M.contains(i[e],this))return!0}));for(e=0,n=this.pushStack([]);e<r;e++)M.find(t,i[e],n);return r>1?M.uniqueSort(n):n},filter:function(t){return this.pushStack(W(this,t||[],!1))},not:function(t){return this.pushStack(W(this,t||[],!0))},is:function(t){return!!W(this,"string"==typeof t&&L.test(t)?M(t):t||[],!1).length}});var I,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(M.fn.init=function(t,e,n){var r,i;if(!t)return this;if(n=n||I,"string"==typeof t){if((r="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:z.exec(t))&&(r[1]||!e)){if(!r[1])return(i=m.getElementById(r[2]))&&(this[0]=i,this.length=1),this;if(e=e instanceof M?e[0]:e,M.merge(this,M.parseHTML(r[1],e&&e.nodeType?e.ownerDocument||e:m,!0)),P.test(r[1])&&M.isPlainObject(e))for(r in e)g(this[r])?this[r](e[r]):this.attr(r,e[r]);return this}return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t)}return t.nodeType?(this[0]=t,this.length=1,this):g(t)?void 0!==n.ready?n.ready(t):t(M):M.makeArray(t,this)}).prototype=M.fn,I=M(m);var H=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function B(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}M.fn.extend({has:function(t){var e=M(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(M.contains(this,e[t]))return!0})},closest:function(t,e){var n,r=0,i=this.length,o=[],a="string"!=typeof t&&M(t);if(!L.test(t)){for(;r<i;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&M.find.matchesSelector(n,t))){o.push(n);break}}return this.pushStack(o.length>1?M.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?s.call(M(t),this[0]):s.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),M.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return F(t,"parentNode")},parentsUntil:function(t,e,n){return F(t,"parentNode",n)},next:function(t){return B(t,"nextSibling")},prev:function(t){return B(t,"previousSibling")},nextAll:function(t){return F(t,"nextSibling")},prevAll:function(t){return F(t,"previousSibling")},nextUntil:function(t,e,n){return F(t,"nextSibling",n)},prevUntil:function(t,e,n){return F(t,"previousSibling",n)},siblings:function(t){return O((t.parentNode||{}).firstChild,t)},children:function(t){return O(t.firstChild)},contents:function(t){return null!=t.contentDocument&&i(t.contentDocument)?t.contentDocument:(_(t,"template")&&(t=t.content||t),M.merge([],t.childNodes))}},function(t,e){M.fn[t]=function(n,r){var i=M.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=M.filter(r,i)),this.length>1&&(R[t]||M.uniqueSort(i),H.test(t)&&i.reverse()),this.pushStack(i)}});var q=/[^\x20\t\r\n\f]+/g;function V(t){return t}function U(t){throw t}function G(t,e,n,r){var i;try{t&&g(i=t.promise)?i.call(t).done(e).fail(n):t&&g(i=t.then)?i.call(t,e,n):e.apply(void 0,[t].slice(r))}catch(t){n.apply(void 0,[t])}}M.Callbacks=function(t){t="string"==typeof t?(e=t,n={},M.each(e.match(q)||[],function(t,e){n[e]=!0}),n):M.extend({},t);var e,n,r,i,o,a,u=[],s=[],l=-1,c=function(){for(a=a||t.once,o=r=!0;s.length;l=-1)for(i=s.shift();++l<u.length;)!1===u[l].apply(i[0],i[1])&&t.stopOnFalse&&(l=u.length,i=!1);t.memory||(i=!1),r=!1,a&&(u=i?[]:"")},f={add:function(){return u&&(i&&!r&&(l=u.length-1,s.push(i)),function e(n){M.each(n,function(n,r){g(r)?t.unique&&f.has(r)||u.push(r):r&&r.length&&"string"!==b(r)&&e(r)})}(arguments),i&&!r&&c()),this},remove:function(){return M.each(arguments,function(t,e){for(var n;(n=M.inArray(e,u,n))>-1;)u.splice(n,1),n<=l&&l--}),this},has:function(t){return t?M.inArray(t,u)>-1:u.length>0},empty:function(){return u&&(u=[]),this},disable:function(){return a=s=[],u=i="",this},disabled:function(){return!u},lock:function(){return a=s=[],i||r||(u=i=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],s.push(e),r||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},M.extend({Deferred:function(e){var n=[["notify","progress",M.Callbacks("memory"),M.Callbacks("memory"),2],["resolve","done",M.Callbacks("once memory"),M.Callbacks("once memory"),0,"resolved"],["reject","fail",M.Callbacks("once memory"),M.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return i.then(null,t)},pipe:function(){var t=arguments;return M.Deferred(function(e){M.each(n,function(n,r){var i=g(t[r[4]])&&t[r[4]];o[r[1]](function(){var t=i&&i.apply(this,arguments);t&&g(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[r[0]+"With"](this,i?[t]:arguments)})}),t=null}).promise()},then:function(e,r,i){var o=0;function a(e,n,r,i){return function(){var u=this,s=arguments,l=function(){var t,l;if(!(e<o)){if((t=r.apply(u,s))===n.promise())throw TypeError("Thenable self-resolution");g(l=t&&("object"==typeof t||"function"==typeof t)&&t.then)?i?l.call(t,a(o,n,V,i),a(o,n,U,i)):(o++,l.call(t,a(o,n,V,i),a(o,n,U,i),a(o,n,V,n.notifyWith))):(r!==V&&(u=void 0,s=[t]),(i||n.resolveWith)(u,s))}},c=i?l:function(){try{l()}catch(t){M.Deferred.exceptionHook&&M.Deferred.exceptionHook(t,c.error),e+1>=o&&(r!==U&&(u=void 0,s=[t]),n.rejectWith(u,s))}};e?c():(M.Deferred.getErrorHook?c.error=M.Deferred.getErrorHook():M.Deferred.getStackHook&&(c.error=M.Deferred.getStackHook()),t.setTimeout(c))}}return M.Deferred(function(t){n[0][3].add(a(0,t,g(i)?i:V,t.notifyWith)),n[1][3].add(a(0,t,g(e)?e:V)),n[2][3].add(a(0,t,g(r)?r:U))}).promise()},promise:function(t){return null!=t?M.extend(t,i):i}},o={};return M.each(n,function(t,e){var a=e[2],u=e[5];i[e[1]]=a.add,u&&a.add(function(){r=u},n[3-t][2].disable,n[3-t][3].disable,n[0][2].lock,n[0][3].lock),a.add(e[3].fire),o[e[0]]=function(){return o[e[0]+"With"](this===o?void 0:this,arguments),this},o[e[0]+"With"]=a.fireWith}),i.promise(o),e&&e.call(o,o),o},when:function(t){var e=arguments.length,n=e,r=Array(n),i=o.call(arguments),a=M.Deferred(),u=function(t){return function(n){r[t]=this,i[t]=arguments.length>1?o.call(arguments):n,--e||a.resolveWith(r,i)}};if(e<=1&&(G(t,a.done(u(n)).resolve,a.reject,!e),"pending"===a.state()||g(i[n]&&i[n].then)))return a.then();for(;n--;)G(i[n],u(n),a.reject);return a.promise()}});var Y=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;M.Deferred.exceptionHook=function(e,n){t.console&&t.console.warn&&e&&Y.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,n)},M.readyException=function(e){t.setTimeout(function(){throw e})};var X=M.Deferred();function Z(){m.removeEventListener("DOMContentLoaded",Z),t.removeEventListener("load",Z),M.ready()}M.fn.ready=function(t){return X.then(t).catch(function(t){M.readyException(t)}),this},M.extend({isReady:!1,readyWait:1,ready:function(t){!(!0===t?--M.readyWait:M.isReady)&&(M.isReady=!0,!0!==t&&--M.readyWait>0||X.resolveWith(m,[M]))}}),M.ready.then=X.then,"complete"!==m.readyState&&("loading"===m.readyState||m.documentElement.doScroll)?(m.addEventListener("DOMContentLoaded",Z),t.addEventListener("load",Z)):t.setTimeout(M.ready);var J=function(t,e,n,r,i,o,a){var u=0,s=t.length,l=null==n;if("object"===b(n))for(u in i=!0,n)J(t,e,u,n[u],!0,o,a);else if(void 0!==r&&(i=!0,g(r)||(a=!0),l&&(a?(e.call(t,r),e=null):(l=e,e=function(t,e,n){return l.call(M(t),n)})),e))for(;u<s;u++)e(t[u],n,a?r:r.call(t[u],u,e(t[u],n)));return i?t:l?e.call(t):s?e(t[0],n):o},Q=/^-ms-/,K=/-([a-z])/g;function tt(t,e){return e.toUpperCase()}function te(t){return t.replace(Q,"ms-").replace(K,tt)}var tn=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function tr(){this.expando=M.expando+tr.uid++}tr.uid=1,tr.prototype={cache:function(t){var e=t[this.expando];return!e&&(e={},tn(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var r,i=this.cache(t);if("string"==typeof e)i[te(e)]=n;else for(r in e)i[te(r)]=e[r];return i},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][te(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r=t[this.expando];if(void 0!==r){if(void 0!==e)for(n=(e=Array.isArray(e)?e.map(te):((e=te(e))in r)?[e]:e.match(q)||[]).length;n--;)delete r[e[n]];(void 0===e||M.isEmptyObject(r))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!M.isEmptyObject(e)}};var ti=new tr,to=new tr,ta=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,tu=/[A-Z]/g;function ts(t,e,n){var r,i;if(void 0===n&&1===t.nodeType){if(r="data-"+e.replace(tu,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(r))){try{i=n,n="true"===i||"false"!==i&&("null"===i?null:i===+i+""?+i:ta.test(i)?JSON.parse(i):i)}catch(t){}to.set(t,e,n)}else n=void 0}return n}M.extend({hasData:function(t){return to.hasData(t)||ti.hasData(t)},data:function(t,e,n){return to.access(t,e,n)},removeData:function(t,e){to.remove(t,e)},_data:function(t,e,n){return ti.access(t,e,n)},_removeData:function(t,e){ti.remove(t,e)}}),M.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=to.get(o),1===o.nodeType&&!ti.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&ts(o,r=te(r.slice(5)),i[r]);ti.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){to.set(this,t)}):J(this,function(e){var n;if(o&&void 0===e)return void 0!==(n=to.get(o,t))||void 0!==(n=ts(o,t))?n:void 0;this.each(function(){to.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){to.remove(this,t)})}}),M.extend({queue:function(t,e,n){var r;if(t)return e=(e||"fx")+"queue",r=ti.get(t,e),n&&(!r||Array.isArray(n)?r=ti.access(t,e,M.makeArray(n)):r.push(n)),r||[]},dequeue:function(t,e){e=e||"fx";var n=M.queue(t,e),r=n.length,i=n.shift(),o=M._queueHooks(t,e);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,function(){M.dequeue(t,e)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return ti.get(t,n)||ti.access(t,n,{empty:M.Callbacks("once memory").add(function(){ti.remove(t,[e+"queue",n])})})}}),M.fn.extend({queue:function(t,e){var n=2;return("string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n)?M.queue(this[0],t):void 0===e?this:this.each(function(){var n=M.queue(this,t,e);M._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&M.dequeue(this,t)})},dequeue:function(t){return this.each(function(){M.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=M.Deferred(),o=this,a=this.length,u=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(n=ti.get(o[a],t+"queueHooks"))&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(e)}});var tl=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,tc=RegExp("^(?:([+-])=|)("+tl+")([a-z%]*)$","i"),tf=["Top","Right","Bottom","Left"],td=m.documentElement,th=function(t){return M.contains(t.ownerDocument,t)},tp={composed:!0};td.getRootNode&&(th=function(t){return M.contains(t.ownerDocument,t)||t.getRootNode(tp)===t.ownerDocument});var tg=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&th(t)&&"none"===M.css(t,"display")};function tv(t,e,n,r){var i,o,a=20,u=r?function(){return r.cur()}:function(){return M.css(t,e,"")},s=u(),l=n&&n[3]||(M.cssNumber[e]?"":"px"),c=t.nodeType&&(M.cssNumber[e]||"px"!==l&&+s)&&tc.exec(M.css(t,e));if(c&&c[3]!==l){for(s/=2,l=l||c[3],c=+s||1;a--;)M.style(t,e,c+l),(1-o)*(1-(o=u()/s||.5))<=0&&(a=0),c/=o;c*=2,M.style(t,e,c+l),n=n||[]}return n&&(c=+c||+s||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var tm={};function ty(t,e){for(var n,r,i=[],o=0,a=t.length;o<a;o++)(r=t[o]).style&&(n=r.style.display,e?("none"!==n||(i[o]=ti.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&tg(r)&&(i[o]=function(t){var e,n=t.ownerDocument,r=t.nodeName,i=tm[r];return i||(e=n.body.appendChild(n.createElement(r)),i=M.css(e,"display"),e.parentNode.removeChild(e),"none"===i&&(i="block"),tm[r]=i),i}(r))):"none"!==n&&(i[o]="none",ti.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(t[o].style.display=i[o]);return t}M.fn.extend({show:function(){return ty(this,!0)},hide:function(){return ty(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){tg(this)?M(this).show():M(this).hide()})}});var tx=/^(?:checkbox|radio)$/i,tb=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,tk=/^$|^module$|\/(?:java|ecma)script/i;t6=m.createDocumentFragment().appendChild(m.createElement("div")),(t4=m.createElement("input")).setAttribute("type","radio"),t4.setAttribute("checked","checked"),t4.setAttribute("name","t"),t6.appendChild(t4),p.checkClone=t6.cloneNode(!0).cloneNode(!0).lastChild.checked,t6.innerHTML="<textarea>x</textarea>",p.noCloneChecked=!!t6.cloneNode(!0).lastChild.defaultValue,t6.innerHTML="<option></option>",p.option=!!t6.lastChild;var tw={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function tM(t,e){var n;return(n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&_(t,e))?M.merge([t],n):n}function tA(t,e){for(var n=0,r=t.length;n<r;n++)ti.set(t[n],"globalEval",!e||ti.get(e[n],"globalEval"))}tw.tbody=tw.tfoot=tw.colgroup=tw.caption=tw.thead,tw.th=tw.td,p.option||(tw.optgroup=tw.option=[1,"<select multiple='multiple'>","</select>"]);var t_=/<|&#?\w+;/;function tE(t,e,n,r,i){for(var o,a,u,s,l,c=e.createDocumentFragment(),f=[],d=0,h=t.length;d<h;d++)if((o=t[d])||0===o){if("object"===b(o))M.merge(f,o.nodeType?[o]:o);else if(t_.test(o)){for(a=a||c.appendChild(e.createElement("div")),u=tw[(tb.exec(o)||["",""])[1].toLowerCase()]||tw._default,a.innerHTML=u[1]+M.htmlPrefilter(o)+u[2],l=u[0];l--;)a=a.lastChild;M.merge(f,a.childNodes),(a=c.firstChild).textContent=""}else f.push(e.createTextNode(o))}for(c.textContent="",d=0;o=f[d++];){if(r&&M.inArray(o,r)>-1){i&&i.push(o);continue}if(s=th(o),a=tM(c.appendChild(o),"script"),s&&tA(a),n)for(l=0;o=a[l++];)tk.test(o.type||"")&&n.push(o)}return c}var tS=/^([^.]*)(?:\.(.+)|)/;function tC(){return!0}function tN(){return!1}function tT(t,e,n,r,i,o){var a,u;if("object"==typeof e){for(u in"string"!=typeof n&&(r=r||n,n=void 0),e)tT(t,u,n,r,e[u],o);return t}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=tN;else if(!i)return t;return 1===o&&(a=i,(i=function(t){return M().off(t),a.apply(this,arguments)}).guid=a.guid||(a.guid=M.guid++)),t.each(function(){M.event.add(this,e,i,r,n)})}function tD(t,e,n){if(!n){void 0===ti.get(t,e)&&M.event.add(t,e,tC);return}ti.set(t,e,!1),M.event.add(t,e,{namespace:!1,handler:function(t){var n,r=ti.get(this,e);if(1&t.isTrigger&&this[e]){if(r)(M.event.special[e]||{}).delegateType&&t.stopPropagation();else if(r=o.call(arguments),ti.set(this,e,r),this[e](),n=ti.get(this,e),ti.set(this,e,!1),r!==n)return t.stopImmediatePropagation(),t.preventDefault(),n}else r&&(ti.set(this,e,M.event.trigger(r[0],r.slice(1),this)),t.stopPropagation(),t.isImmediatePropagationStopped=tC)}})}M.event={global:{},add:function(t,e,n,r,i){var o,a,u,s,l,c,f,d,h,p,g,v=ti.get(t);if(tn(t))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&M.find.matchesSelector(td,i),n.guid||(n.guid=M.guid++),(s=v.events)||(s=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return M.event.triggered!==e.type?M.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(q)||[""]).length;l--;)h=g=(u=tS.exec(e[l])||[])[1],p=(u[2]||"").split(".").sort(),h&&(f=M.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=M.event.special[h]||{},c=M.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&M.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=s[h])||((d=s[h]=[]).delegateCount=0,(!f.setup||!1===f.setup.call(t,r,p,a))&&t.addEventListener&&t.addEventListener(h,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),M.event.global[h]=!0)},remove:function(t,e,n,r,i){var o,a,u,s,l,c,f,d,h,p,g,v=ti.hasData(t)&&ti.get(t);if(v&&(s=v.events)){for(l=(e=(e||"").match(q)||[""]).length;l--;){if(h=g=(u=tS.exec(e[l])||[])[1],p=(u[2]||"").split(".").sort(),!h){for(h in s)M.event.remove(t,h+e[l],n,r,!0);continue}for(f=M.event.special[h]||{},d=s[h=(r?f.delegateType:f.bindType)||h]||[],u=u[2]&&RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],(i||g===c.origType)&&(!n||n.guid===c.guid)&&(!u||u.test(c.namespace))&&(!r||r===c.selector||"**"===r&&c.selector)&&(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(t,c));a&&!d.length&&(f.teardown&&!1!==f.teardown.call(t,p,v.handle)||M.removeEvent(t,h,v.handle),delete s[h])}M.isEmptyObject(s)&&ti.remove(t,"handle events")}},dispatch:function(t){var e,n,r,i,o,a,u=Array(arguments.length),s=M.event.fix(t),l=(ti.get(this,"events")||Object.create(null))[s.type]||[],c=M.event.special[s.type]||{};for(e=1,u[0]=s;e<arguments.length;e++)u[e]=arguments[e];if(s.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,s)){for(a=M.event.handlers.call(this,s,l),e=0;(i=a[e++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)(!s.rnamespace||!1===o.namespace||s.rnamespace.test(o.namespace))&&(s.handleObj=o,s.data=o.data,void 0!==(r=((M.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u))&&!1===(s.result=r)&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(t,e){var n,r,i,o,a,u=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&!("click"===t.type&&t.button>=1)){for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&!("click"===t.type&&!0===l.disabled)){for(n=0,o=[],a={};n<s;n++)void 0===a[i=(r=e[n]).selector+" "]&&(a[i]=r.needsContext?M(i,this).index(l)>-1:M.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&u.push({elem:l,handlers:o})}}return l=this,s<e.length&&u.push({elem:l,handlers:e.slice(s)}),u},addProp:function(t,e){Object.defineProperty(M.Event.prototype,t,{enumerable:!0,configurable:!0,get:g(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[M.expando]?t:new M.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){var e=this||t;return tx.test(e.type)&&e.click&&_(e,"input")&&tD(e,"click",!0),!1},trigger:function(t){var e=this||t;return tx.test(e.type)&&e.click&&_(e,"input")&&tD(e,"click"),!0},_default:function(t){var e=t.target;return tx.test(e.type)&&e.click&&_(e,"input")&&ti.get(e,"click")||_(e,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},M.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},M.Event=function(t,e){if(!(this instanceof M.Event))return new M.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?tC:tN,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&M.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:tN,isPropagationStopped:tN,isImmediatePropagationStopped:tN,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=tC,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=tC,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=tC,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},M.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},M.event.addProp),M.each({focus:"focusin",blur:"focusout"},function(t,e){function n(t){if(m.documentMode){var n=ti.get(this,"handle"),r=M.event.fix(t);r.type="focusin"===t.type?"focus":"blur",r.isSimulated=!0,n(t),r.target===r.currentTarget&&n(r)}else M.event.simulate(e,t.target,M.event.fix(t))}M.event.special[t]={setup:function(){var r;if(tD(this,t,!0),!m.documentMode)return!1;(r=ti.get(this,e))||this.addEventListener(e,n),ti.set(this,e,(r||0)+1)},trigger:function(){return tD(this,t),!0},teardown:function(){var t;if(!m.documentMode)return!1;(t=ti.get(this,e)-1)?ti.set(this,e,t):(this.removeEventListener(e,n),ti.remove(this,e))},_default:function(e){return ti.get(e.target,t)},delegateType:e},M.event.special[e]={setup:function(){var r=this.ownerDocument||this.document||this,i=m.documentMode?this:r,o=ti.get(i,e);o||(m.documentMode?this.addEventListener(e,n):r.addEventListener(t,n,!0)),ti.set(i,e,(o||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=m.documentMode?this:r,o=ti.get(i,e)-1;o?ti.set(i,e,o):(m.documentMode?this.removeEventListener(e,n):r.removeEventListener(t,n,!0),ti.remove(i,e))}}}),M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){M.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=t.relatedTarget,i=t.handleObj;return r&&(r===this||M.contains(this,r))||(t.type=i.origType,n=i.handler.apply(this,arguments),t.type=e),n}}}),M.fn.extend({on:function(t,e,n,r){return tT(this,t,e,n,r)},one:function(t,e,n,r){return tT(this,t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,M(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(!1===e||"function"==typeof e)&&(n=e,e=void 0),!1===n&&(n=tN),this.each(function(){M.event.remove(this,t,n,e)})}});var tj=/<script|<style|<link/i,tF=/checked\s*(?:[^=]|=\s*.checked.)/i,tO=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function tL(t,e){return _(t,"table")&&_(11!==e.nodeType?e:e.firstChild,"tr")&&M(t).children("tbody")[0]||t}function tP(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function tW(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function tI(t,e){var n,r,i,o,a,u;if(1===e.nodeType){if(ti.hasData(t)&&(u=ti.get(t).events))for(i in ti.remove(e,"handle events"),u)for(n=0,r=u[i].length;n<r;n++)M.event.add(e,i,u[i][n]);to.hasData(t)&&(o=to.access(t),a=M.extend({},o),to.set(e,a))}}function tz(t,e,n,r){e=a(e);var i,o,u,s,l,c,f=0,d=t.length,h=d-1,v=e[0],m=g(v);if(m||d>1&&"string"==typeof v&&!p.checkClone&&tF.test(v))return t.each(function(i){var o=t.eq(i);m&&(e[0]=v.call(this,i,o.html())),tz(o,e,n,r)});if(d&&(o=(i=tE(e,t[0].ownerDocument,!1,t,r)).firstChild,1===i.childNodes.length&&(i=o),o||r)){for(s=(u=M.map(tM(i,"script"),tP)).length;f<d;f++)l=i,f!==h&&(l=M.clone(l,!0,!0),s&&M.merge(u,tM(l,"script"))),n.call(t[f],l,f);if(s)for(c=u[u.length-1].ownerDocument,M.map(u,tW),f=0;f<s;f++)l=u[f],tk.test(l.type||"")&&!ti.access(l,"globalEval")&&M.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?M._evalUrl&&!l.noModule&&M._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):x(l.textContent.replace(tO,""),l,c))}return t}function tH(t,e,n){for(var r,i=e?M.filter(e,t):t,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||M.cleanData(tM(r)),r.parentNode&&(n&&th(r)&&tA(tM(r,"script")),r.parentNode.removeChild(r));return t}M.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var r,i,o,a,u=t.cloneNode(!0),s=th(t);if(!p.noCloneChecked&&(1===t.nodeType||11===t.nodeType)&&!M.isXMLDoc(t))for(r=0,a=tM(u),i=(o=tM(t)).length;r<i;r++)!function(t,e){var n=e.nodeName.toLowerCase();"input"===n&&tx.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}(o[r],a[r]);if(e){if(n)for(r=0,o=o||tM(t),a=a||tM(u),i=o.length;r<i;r++)tI(o[r],a[r]);else tI(t,u)}return(a=tM(u,"script")).length>0&&tA(a,!s&&tM(t,"script")),u},cleanData:function(t){for(var e,n,r,i=M.event.special,o=0;void 0!==(n=t[o]);o++)if(tn(n)){if(e=n[ti.expando]){if(e.events)for(r in e.events)i[r]?M.event.remove(n,r):M.removeEvent(n,r,e.handle);n[ti.expando]=void 0}n[to.expando]&&(n[to.expando]=void 0)}}}),M.fn.extend({detach:function(t){return tH(this,t,!0)},remove:function(t){return tH(this,t)},text:function(t){return J(this,function(t){return void 0===t?M.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return tz(this,arguments,function(t){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&tL(this,t).appendChild(t)})},prepend:function(){return tz(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=tL(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return tz(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return tz(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(M.cleanData(tM(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return M.clone(this,t,e)})},html:function(t){return J(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!tj.test(t)&&!tw[(tb.exec(t)||["",""])[1].toLowerCase()]){t=M.htmlPrefilter(t);try{for(;n<r;n++)e=this[n]||{},1===e.nodeType&&(M.cleanData(tM(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return tz(this,arguments,function(e){var n=this.parentNode;0>M.inArray(this,t)&&(M.cleanData(tM(this)),n&&n.replaceChild(e,this))},t)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){M.fn[t]=function(t){for(var n,r=[],i=M(t),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),M(i[a])[e](n),u.apply(r,n.get());return this.pushStack(r)}});var tR=RegExp("^("+tl+")(?!px)[a-z%]+$","i"),tB=/^--/,tq=function(e){var n=e.ownerDocument.defaultView;return n&&n.opener||(n=t),n.getComputedStyle(e)},tV=function(t,e,n){var r,i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in r=n.call(t),e)t.style[i]=o[i];return r},tU=RegExp(tf.join("|"),"i");function tG(t,e,n){var r,i,o,a,u=tB.test(e),s=t.style;return(n=n||tq(t))&&(a=n.getPropertyValue(e)||n[e],u&&a&&(a=a.replace(T,"$1")||void 0),""!==a||th(t)||(a=M.style(t,e)),!p.pixelBoxStyles()&&tR.test(a)&&tU.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function tY(t,e){return{get:function(){if(t()){delete this.get;return}return(this.get=e).apply(this,arguments)}}}!function(){function e(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",td.appendChild(l).appendChild(c);var e=t.getComputedStyle(c);r="1%"!==e.top,s=12===n(e.marginLeft),c.style.right="60%",a=36===n(e.right),i=36===n(e.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),td.removeChild(l),c=null}}function n(t){return Math.round(parseFloat(t))}var r,i,o,a,u,s,l=m.createElement("div"),c=m.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",p.clearCloneStyle="content-box"===c.style.backgroundClip,M.extend(p,{boxSizingReliable:function(){return e(),i},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),r},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,n,r,i;return null==u&&(e=m.createElement("table"),n=m.createElement("tr"),r=m.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="box-sizing:content-box;border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",td.appendChild(e).appendChild(n).appendChild(r),u=parseInt((i=t.getComputedStyle(n)).height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight,td.removeChild(e)),u}}))}();var tX=["Webkit","Moz","ms"],t$=m.createElement("div").style,tZ={};function tJ(t){return M.cssProps[t]||tZ[t]||(t in t$?t:tZ[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=tX.length;n--;)if((t=tX[n]+e)in t$)return t}(t)||t)}var tQ=/^(none|table(?!-c[ea]).+)/,tK={position:"absolute",visibility:"hidden",display:"block"},t0={letterSpacing:"0",fontWeight:"400"};function t1(t,e,n){var r=tc.exec(e);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):e}function t3(t,e,n,r,i,o){var a="width"===e?1:0,u=0,s=0,l=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(l+=M.css(t,n+tf[a],!0,i)),r?("content"===n&&(s-=M.css(t,"padding"+tf[a],!0,i)),"margin"!==n&&(s-=M.css(t,"border"+tf[a]+"Width",!0,i))):(s+=M.css(t,"padding"+tf[a],!0,i),"padding"!==n?s+=M.css(t,"border"+tf[a]+"Width",!0,i):u+=M.css(t,"border"+tf[a]+"Width",!0,i));return!r&&o>=0&&(s+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-s-u-.5))||0),s+l}function t2(t,e,n){var r=tq(t),i=(!p.boxSizingReliable()||n)&&"border-box"===M.css(t,"boxSizing",!1,r),o=i,a=tG(t,e,r),u="offset"+e[0].toUpperCase()+e.slice(1);if(tR.test(a)){if(!n)return a;a="auto"}return(!p.boxSizingReliable()&&i||!p.reliableTrDimensions()&&_(t,"tr")||"auto"===a||!parseFloat(a)&&"inline"===M.css(t,"display",!1,r))&&t.getClientRects().length&&(i="border-box"===M.css(t,"boxSizing",!1,r),(o=u in t)&&(a=t[u])),(a=parseFloat(a)||0)+t3(t,e,n||(i?"border":"content"),o,r,a)+"px"}function t5(t,e,n,r,i){return new t5.prototype.init(t,e,n,r,i)}M.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=tG(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,u=te(e),s=tB.test(e),l=t.style;if(s||(e=tJ(u)),a=M.cssHooks[e]||M.cssHooks[u],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e];"string"==(o=typeof n)&&(i=tc.exec(n))&&i[1]&&(n=tv(t,e,i),o="number"),null!=n&&n==n&&("number"!==o||s||(n+=i&&i[3]||(M.cssNumber[u]?"":"px")),p.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(s?l.setProperty(e,n):l[e]=n))}},css:function(t,e,n,r){var i,o,a,u=te(e);return(tB.test(e)||(e=tJ(u)),(a=M.cssHooks[e]||M.cssHooks[u])&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=tG(t,e,r)),"normal"===i&&e in t0&&(i=t0[e]),""===n||n)?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),M.each(["height","width"],function(t,e){M.cssHooks[e]={get:function(t,n,r){if(n)return!tQ.test(M.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?t2(t,e,r):tV(t,tK,function(){return t2(t,e,r)})},set:function(t,n,r){var i,o=tq(t),a=!p.scrollboxSize()&&"absolute"===o.position,u=(a||r)&&"border-box"===M.css(t,"boxSizing",!1,o),s=r?t3(t,e,r,u,o):0;return u&&a&&(s-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-t3(t,e,"border",!1,o)-.5)),s&&(i=tc.exec(n))&&"px"!==(i[3]||"px")&&(t.style[e]=n,n=M.css(t,e)),t1(t,n,s)}}}),M.cssHooks.marginLeft=tY(p.reliableMarginLeft,function(t,e){if(e)return(parseFloat(tG(t,"marginLeft"))||t.getBoundingClientRect().left-tV(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),M.each({margin:"",padding:"",border:"Width"},function(t,e){M.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[t+tf[r]+e]=o[r]||o[r-2]||o[0];return i}},"margin"!==t&&(M.cssHooks[t+e].set=t1)}),M.fn.extend({css:function(t,e){return J(this,function(t,e,n){var r,i,o={},a=0;if(Array.isArray(e)){for(r=tq(t),i=e.length;a<i;a++)o[e[a]]=M.css(t,e[a],!1,r);return o}return void 0!==n?M.style(t,e,n):M.css(t,e)},t,e,arguments.length>1)}}),M.Tween=t5,t5.prototype={constructor:t5,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||M.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(M.cssNumber[n]?"":"px")},cur:function(){var t=t5.propHooks[this.prop];return t&&t.get?t.get(this):t5.propHooks._default.get(this)},run:function(t){var e,n=t5.propHooks[this.prop];return this.options.duration?this.pos=e=M.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):t5.propHooks._default.set(this),this}},t5.prototype.init.prototype=t5.prototype,t5.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=M.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){M.fx.step[t.prop]?M.fx.step[t.prop](t):1===t.elem.nodeType&&(M.cssHooks[t.prop]||null!=t.elem.style[tJ(t.prop)])?M.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},t5.propHooks.scrollTop=t5.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},M.easing={linear:function(t){return t},swing:function(t){return .5-Math.cos(t*Math.PI)/2},_default:"swing"},M.fx=t5.prototype.init,M.fx.step={};var t6,t4,t9,t7,t8=/^(?:toggle|show|hide)$/,et=/queueHooks$/;function ee(){return t.setTimeout(function(){t9=void 0}),t9=Date.now()}function en(t,e){var n,r=0,i={height:t};for(e=e?1:0;r<4;r+=2-e)i["margin"+(n=tf[r])]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function er(t,e,n){for(var r,i=(ei.tweeners[e]||[]).concat(ei.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,e,t))return r}function ei(t,e,n){var r,i,o=0,a=ei.prefilters.length,u=M.Deferred().always(function(){delete s.elem}),s=function(){if(i)return!1;for(var e=t9||ee(),n=Math.max(0,l.startTime+l.duration-e),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return(u.notifyWith(t,[l,r,n]),r<1&&a)?n:(a||u.notifyWith(t,[l,1,0]),u.resolveWith(t,[l]),!1)},l=u.promise({elem:t,props:M.extend({},e),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},n),originalProperties:e,originalOptions:n,startTime:t9||ee(),duration:n.duration,tweens:[],createTween:function(e,n){var r=M.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var n=0,r=e?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return e?(u.notifyWith(t,[l,1,0]),u.resolveWith(t,[l,e])):u.rejectWith(t,[l,e]),this}}),c=l.props;for(function(t,e){var n,r,i,o,a;for(n in t)if(i=e[r=te(n)],Array.isArray(o=t[n])&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),(a=M.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete t[r],o)n in t||(t[n]=o[n],e[n]=i);else e[r]=i}(c,l.opts.specialEasing);o<a;o++)if(r=ei.prefilters[o].call(l,t,c,l.opts))return g(r.stop)&&(M._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return M.map(c,er,l),g(l.opts.start)&&l.opts.start.call(t,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),M.fx.timer(M.extend(s,{elem:t,anim:l,queue:l.opts.queue})),l}M.Animation=M.extend(ei,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return tv(n.elem,t,tc.exec(e),n),n}]},tweener:function(t,e){g(t)?(e=t,t=["*"]):t=t.match(q);for(var n,r=0,i=t.length;r<i;r++)n=t[r],ei.tweeners[n]=ei.tweeners[n]||[],ei.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var r,i,o,a,u,s,l,c,f="width"in e||"height"in e,d=this,h={},p=t.style,g=t.nodeType&&tg(t),v=ti.get(t,"fxshow");for(r in n.queue||(null==(a=M._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,d.always(function(){d.always(function(){a.unqueued--,M.queue(t,"fx").length||a.empty.fire()})})),e)if(i=e[r],t8.test(i)){if(delete e[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}h[r]=v&&v[r]||M.style(t,r)}if(!(!(s=!M.isEmptyObject(e))&&M.isEmptyObject(h)))for(r in f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=v&&v.display)&&(l=ti.get(t,"display")),"none"===(c=M.css(t,"display"))&&(l?c=l:(ty([t],!0),l=t.style.display||l,c=M.css(t,"display"),ty([t]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===M.css(t,"float")&&(s||(d.done(function(){p.display=l}),null!=l||(l="none"===(c=p.display)?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),s=!1,h)s||(v?"hidden"in v&&(g=v.hidden):v=ti.access(t,"fxshow",{display:l}),o&&(v.hidden=!g),g&&ty([t],!0),d.done(function(){for(r in g||ty([t]),ti.remove(t,"fxshow"),h)M.style(t,r,h[r])})),s=er(g?v[r]:0,r,d),r in v||(v[r]=s.start,g&&(s.end=s.start,s.start=0))}],prefilter:function(t,e){e?ei.prefilters.unshift(t):ei.prefilters.push(t)}}),M.speed=function(t,e,n){var r=t&&"object"==typeof t?M.extend({},t):{complete:n||!n&&e||g(t)&&t,duration:t,easing:n&&e||e&&!g(e)&&e};return M.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in M.fx.speeds?r.duration=M.fx.speeds[r.duration]:r.duration=M.fx.speeds._default),(null==r.queue||!0===r.queue)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){g(r.old)&&r.old.call(this),r.queue&&M.dequeue(this,r.queue)},r},M.fn.extend({fadeTo:function(t,e,n,r){return this.filter(tg).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=M.isEmptyObject(t),o=M.speed(e,n,r),a=function(){var e=ei(this,M.extend({},t),o);(i||ti.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=M.timers,a=ti.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&et.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem===this&&(null==t||o[i].queue===t)&&(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&M.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,n=ti.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=M.timers,a=r?r.length:0;for(n.finish=!0,M.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<a;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),M.each(["toggle","show","hide"],function(t,e){var n=M.fn[e];M.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(en(e,!0),t,r,i)}}),M.each({slideDown:en("show"),slideUp:en("hide"),slideToggle:en("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){M.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),M.timers=[],M.fx.tick=function(){var t,e=0,n=M.timers;for(t9=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||M.fx.stop(),t9=void 0},M.fx.timer=function(t){M.timers.push(t),M.fx.start()},M.fx.interval=13,M.fx.start=function(){t7||(t7=!0,function e(){t7&&(!1===m.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(e):t.setTimeout(e,M.fx.interval),M.fx.tick())}())},M.fx.stop=function(){t7=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(e,n){return e=M.fx&&M.fx.speeds[e]||e,n=n||"fx",this.queue(n,function(n,r){var i=t.setTimeout(n,e);r.stop=function(){t.clearTimeout(i)}})},eo=m.createElement("input"),ea=m.createElement("select").appendChild(m.createElement("option")),eo.type="checkbox",p.checkOn=""!==eo.value,p.optSelected=ea.selected,(eo=m.createElement("input")).value="t",eo.type="radio",p.radioValue="t"===eo.value;var eo,ea,eu,es=M.expr.attrHandle;M.fn.extend({attr:function(t,e){return J(this,M.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){M.removeAttr(this,t)})}}),M.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o){if(void 0===t.getAttribute)return M.prop(t,e,n);if(1===o&&M.isXMLDoc(t)||(i=M.attrHooks[e.toLowerCase()]||(M.expr.match.bool.test(e)?eu:void 0)),void 0!==n){if(null===n){M.removeAttr(t,e);return}return i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n)}return i&&"get"in i&&null!==(r=i.get(t,e))?r:null==(r=M.find.attr(t,e))?void 0:r}},attrHooks:{type:{set:function(t,e){if(!p.radioValue&&"radio"===e&&_(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,r=0,i=e&&e.match(q);if(i&&1===t.nodeType)for(;n=i[r++];)t.removeAttribute(n)}}),eu={set:function(t,e,n){return!1===e?M.removeAttr(t,n):t.setAttribute(n,n),n}},M.each(M.expr.match.bool.source.match(/\w+/g),function(t,e){var n=es[e]||M.find.attr;es[e]=function(t,e,r){var i,o,a=e.toLowerCase();return r||(o=es[a],es[a]=i,i=null!=n(t,e,r)?a:null,es[a]=o),i}});var el=/^(?:input|select|textarea|button)$/i,ec=/^(?:a|area)$/i;function ef(t){return(t.match(q)||[]).join(" ")}function ed(t){return t.getAttribute&&t.getAttribute("class")||""}function eh(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(q)||[]}M.fn.extend({prop:function(t,e){return J(this,M.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[M.propFix[t]||t]})}}),M.extend({prop:function(t,e,n){var r,i,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return(1===o&&M.isXMLDoc(t)||(e=M.propFix[e]||e,i=M.propHooks[e]),void 0!==n)?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){var e=M.find.attr(t,"tabindex");return e?parseInt(e,10):el.test(t.nodeName)||ec.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),p.optSelected||(M.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this}),M.fn.extend({addClass:function(t){var e,n,r,i,o,a;return g(t)?this.each(function(e){M(this).addClass(t.call(this,e,ed(this)))}):(e=eh(t)).length?this.each(function(){if(r=ed(this),n=1===this.nodeType&&" "+ef(r)+" "){for(o=0;o<e.length;o++)i=e[o],0>n.indexOf(" "+i+" ")&&(n+=i+" ");r!==(a=ef(n))&&this.setAttribute("class",a)}}):this},removeClass:function(t){var e,n,r,i,o,a;return g(t)?this.each(function(e){M(this).removeClass(t.call(this,e,ed(this)))}):arguments.length?(e=eh(t)).length?this.each(function(){if(r=ed(this),n=1===this.nodeType&&" "+ef(r)+" "){for(o=0;o<e.length;o++)for(i=e[o];n.indexOf(" "+i+" ")>-1;)n=n.replace(" "+i+" "," ");r!==(a=ef(n))&&this.setAttribute("class",a)}}):this:this.attr("class","")},toggleClass:function(t,e){var n,r,i,o,a=typeof t,u="string"===a||Array.isArray(t);return g(t)?this.each(function(n){M(this).toggleClass(t.call(this,n,ed(this),e),e)}):"boolean"==typeof e&&u?e?this.addClass(t):this.removeClass(t):(n=eh(t),this.each(function(){if(u)for(i=0,o=M(this);i<n.length;i++)r=n[i],o.hasClass(r)?o.removeClass(r):o.addClass(r);else(void 0===t||"boolean"===a)&&((r=ed(this))&&ti.set(this,"__className__",r),this.setAttribute&&this.setAttribute("class",r||!1===t?"":ti.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,r=0;for(e=" "+t+" ";n=this[r++];)if(1===n.nodeType&&(" "+ef(ed(n))+" ").indexOf(e)>-1)return!0;return!1}});var ep=/\r/g;M.fn.extend({val:function(t){var e,n,r,i=this[0];return arguments.length?(r=g(t),this.each(function(n){var i;1!==this.nodeType||(null==(i=r?t.call(this,n,M(this).val()):t)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=M.map(i,function(t){return null==t?"":t+""})),(e=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))})):i?(e=M.valHooks[i.type]||M.valHooks[i.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(ep,""):null==n?"":n:void 0}}),M.extend({valHooks:{option:{get:function(t){var e=M.find.attr(t,"value");return null!=e?e:ef(M.text(t))}},select:{get:function(t){var e,n,r,i=t.options,o=t.selectedIndex,a="select-one"===t.type,u=a?null:[],s=a?o+1:i.length;for(r=o<0?s:a?o:0;r<s;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!_(n.parentNode,"optgroup"))){if(e=M(n).val(),a)return e;u.push(e)}return u},set:function(t,e){for(var n,r,i=t.options,o=M.makeArray(e),a=i.length;a--;)((r=i[a]).selected=M.inArray(M.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=M.inArray(M(t).val(),e)>-1}},p.checkOn||(M.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var eg=t.location,ev={guid:Date.now()},em=/\?/;M.parseXML=function(e){var n,r;if(!e||"string"!=typeof e)return null;try{n=new t.DOMParser().parseFromString(e,"text/xml")}catch(t){}return r=n&&n.getElementsByTagName("parsererror")[0],(!n||r)&&M.error("Invalid XML: "+(r?M.map(r.childNodes,function(t){return t.textContent}).join("\n"):e)),n};var ey=/^(?:focusinfocus|focusoutblur)$/,ex=function(t){t.stopPropagation()};M.extend(M.event,{trigger:function(e,n,r,i){var o,a,u,s,l,c,d,h,p=[r||m],y=f.call(e,"type")?e.type:e,x=f.call(e,"namespace")?e.namespace.split("."):[];if(a=h=u=r=r||m,!(3===r.nodeType||8===r.nodeType||ey.test(y+M.event.triggered))&&(y.indexOf(".")>-1&&(y=(x=y.split(".")).shift(),x.sort()),l=0>y.indexOf(":")&&"on"+y,(e=e[M.expando]?e:new M.Event(y,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=x.join("."),e.rnamespace=e.namespace?RegExp("(^|\\.)"+x.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),n=null==n?[e]:M.makeArray(n,[e]),d=M.event.special[y]||{},i||!d.trigger||!1!==d.trigger.apply(r,n))){if(!i&&!d.noBubble&&!v(r)){for(s=d.delegateType||y,ey.test(s+y)||(a=a.parentNode);a;a=a.parentNode)p.push(a),u=a;u===(r.ownerDocument||m)&&p.push(u.defaultView||u.parentWindow||t)}for(o=0;(a=p[o++])&&!e.isPropagationStopped();)h=a,e.type=o>1?s:d.bindType||y,(c=(ti.get(a,"events")||Object.create(null))[e.type]&&ti.get(a,"handle"))&&c.apply(a,n),(c=l&&a[l])&&c.apply&&tn(a)&&(e.result=c.apply(a,n),!1===e.result&&e.preventDefault());return e.type=y,!i&&!e.isDefaultPrevented()&&(!d._default||!1===d._default.apply(p.pop(),n))&&tn(r)&&l&&g(r[y])&&!v(r)&&((u=r[l])&&(r[l]=null),M.event.triggered=y,e.isPropagationStopped()&&h.addEventListener(y,ex),r[y](),e.isPropagationStopped()&&h.removeEventListener(y,ex),M.event.triggered=void 0,u&&(r[l]=u)),e.result}},simulate:function(t,e,n){var r=M.extend(new M.Event,n,{type:t,isSimulated:!0});M.event.trigger(r,null,e)}}),M.fn.extend({trigger:function(t,e){return this.each(function(){M.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return M.event.trigger(t,e,n,!0)}});var eb=/\[\]$/,ek=/\r?\n/g,ew=/^(?:submit|button|image|reset|file)$/i,eM=/^(?:input|select|textarea|keygen)/i;M.param=function(t,e){var n,r=[],i=function(t,e){var n=g(e)?e():e;r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(null==t)return"";if(Array.isArray(t)||t.jquery&&!M.isPlainObject(t))M.each(t,function(){i(this.name,this.value)});else for(n in t)!function t(e,n,r,i){var o;if(Array.isArray(n))M.each(n,function(n,o){r||eb.test(e)?i(e,o):t(e+"["+("object"==typeof o&&null!=o?n:"")+"]",o,r,i)});else if(r||"object"!==b(n))i(e,n);else for(o in n)t(e+"["+o+"]",n[o],r,i)}(n,t[n],e,i);return r.join("&")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=M.prop(this,"elements");return t?M.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!M(this).is(":disabled")&&eM.test(this.nodeName)&&!ew.test(t)&&(this.checked||!tx.test(t))}).map(function(t,e){var n=M(this).val();return null==n?null:Array.isArray(n)?M.map(n,function(t){return{name:e.name,value:t.replace(ek,"\r\n")}}):{name:e.name,value:n.replace(ek,"\r\n")}}).get()}});var eA=/%20/g,e_=/#.*$/,eE=/([?&])_=[^&]*/,eS=/^(.*?):[ \t]*([^\r\n]*)$/mg,eC=/^(?:GET|HEAD)$/,eN=/^\/\//,eT={},eD={},ej="*/".concat("*"),eF=m.createElement("a");function eO(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(q)||[];if(g(n))for(;r=o[i++];)"+"===r[0]?(t[r=r.slice(1)||"*"]=t[r]||[]).unshift(n):(t[r]=t[r]||[]).push(n)}}function eL(t,e,n,r){var i={},o=t===eD;function a(u){var s;return i[u]=!0,M.each(t[u]||[],function(t,u){var l=u(e,n,r);return"string"!=typeof l||o||i[l]?o?!(s=l):void 0:(e.dataTypes.unshift(l),a(l),!1)}),s}return a(e.dataTypes[0])||!i["*"]&&a("*")}function eP(t,e){var n,r,i=M.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&M.extend(!0,t,r),t}eF.href=eg.href,M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:eg.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(eg.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ej,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?eP(eP(t,M.ajaxSettings),e):eP(M.ajaxSettings,t)},ajaxPrefilter:eO(eT),ajaxTransport:eO(eD),ajax:function(e,n){"object"==typeof e&&(n=e,e=void 0),n=n||{};var r,i,o,a,u,s,l,c,f,d,h=M.ajaxSetup({},n),p=h.context||h,g=h.context&&(p.nodeType||p.jquery)?M(p):M.event,v=M.Deferred(),y=M.Callbacks("once memory"),x=h.statusCode||{},b={},k={},w="canceled",A={readyState:0,getResponseHeader:function(t){var e;if(l){if(!a)for(a={};e=eS.exec(o);)a[e[1].toLowerCase()+" "]=(a[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=a[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(t,e){return null==l&&(b[t=k[t.toLowerCase()]=k[t.toLowerCase()]||t]=e),this},overrideMimeType:function(t){return null==l&&(h.mimeType=t),this},statusCode:function(t){var e;if(t){if(l)A.always(t[A.status]);else for(e in t)x[e]=[x[e],t[e]]}return this},abort:function(t){var e=t||w;return r&&r.abort(e),_(0,e),this}};if(v.promise(A),h.url=((e||h.url||eg.href)+"").replace(eN,eg.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(q)||[""],null==h.crossDomain){s=m.createElement("a");try{s.href=h.url,s.href=s.href,h.crossDomain=eF.protocol+"//"+eF.host!=s.protocol+"//"+s.host}catch(t){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=M.param(h.data,h.traditional)),eL(eT,h,n,A),l)return A;for(f in(c=M.event&&h.global)&&0==M.active++&&M.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!eC.test(h.type),i=h.url.replace(e_,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(eA,"+")):(d=h.url.slice(i.length),h.data&&(h.processData||"string"==typeof h.data)&&(i+=(em.test(i)?"&":"?")+h.data,delete h.data),!1===h.cache&&(i=i.replace(eE,"$1"),d=(em.test(i)?"&":"?")+"_="+ev.guid+++d),h.url=i+d),h.ifModified&&(M.lastModified[i]&&A.setRequestHeader("If-Modified-Since",M.lastModified[i]),M.etag[i]&&A.setRequestHeader("If-None-Match",M.etag[i])),(h.data&&h.hasContent&&!1!==h.contentType||n.contentType)&&A.setRequestHeader("Content-Type",h.contentType),A.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+ej+"; q=0.01":""):h.accepts["*"]),h.headers)A.setRequestHeader(f,h.headers[f]);if(h.beforeSend&&(!1===h.beforeSend.call(p,A,h)||l))return A.abort();if(w="abort",y.add(h.complete),A.done(h.success),A.fail(h.error),r=eL(eD,h,n,A)){if(A.readyState=1,c&&g.trigger("ajaxSend",[A,h]),l)return A;h.async&&h.timeout>0&&(u=t.setTimeout(function(){A.abort("timeout")},h.timeout));try{l=!1,r.send(b,_)}catch(t){if(l)throw t;_(-1,t)}}else _(-1,"No Transport");function _(e,n,a,s){var f,d,m,b,k,w=n;l||(l=!0,u&&t.clearTimeout(u),r=void 0,o=s||"",A.readyState=e>0?4:0,f=e>=200&&e<300||304===e,a&&(b=function(t,e,n){for(var r,i,o,a,u=t.contents,s=t.dataTypes;"*"===s[0];)s.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r){for(i in u)if(u[i]&&u[i].test(r)){s.unshift(i);break}}if(s[0]in n)o=s[0];else{for(i in n){if(!s[0]||t.converters[i+" "+s[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==s[0]&&s.unshift(o),n[o]}(h,A,a)),!f&&M.inArray("script",h.dataTypes)>-1&&0>M.inArray("json",h.dataTypes)&&(h.converters["text script"]=function(){}),b=function(t,e,n,r){var i,o,a,u,s,l={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)l[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!s&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),s=o,o=c.shift()){if("*"===o)o=s;else if("*"!==s&&s!==o){if(!(a=l[s+" "+o]||l["* "+o])){for(i in l)if((u=i.split(" "))[1]===o&&(a=l[s+" "+u[0]]||l["* "+u[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=u[0],c.unshift(u[1]));break}}if(!0!==a){if(a&&t.throws)e=a(e);else try{e=a(e)}catch(t){return{state:"parsererror",error:a?t:"No conversion from "+s+" to "+o}}}}}return{state:"success",data:e}}(h,b,A,f),f?(h.ifModified&&((k=A.getResponseHeader("Last-Modified"))&&(M.lastModified[i]=k),(k=A.getResponseHeader("etag"))&&(M.etag[i]=k)),204===e||"HEAD"===h.type?w="nocontent":304===e?w="notmodified":(w=b.state,d=b.data,f=!(m=b.error))):(m=w,(e||!w)&&(w="error",e<0&&(e=0))),A.status=e,A.statusText=(n||w)+"",f?v.resolveWith(p,[d,w,A]):v.rejectWith(p,[A,w,m]),A.statusCode(x),x=void 0,c&&g.trigger(f?"ajaxSuccess":"ajaxError",[A,h,f?d:m]),y.fireWith(p,[A,w]),!c||(g.trigger("ajaxComplete",[A,h]),--M.active||M.event.trigger("ajaxStop")))}return A},getJSON:function(t,e,n){return M.get(t,e,n,"json")},getScript:function(t,e){return M.get(t,void 0,e,"script")}}),M.each(["get","post"],function(t,e){M[e]=function(t,n,r,i){return g(n)&&(i=i||r,r=n,n=void 0),M.ajax(M.extend({url:t,type:e,dataType:i,data:n,success:r},M.isPlainObject(t)&&t))}}),M.ajaxPrefilter(function(t){var e;for(e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),M._evalUrl=function(t,e,n){return M.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){M.globalEval(t,e,n)}})},M.fn.extend({wrapAll:function(t){var e;return this[0]&&(g(t)&&(t=t.call(this[0])),e=M(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return g(t)?this.each(function(e){M(this).wrapInner(t.call(this,e))}):this.each(function(){var e=M(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=g(t);return this.each(function(n){M(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){M(this).replaceWith(this.childNodes)}),this}}),M.expr.pseudos.hidden=function(t){return!M.expr.pseudos.visible(t)},M.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},M.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var eW={0:200,1223:204},eI=M.ajaxSettings.xhr();p.cors=!!eI&&"withCredentials"in eI,p.ajax=eI=!!eI,M.ajaxTransport(function(e){var n,r;if(p.cors||eI&&!e.crossDomain)return{send:function(i,o){var a,u=e.xhr();if(u.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(a in e.xhrFields)u[a]=e.xhrFields[a];for(a in e.mimeType&&u.overrideMimeType&&u.overrideMimeType(e.mimeType),e.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)u.setRequestHeader(a,i[a]);n=function(t){return function(){n&&(n=r=u.onload=u.onerror=u.onabort=u.ontimeout=u.onreadystatechange=null,"abort"===t?u.abort():"error"===t?"number"!=typeof u.status?o(0,"error"):o(u.status,u.statusText):o(eW[u.status]||u.status,u.statusText,"text"!==(u.responseType||"text")||"string"!=typeof u.responseText?{binary:u.response}:{text:u.responseText},u.getAllResponseHeaders()))}},u.onload=n(),r=u.onerror=u.ontimeout=n("error"),void 0!==u.onabort?u.onabort=r:u.onreadystatechange=function(){4===u.readyState&&t.setTimeout(function(){n&&r()})},n=n("abort");try{u.send(e.hasContent&&e.data||null)}catch(t){if(n)throw t}},abort:function(){n&&n()}}}),M.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return M.globalEval(t),t}}}),M.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),M.ajaxTransport("script",function(t){if(t.crossDomain||t.scriptAttrs){var e,n;return{send:function(r,i){e=M("<script>").attr(t.scriptAttrs||{}).prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),m.head.appendChild(e[0])},abort:function(){n&&n()}}}});var ez=[],eH=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ez.pop()||M.expando+"_"+ev.guid++;return this[t]=!0,t}}),M.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,u=!1!==e.jsonp&&(eH.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&eH.test(e.data)&&"data");if(u||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=g(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,u?e[u]=e[u].replace(eH,"$1"+i):!1!==e.jsonp&&(e.url+=(em.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||M.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){void 0===o?M(t).removeProp(i):t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,ez.push(i)),a&&g(o)&&o(a[0]),a=o=void 0}),"script"}),p.createHTMLDocument=((n=m.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===n.childNodes.length),M.parseHTML=function(t,e,n){var r,i,o;return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(p.createHTMLDocument?((r=(e=m.implementation.createHTMLDocument("")).createElement("base")).href=m.location.href,e.head.appendChild(r)):e=m),i=P.exec(t),o=!n&&[],i)?[e.createElement(i[1])]:(i=tE([t],e,o),o&&o.length&&M(o).remove(),M.merge([],i.childNodes))},M.fn.load=function(t,e,n){var r,i,o,a=this,u=t.indexOf(" ");return u>-1&&(r=ef(t.slice(u)),t=t.slice(0,u)),g(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&M.ajax({url:t,type:i||"GET",dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?M("<div>").append(M.parseHTML(t)).find(r):t)}).always(n&&function(t,e){a.each(function(){n.apply(this,o||[t.responseText,e,t])})}),this},M.expr.pseudos.animated=function(t){return M.grep(M.timers,function(e){return t===e.elem}).length},M.offset={setOffset:function(t,e,n){var r,i,o,a,u,s,l=M.css(t,"position"),c=M(t),f={};"static"===l&&(t.style.position="relative"),u=c.offset(),o=M.css(t,"top"),s=M.css(t,"left"),("absolute"===l||"fixed"===l)&&(o+s).indexOf("auto")>-1?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(s)||0),g(e)&&(e=e.call(t,n,M.extend({},u))),null!=e.top&&(f.top=e.top-u.top+a),null!=e.left&&(f.left=e.left-u.left+i),"using"in e?e.using.call(t,f):c.css(f)}},M.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){M.offset.setOffset(this,t,e)});var e,n,r=this[0];if(r)return r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var t,e,n,r=this[0],i={top:0,left:0};if("fixed"===M.css(r,"position"))e=r.getBoundingClientRect();else{for(e=this.offset(),n=r.ownerDocument,t=r.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===M.css(t,"position");)t=t.parentNode;t&&t!==r&&1===t.nodeType&&(i=M(t).offset(),i.top+=M.css(t,"borderTopWidth",!0),i.left+=M.css(t,"borderLeftWidth",!0))}return{top:e.top-i.top-M.css(r,"marginTop",!0),left:e.left-i.left-M.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===M.css(t,"position");)t=t.offsetParent;return t||td})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n="pageYOffset"===e;M.fn[t]=function(r){return J(this,function(t,r,i){var o;if(v(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===i)return o?o[e]:t[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):t[r]=i},t,r,arguments.length)}}),M.each(["top","left"],function(t,e){M.cssHooks[e]=tY(p.pixelPosition,function(t,n){if(n)return n=tG(t,e),tR.test(n)?M(t).position()[e]+"px":n})}),M.each({Height:"height",Width:"width"},function(t,e){M.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){M.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),u=n||(!0===i||!0===o?"margin":"border");return J(this,function(e,n,i){var o;return v(e)?0===r.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===i?M.css(e,n,u):M.style(e,n,i,u)},e,a?i:void 0,a)}})}),M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){M.fn[e]=function(t){return this.on(e,t)}}),M.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1==arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.on("mouseenter",t).on("mouseleave",e||t)}}),M.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){M.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}});var eR=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;M.proxy=function(t,e){var n,r,i;if("string"==typeof e&&(n=t[e],e=t,t=n),g(t))return r=o.call(arguments,2),(i=function(){return t.apply(e||this,r.concat(o.call(arguments)))}).guid=t.guid=t.guid||M.guid++,i},M.holdReady=function(t){t?M.readyWait++:M.ready(!0)},M.isArray=Array.isArray,M.parseJSON=JSON.parse,M.nodeName=_,M.isFunction=g,M.isWindow=v,M.camelCase=te,M.type=b,M.now=Date.now,M.isNumeric=function(t){var e=M.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},M.trim=function(t){return null==t?"":(t+"").replace(eR,"$1")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return M});var eB=t.jQuery,eq=t.$;return M.noConflict=function(e){return t.$===M&&(t.$=eq),e&&t.jQuery===M&&(t.jQuery=eB),M},void 0===e&&(t.jQuery=t.$=M),M},"object"==typeof t.exports?t.exports=n.document?r(n,!0):function(t){if(!t.document)throw Error("jQuery requires a window with a document");return r(t)}:r(n)});var s=a("lOpWt"),l={};!function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof r&&r.global===r&&r;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(n,r,i){e.Backbone=t(e,i,n,r)});else{var n,i=a("ixUnv");try{n=a("iUSsr")}catch(t){}t(e,l,i,n)}}(function(t,e,n,r){var i,o=t.Backbone,a=Array.prototype.slice;e.VERSION="1.6.0",e.$=r,e.noConflict=function(){return t.Backbone=o,this},e.emulateHTTP=!1,e.emulateJSON=!1;var u=e.Events={},s=/\s+/,l=function(t,e,r,i,o){var a,u=0;if(r&&"object"==typeof r)for(void 0!==i&&("context"in o)&&void 0===o.context&&(o.context=i),a=n.keys(r);u<a.length;u++)e=l(t,e,a[u],r[a[u]],o);else if(r&&s.test(r))for(a=r.split(s);u<a.length;u++)e=t(e,a[u],i,o);else e=t(e,r,i,o);return e};u.on=function(t,e,n){return this._events=l(c,this._events||{},t,e,{context:n,ctx:this,listening:i}),i&&((this._listeners||(this._listeners={}))[i.id]=i,i.interop=!1),this},u.listenTo=function(t,e,r){if(!t)return this;var o=t._listenId||(t._listenId=n.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),u=i=a[o];u||(this._listenId||(this._listenId=n.uniqueId("l")),u=i=a[o]=new v(this,t));var s=f(t,e,r,this);if(i=void 0,s)throw s;return u.interop&&u.on(e,r),this};var c=function(t,e,n,r){if(n){var i=t[e]||(t[e]=[]),o=r.context,a=r.ctx,u=r.listening;u&&u.count++,i.push({callback:n,context:o,ctx:o||a,listening:u})}return t},f=function(t,e,n,r){try{t.on(e,n,r)}catch(t){return t}};u.off=function(t,e,n){return this._events&&(this._events=l(d,this._events,t,e,{context:n,listeners:this._listeners})),this},u.stopListening=function(t,e,r){var i=this._listeningTo;if(!i)return this;for(var o=t?[t._listenId]:n.keys(i),a=0;a<o.length;a++){var u=i[o[a]];if(!u)break;u.obj.off(e,r,this),u.interop&&u.off(e,r)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var d=function(t,e,r,i){if(t){var o,a=i.context,u=i.listeners,s=0;if(!e&&!a&&!r){for(o=n.keys(u);s<o.length;s++)u[o[s]].cleanup();return}for(o=e?[e]:n.keys(t);s<o.length;s++){var l=t[e=o[s]];if(!l)break;for(var c=[],f=0;f<l.length;f++){var d=l[f];if(r&&r!==d.callback&&r!==d.callback._callback||a&&a!==d.context)c.push(d);else{var h=d.listening;h&&h.off(e,r)}}c.length?t[e]=c:delete t[e]}return t}};u.once=function(t,e,n){var r=l(h,{},t,e,this.off.bind(this));return"string"==typeof t&&null==n&&(e=void 0),this.on(r,e,n)},u.listenToOnce=function(t,e,n){var r=l(h,{},e,n,this.stopListening.bind(this,t));return this.listenTo(t,r)};var h=function(t,e,r,i){if(r){var o=t[e]=n.once(function(){i(e,o),r.apply(this,arguments)});o._callback=r}return t};u.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),n=Array(e),r=0;r<e;r++)n[r]=arguments[r+1];return l(p,this._events,t,void 0,n),this};var p=function(t,e,n,r){if(t){var i=t[e],o=t.all;i&&o&&(o=o.slice()),i&&g(i,r),o&&g(o,[e].concat(r))}return t},g=function(t,e){var n,r=-1,i=t.length,o=e[0],a=e[1],u=e[2];switch(e.length){case 0:for(;++r<i;)(n=t[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=t[r]).callback.call(n.ctx,o,a,u);return;default:for(;++r<i;)(n=t[r]).callback.apply(n.ctx,e);return}},v=function(t,e){this.id=t._listenId,this.listener=t,this.obj=e,this.interop=!0,this.count=0,this._events=void 0};v.prototype.on=u.on,v.prototype.off=function(t,e){var n;this.interop?(this._events=l(d,this._events,t,e,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},v.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},u.bind=u.on,u.unbind=u.off,n.extend(e,u);var m=e.Model=function(t,e){var r=t||{};e||(e={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(r=this.parse(r,e)||{});var i=n.result(this,"defaults");r=n.defaults(n.extend({},i,r),i),this.set(r,e),this.changed={},this.initialize.apply(this,arguments)};n.extend(m.prototype,u,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(t){return n.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return n.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!n.iteratee(t,this)(this.attributes)},set:function(t,e,r){if(null==t)return this;if("object"==typeof t?(i=t,r=e):(i={})[t]=e,r||(r={}),!this._validate(i,r))return!1;var i,o=r.unset,a=r.silent,u=[],s=this._changing;this._changing=!0,s||(this._previousAttributes=n.clone(this.attributes),this.changed={});var l=this.attributes,c=this.changed,f=this._previousAttributes;for(var d in i)e=i[d],n.isEqual(l[d],e)||u.push(d),n.isEqual(f[d],e)?delete c[d]:c[d]=e,o?delete l[d]:l[d]=e;if(this.idAttribute in i){var h=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,h,r)}if(!a){u.length&&(this._pending=r);for(var p=0;p<u.length;p++)this.trigger("change:"+u[p],this,l[u[p]],r)}if(s)return this;if(!a)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,n.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var r in this.attributes)e[r]=void 0;return this.set(e,n.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!n.isEmpty(this.changed):n.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&n.clone(this.changed);var e,r=this._changing?this._previousAttributes:this.attributes,i={};for(var o in t){var a=t[o];n.isEqual(r[o],a)||(i[o]=a,e=!0)}return!!e&&i},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(t){t=n.extend({parse:!0},t);var e=this,r=t.success;return t.success=function(n){var i=t.parse?e.parse(n,t):n;if(!e.set(i,t))return!1;r&&r.call(t.context,e,n,t),e.trigger("sync",e,n,t)},U(this,t),this.sync("read",this,t)},save:function(t,e,r){null==t||"object"==typeof t?(i=t,r=e):(i={})[t]=e;var i,o=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!o){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var a=this,u=r.success,s=this.attributes;r.success=function(t){a.attributes=s;var e=r.parse?a.parse(t,r):t;if(o&&(e=n.extend({},i,e)),e&&!a.set(e,r))return!1;u&&u.call(r.context,a,t,r),a.trigger("sync",a,t,r)},U(this,r),i&&o&&(this.attributes=n.extend({},s,i));var l=this.isNew()?"create":r.patch?"patch":"update";"patch"!==l||r.attrs||(r.attrs=i);var c=this.sync(l,this,r);return this.attributes=s,c},destroy:function(t){t=t?n.clone(t):{};var e=this,r=t.success,i=t.wait,o=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(n){i&&o(),r&&r.call(t.context,e,n,t),e.isNew()||e.trigger("sync",e,n,t)};var a=!1;return this.isNew()?n.defer(t.success):(U(this,t),a=this.sync("delete",this,t)),i||o(),a},url:function(){var t=n.result(this,"urlRoot")||n.result(this.collection,"url")||V();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},n.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=n.extend({},this.attributes,t);var r=this.validationError=this.validate(t,e)||null;return!r||(this.trigger("invalid",this,r,n.extend(e,{validationError:r})),!1)}});var y=e.Collection=function(t,e){e||(e={}),this.preinitialize.apply(this,arguments),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,n.extend({silent:!0},e))},x={add:!0,remove:!0,merge:!0},b={add:!0,remove:!1},k=function(t,e,n){n=Math.min(Math.max(n,0),t.length);var r,i=Array(t.length-n),o=e.length;for(r=0;r<i.length;r++)i[r]=t[r+n];for(r=0;r<o;r++)t[r+n]=e[r];for(r=0;r<i.length;r++)t[r+o+n]=i[r]};n.extend(y.prototype,u,{model:m,preinitialize:function(){},initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,n.extend({merge:!1},e,b))},remove:function(t,e){e=n.extend({},e);var r=!n.isArray(t);t=r?[t]:t.slice();var i=this._removeModels(t,e);return!e.silent&&i.length&&(e.changes={added:[],merged:[],removed:i},this.trigger("update",this,e)),r?i[0]:i},set:function(t,e){if(null!=t){(e=n.extend({},x,e)).parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var r,i,o=!n.isArray(t);t=o?[t]:t.slice();var a=e.at;null!=a&&(a=+a),a>this.length&&(a=this.length),a<0&&(a+=this.length+1);var u=[],s=[],l=[],c=[],f={},d=e.add,h=e.merge,p=e.remove,g=!1,v=this.comparator&&null==a&&!1!==e.sort,m=n.isString(this.comparator)?this.comparator:null;for(i=0;i<t.length;i++){r=t[i];var y=this.get(r);if(y){if(h&&r!==y){var b=this._isModel(r)?r.attributes:r;e.parse&&(b=y.parse(b,e)),y.set(b,e),l.push(y),v&&!g&&(g=y.hasChanged(m))}f[y.cid]||(f[y.cid]=!0,u.push(y)),t[i]=y}else d&&(r=t[i]=this._prepareModel(r,e))&&(s.push(r),this._addReference(r,e),f[r.cid]=!0,u.push(r))}if(p){for(i=0;i<this.length;i++)f[(r=this.models[i]).cid]||c.push(r);c.length&&this._removeModels(c,e)}var w=!1;if(u.length&&!v&&d&&p?(w=this.length!==u.length||n.some(this.models,function(t,e){return t!==u[e]}),this.models.length=0,k(this.models,u,0),this.length=this.models.length):s.length&&(v&&(g=!0),k(this.models,s,null==a?this.length:a),this.length=this.models.length),g&&this.sort({silent:!0}),!e.silent){for(i=0;i<s.length;i++)null!=a&&(e.index=a+i),(r=s[i]).trigger("add",r,this,e);(g||w)&&this.trigger("sort",this,e),(s.length||c.length||l.length)&&(e.changes={added:s,removed:c,merged:l},this.trigger("update",this,e))}return o?t[0]:t}},reset:function(t,e){e=e?n.clone(e):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],e);return e.previousModels=this.models,this._reset(),t=this.add(t,n.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,n.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,n.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return a.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(this._isModel(t)?t.attributes:t,t.idAttribute)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw Error("Cannot sort a set without a comparator");t||(t={});var r=e.length;return n.isFunction(e)&&(e=e.bind(this)),1===r||n.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){var e=(t=n.extend({parse:!0},t)).success,r=this;return t.success=function(n){r[t.reset?"reset":"set"](n,t),e&&e.call(t.context,r,n,t),r.trigger("sync",r,n,t)},U(this,t),this.sync("read",this,t)},create:function(t,e){var r=(e=e?n.clone(e):{}).wait;if(!(t=this._prepareModel(t,e)))return!1;r||this.add(t,e);var i=this,o=e.success;return e.success=function(t,e,n){r&&(t.off("error",i._forwardPristineError,i),i.add(t,n)),o&&o.call(n.context,t,e,n)},r&&t.once("error",this._forwardPristineError,this),t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t,e){return t[e||this.model.prototype.idAttribute||"id"]},values:function(){return new M(this,A)},keys:function(){return new M(this,_)},entries:function(){return new M(this,E)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){var r;return this._isModel(t)?(t.collection||(t.collection=this),t):((e=e?n.clone(e):{}).collection=this,(r=this.model.prototype?new this.model(t,e):this.model(t,e)).validationError)?(this.trigger("invalid",this,r.validationError,e),!1):r},_removeModels:function(t,e){for(var n=[],r=0;r<t.length;r++){var i=this.get(t[r]);if(i){var o=this.indexOf(i);this.models.splice(o,1),this.length--,delete this._byId[i.cid];var a=this.modelId(i.attributes,i.idAttribute);null!=a&&delete this._byId[a],e.silent||(e.index=o,i.trigger("remove",i,this,e)),n.push(i),this._removeReference(i,e)}}return t.length>0&&!e.silent&&delete e.index,n},_isModel:function(t){return t instanceof m},_addReference:function(t,e){this._byId[t.cid]=t;var n=this.modelId(t.attributes,t.idAttribute);null!=n&&(this._byId[n]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var n=this.modelId(t.attributes,t.idAttribute);null!=n&&delete this._byId[n],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,n,r){if(e){if(("add"===t||"remove"===t)&&n!==this)return;if("destroy"===t&&this.remove(e,r),"changeId"===t){var i=this.modelId(e.previousAttributes(),e.idAttribute),o=this.modelId(e.attributes,e.idAttribute);null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=e)}}this.trigger.apply(this,arguments)},_forwardPristineError:function(t,e,n){this.has(t)||this._onModelEvent("error",t,e,n)}});var w="function"==typeof Symbol&&Symbol.iterator;w&&(y.prototype[w]=y.prototype.values);var M=function(t,e){this._collection=t,this._kind=e,this._index=0},A=1,_=2,E=3;w&&(M.prototype[w]=function(){return this}),M.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var t,e=this._collection.at(this._index);if(this._index++,this._kind===A)t=e;else{var n=this._collection.modelId(e.attributes,e.idAttribute);t=this._kind===_?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var S=e.View=function(t){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(t,N)),this._ensureElement(),this.initialize.apply(this,arguments)},C=/^(\S+)\s*(.*)$/,N=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,u,{tagName:"div",$:function(t){return this.$el.find(t)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=n.result(this,"events")),!t)return this;for(var e in this.undelegateEvents(),t){var r=t[e];if(n.isFunction(r)||(r=this[r]),r){var i=e.match(C);this.delegate(i[1],i[2],r.bind(this))}}return this},delegate:function(t,e,n){return this.$el.on(t+".delegateEvents"+this.cid,e,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,n){return this.$el.off(t+".delegateEvents"+this.cid,e,n),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var t=n.extend({},n.result(this,"attributes"));this.id&&(t.id=n.result(this,"id")),this.className&&(t.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}});var T=function(t,e,n,r){switch(e){case 1:return function(){return t[n](this[r])};case 2:return function(e){return t[n](this[r],e)};case 3:return function(e,i){return t[n](this[r],j(e,this),i)};case 4:return function(e,i,o){return t[n](this[r],j(e,this),i,o)};default:return function(){var e=a.call(arguments);return e.unshift(this[r]),t[n].apply(t,e)}}},D=function(t,e,r,i){n.each(r,function(n,r){e[r]&&(t.prototype[r]=T(e,n,r,i))})},j=function(t,e){return n.isFunction(t)?t:n.isObject(t)&&!e._isModel(t)?F(t):n.isString(t)?function(e){return e.get(t)}:t},F=function(t){var e=n.matches(t);return function(t){return e(t.attributes)}};n.each([[y,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[m,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(t){var e=t[0],r=t[1],i=t[2];e.mixin=function(t){var r=n.reduce(n.functions(t),function(t,e){return t[e]=0,t},{});D(e,t,r,i)},D(e,n,r,i)}),e.sync=function(t,r,i){var o=O[t];n.defaults(i||(i={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:o,dataType:"json"};if(i.url||(a.url=n.result(r,"url")||V()),null==i.data&&r&&("create"===t||"update"===t||"patch"===t)&&(a.contentType="application/json",a.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",i.emulateJSON&&(a.data._method=o);var u=i.beforeSend;i.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",o),u)return u.apply(this,arguments)}}"GET"===a.type||i.emulateJSON||(a.processData=!1);var s=i.error;i.error=function(t,e,n){i.textStatus=e,i.errorThrown=n,s&&s.call(i.context,t,e,n)};var l=i.xhr=e.ajax(n.extend(a,i));return r.trigger("request",r,l,i),l};var O={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var L=e.Router=function(t){t||(t={}),this.preinitialize.apply(this,arguments),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},P=/\((.*?)\)/g,W=/(\(\?)?:\w+/g,I=/\*\w+/g,z=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(L.prototype,u,{preinitialize:function(){},initialize:function(){},route:function(t,r,i){n.isRegExp(t)||(t=this._routeToRegExp(t)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var o=this;return e.history.route(t,function(n){var a=o._extractParameters(t,n);!1!==o.execute(i,a,r)&&(o.trigger.apply(o,["route:"+r].concat(a)),o.trigger("route",r,a),e.history.trigger("route",o,r,a))}),this},execute:function(t,e,n){t&&t.apply(this,e)},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var t,e=n.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return RegExp("^"+(t=t.replace(z,"\\$&").replace(P,"(?:$1)?").replace(W,function(t,e){return e?t:"([^/?]+)"}).replace(I,"([^?]*?)"))+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var r=t.exec(e).slice(1);return n.map(r,function(t,e){return e===r.length-1?t||null:t?decodeURIComponent(t):null})}});var H=e.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},R=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,q=/#.*$/;H.started=!1,n.extend(H.prototype,u,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(R,"")},start:function(t){if(H.started)throw Error("Backbone.history has already been started");if(H.started=!0,this.options=n.extend({root:"/"},this.options,t),this.root=this.options.root,this._trailingSlash=this.options.trailingSlash,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(B,"/"),this._wantsHashChange&&this._wantsPushState){if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});else{var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),H.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();if(e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e===this.fragment)return!this.matchRoot()&&this.notfound();this.iframe&&this.navigate(e),this.loadUrl()},loadUrl:function(t){return this.matchRoot()?(t=this.fragment=this.getFragment(t),n.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})||this.notfound()):this.notfound()},notfound:function(){return this.trigger("notfound"),!1},navigate:function(t,e){if(!H.started)return!1;e&&!0!==e||(e={trigger:!!e}),t=this.getFragment(t||"");var n=this.root;this._trailingSlash||""!==t&&"?"!==t.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+t;t=t.replace(q,"");var i=this.decodeFragment(t);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,r);else if(!this._wantsHashChange)return this.location.assign(r);else if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;e.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,t,e.replace)}if(e.trigger)return this.loadUrl(t)}},_updateHash:function(t,e,n){if(n){var r=t.href.replace(/(javascript:|#).*$/,"");t.replace(r+"#"+e)}else t.hash="#"+e}}),e.history=new H,m.extend=y.extend=L.extend=S.extend=H.extend=function(t,e){var r,i=this;return r=t&&n.has(t,"constructor")?t.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,e),r.prototype=n.create(i.prototype,t),r.prototype.constructor=r,r.__super__=i.prototype,r};var V=function(){throw Error('A "url" property or function must be specified')},U=function(t,e){var n=e.error;e.error=function(r){n&&n.call(e.context,t,r,e),t.trigger("error",t,r,e)}};return e._debug=function(){return{root:t,_:n}},e}),a("ixUnv");var c=a("k08ZD"),f=a("fFuwj"),d={};(n={}).dev=!1,n.tooltip=n.tooltip||{},n.utils=n.utils||{},n.models=n.models||{},n.charts={},n.logs={},n.dom={},"undefined"!=typeof module&&void 0!==d&&"undefined"==typeof d3&&(d3=a("lOpWt")),n.dispatch=d3.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),n.dev&&(n.dispatch.on("render_start",function(t){n.logs.startTime=+new Date}),n.dispatch.on("render_end",function(t){n.logs.endTime=+new Date,n.logs.totalTime=n.logs.endTime-n.logs.startTime,n.log("total",n.logs.totalTime)})),n.log=function(){return n.dev&&window.console&&console.log&&console.log.apply?console.log.apply(console,arguments):n.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind&&Function.prototype.bind.call(console.log,console).apply(console,arguments),arguments[arguments.length-1]},n.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},n.render=function(t){t=t||1,n.render.active=!0,n.dispatch.render_start();var e=function(){for(var r,i,o=0;o<t&&(i=n.render.queue[o]);o++)r=i.generate(),typeof i.callback==typeof Function&&i.callback(r);n.render.queue.splice(0,o),n.render.queue.length?setTimeout(e):(n.dispatch.render_end(),n.render.active=!1)};setTimeout(e)},n.render.active=!1,n.render.queue=[],n.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),n.render.queue.push(t),n.render.active||n.render()},"undefined"!=typeof module&&void 0!==d&&(d=n),"undefined"!=typeof window&&(window.nv=n),n.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},n.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},n.interactiveGuideline=function(){var t={left:0,top:0},e=null,r=null,i=d3.scale.linear(),o=d3.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),a=!0,u=null,s=n.models.tooltip(),l=window.ActiveXObject;function c(f){f.each(function(f){var d=d3.select(this),h=e||960,p=r||400,g=d.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([f]);function v(){var e=d3.event.clientX-this.getBoundingClientRect().left,n=d3.event.clientY-this.getBoundingClientRect().top,r=!0,a=!1;if(l&&(e=d3.event.offsetX,n=d3.event.offsetY,"svg"!==d3.event.target.tagName&&(r=!1),d3.event.target.className.baseVal.match("nv-legend")&&(a=!0)),r&&(e-=t.left,n-=t.top),"mouseout"===d3.event.type||e<0||n<0||e>h||n>p||d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement||a){if(l&&d3.event.relatedTarget&&void 0===d3.event.relatedTarget.ownerSVGElement&&(void 0===d3.event.relatedTarget.className||d3.event.relatedTarget.className.match(s.nvPointerEventsClass)))return;o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),s.hidden(!0);return}s.hidden(!1);var u="function"==typeof i.rangeBands,f=void 0;if(u){var d=d3.bisect(i.range(),e)-1;if(i.range()[d]+i.rangeBand()>=e)f=i.domain()[d3.bisect(i.range(),e)-1];else{o.elementMouseout({mouseX:e,mouseY:n}),c.renderGuideLine(null),s.hidden(!0);return}}else f=i.invert(e);o.elementMousemove({mouseX:e,mouseY:n,pointXValue:f}),"dblclick"===d3.event.type&&o.elementDblclick({mouseX:e,mouseY:n,pointXValue:f}),"click"===d3.event.type&&o.elementClick({mouseX:e,mouseY:n,pointXValue:f}),"mousedown"===d3.event.type&&o.elementMouseDown({mouseX:e,mouseY:n,pointXValue:f}),"mouseup"===d3.event.type&&o.elementMouseUp({mouseX:e,mouseY:n,pointXValue:f})}g.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer").append("g").attr("class","nv-interactiveGuideLine"),u&&(u.on("touchmove",v).on("mousemove",v,!0).on("mouseout",v,!0).on("mousedown",v,!0).on("mouseup",v,!0).on("dblclick",v).on("click",v),c.guideLine=null,c.renderGuideLine=function(t){a&&(c.guideLine&&c.guideLine.attr("x1")===t||n.dom.write(function(){var e=g.select(".nv-interactiveGuideLine").selectAll("line").data(null!=t?[n.utils.NaNtoZero(t)]:[],String);e.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",p).attr("y2",0),e.exit().remove()}))})})}return s.duration(0).hideDelay(0).hidden(!1),c.dispatch=o,c.tooltip=s,c.margin=function(e){return arguments.length?(t.top=void 0!==e.top?e.top:t.top,t.left=void 0!==e.left?e.left:t.left,c):t},c.width=function(t){return arguments.length?(e=t,c):e},c.height=function(t){return arguments.length?(r=t,c):r},c.xScale=function(t){return arguments.length?(i=t,c):i},c.showGuideLine=function(t){return arguments.length?(a=t,c):a},c.svgContainer=function(t){return arguments.length?(u=t,c):u},c},n.interactiveBisect=function(t,e,n){if(!(t instanceof Array))return null;r="function"!=typeof n?function(t){return t.x}:n;var r,i=d3.bisector(function(t,e){return r(t)-e}).left,o=d3.max([0,i(t,e)-1]),a=r(t[o]);if(void 0===a&&(a=o),a===e)return o;var u=d3.min([o+1,t.length-1]),s=r(t[u]);return(void 0===s&&(s=u),Math.abs(s-e)>=Math.abs(a-e))?o:u},n.nearestValueIndex=function(t,e,n){var r=1/0,i=null;return t.forEach(function(t,o){var a=Math.abs(e-t);null!=t&&a<=r&&a<n&&(r=a,i=o)}),i},n.models.tooltip=function(){var t="nvtooltip-"+Math.floor(1e5*Math.random()),e=null,r="w",i=25,o=0,a=null,u=!0,s=200,l=null,c={left:null,top:null},f=!0,d=100,h=!0,p="nv-pointer-events-none",g=function(t,e,n){return t},v=function(t){return t},m=function(t,e){return t},y=function(t,e){if(null===t)return"";var n=d3.select(document.createElement("table"));h&&n.selectAll("thead").data([t]).enter().append("thead").append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(v(t.value));var r=n.selectAll("tbody").data([t]).enter().append("tbody").selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});r.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),r.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return m(t.key,e)}),r.append("td").classed("value",!0).html(function(t,e){return g(t.value,e,t)}),r.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+d3.format("%")(t.percent)+")"}),r.selectAll("td").each(function(t){if(t.highlight){var e=d3.scale.linear().domain([0,1]).range(["#fff",t.color]);d3.select(this).style("border-bottom-color",e(.6)).style("border-top-color",e(.6))}});var i=n.node().outerHTML;return void 0!==t.footer&&(i+="<div class='footer'>"+t.footer+"</div>"),i},x=function(){var t={left:null!==d3.event?d3.event.clientX:0,top:null!==d3.event?d3.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},b=function(t){if(t&&t.series){if(n.utils.isArray(t.series))return!0;if(n.utils.isObject(t.series))return t.series=[t.series],!0}return!1},k=function(t){var e,n,o,a=l.node().offsetHeight,u=l.node().offsetWidth,s=document.documentElement.clientWidth,c=document.documentElement.clientHeight;switch(r){case"e":e=-u-i,n=-(a/2),t.left+e<0&&(e=i),(o=t.top+n)<0&&(n-=o),(o=t.top+n+a)>c&&(n-=o-c);break;case"w":e=i,n=-(a/2),t.left+e+u>s&&(e=-u-i),(o=t.top+n)<0&&(n-=o),(o=t.top+n+a)>c&&(n-=o-c);break;case"n":e=-(u/2)-5,n=i,t.top+n+a>c&&(n=-a-i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+u)>s&&(e-=o-s);break;case"s":e=-(u/2),n=-a-i,t.top+n<0&&(n=i),(o=t.left+e)<0&&(e-=o),(o=t.left+e+u)>s&&(e-=o-s);break;case"center":e=-(u/2),n=-(a/2);break;default:e=0,n=0}return{left:e,top:n}},w=function(){n.dom.read(function(){var t=x(),e=k(t),n=t.left+e.left,r=t.top+e.top;if(u)l.interrupt().transition().delay(s).duration(0).style("opacity",0);else{var i="translate("+c.left+"px, "+c.top+"px)",o="translate("+Math.round(n)+"px, "+Math.round(r)+"px)",a=d3.interpolateString(i,o),f=.1>l.style("opacity");l.interrupt().transition().duration(f?0:d).styleTween("transform",function(t){return a},"important").styleTween("-webkit-transform",function(t){return a}).style("-ms-transform",o).style("opacity",1)}c.left=n,c.top=r})};function M(){if(f&&b(e))return n.dom.write(function(){l&&l.node()||((l=d3.select(document.body).select("#"+t).data([1])).enter().append("div").attr("class","nvtooltip "+(a||"xy-tooltip")).attr("id",t).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(p,!0).classed(p,!0),l.exit().remove());var n=y(e,l.node());n&&(l.node().innerHTML=n),w()}),M}return M.nvPointerEventsClass=p,M.options=n.utils.optionsFunc.bind(M),M._options=Object.create({},{duration:{get:function(){return d},set:function(t){d=t}},gravity:{get:function(){return r},set:function(t){r=t}},distance:{get:function(){return i},set:function(t){i=t}},snapDistance:{get:function(){return o},set:function(t){o=t}},classes:{get:function(){return a},set:function(t){a=t}},enabled:{get:function(){return f},set:function(t){f=t}},hideDelay:{get:function(){return s},set:function(t){s=t}},contentGenerator:{get:function(){return y},set:function(t){y=t}},valueFormatter:{get:function(){return g},set:function(t){g=t}},headerFormatter:{get:function(){return v},set:function(t){v=t}},keyFormatter:{get:function(){return m},set:function(t){m=t}},headerEnabled:{get:function(){return h},set:function(t){h=t}},position:{get:function(){return x},set:function(t){x=t}},chartContainer:{get:function(){return document.body},set:function(t){n.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){n.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){n.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return u},set:function(t){u!=t&&(u=!!t,M())}},data:{get:function(){return e},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),e=t}},node:{get:function(){return l.node()},set:function(t){}},id:{get:function(){return t},set:function(t){}}}),n.utils.initOptions(M),M},n.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight):document.body&&document.body.offsetWidth&&(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight),t},n.utils.isArray=Array.isArray,n.utils.isObject=function(t){return null!==t&&"object"==typeof t},n.utils.isFunction=function(t){return"function"==typeof t},n.utils.isDate=function(t){return"[object Date]"===toString.call(t)},n.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},n.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):n.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},n.utils.getColor=function(t){if(void 0===t)return n.utils.defaultColor();if(!n.utils.isArray(t))return t;var e=d3.scale.ordinal().range(t);return function(t,n){var r=void 0===n?t:n;return t.color||e(r)}},n.utils.defaultColor=function(){return n.utils.getColor(d3.scale.category20().range())},n.utils.customTheme=function(t,e,r){e=e||function(t){return t.key};var i=(r=r||d3.scale.category20().range()).length;return function(o,a){var u=e(o);return n.utils.isFunction(t[u])?t[u]():void 0!==t[u]?t[u]:(i||(i=r.length),r[i-=1])}},n.utils.pjax=function(t,e){var r=function(r){d3.html(r,function(r){var i=d3.select(e).node();i.parentNode.replaceChild(d3.select(r).select(e).node(),i),n.utils.pjax(t,e)})};d3.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),r(this.href),d3.event.preventDefault()}),d3.select(window).on("popstate",function(){d3.event.state&&r(d3.event.state)})},n.utils.calcApproxTextWidth=function(t){if(n.utils.isFunction(t.style)&&n.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),r=t.text().length;return n.utils.NaNtoZero(r*e*.5)}return 0},n.utils.NaNtoZero=function(t){return!n.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-1/0?0:t},d3.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},n.utils.renderWatch=function(t,e){if(!(this instanceof n.utils.renderWatch))return new n.utils.renderWatch(t,e);var r=void 0!==e?e:250,i=[],o=this;this.models=function(t){return t=[].slice.call(arguments,0),t.forEach(function(t){t.__rendered=!1,function(t){t.dispatch.on("renderEnd",function(e){t.__rendered=!0,o.renderEnd("model")})}(t),0>i.indexOf(t)&&i.push(t)}),this},this.reset=function(t){void 0!==t&&(r=t),i=[]},this.transition=function(t,e,n){if(e=arguments.length>1?[].slice.call(arguments,1):[],n=e.length>1?e.pop():void 0!==r?r:250,t.__rendered=!1,0>i.indexOf(t)&&i.push(t),0===n)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var a=0;return t.transition().duration(n).each(function(){++a}).each("end",function(n,r){0==--a&&(t.__rendered=!0,o.renderEnd.apply(this,e))})},this.renderEnd=function(){i.every(function(t){return t.__rendered})&&(i.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},n.utils.deepExtend=function(t){var e=arguments.length>1?[].slice.call(arguments,1):[];e.forEach(function(e){for(var r in e){var i=n.utils.isArray(t[r]),o=n.utils.isObject(t[r]),a=n.utils.isObject(e[r]);o&&!i&&a?n.utils.deepExtend(t[r],e[r]):t[r]=e[r]}})},n.utils.state=function(){if(!(this instanceof n.utils.state))return new n.utils.state;var t={},e=function(){},r=function(){return{}},i=null;this.dispatch=d3.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return r=t,this},this.setter=function(t,n){return n||(n=function(){}),e=function(e,r){t(e),r&&n()},this},this.init=function(t){i=i||{},n.utils.deepExtend(i,t)};var o=function(){var e=r();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var n in e)void 0===t[n]&&(t[n]={}),t[n]=e[n];return!0};this.update=function(){i&&(e(i,!1),i=null),o.call(this)&&this.dispatch.change(t)}},n.utils.optionsFunc=function(t){return t&&d3.map(t).forEach((function(t,e){n.utils.isFunction(this[t])&&this[t](e)}).bind(this)),this},n.utils.calcTicksX=function(t,e){for(var r=1,i=0;i<e.length;i+=1){var o=e[i]&&e[i].values?e[i].values.length:0;r=o>r?o:r}return n.log("Requested number of ticks: ",t),n.log("Calculated max values to be: ",r),t=Math.floor(t=(t=t>r?t=r-1:t)<1?1:t),n.log("Calculating tick count as: ",t),t},n.utils.calcTicksY=function(t,e){return n.utils.calcTicksX(t,e)},n.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},n.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),r=Object.getOwnPropertyNames(t._calls||{});for(var i in e=e.concat(r))n.utils.initOption(t,e[i])},n.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),t._d3options=(t._d3options||[]).filter(function(t,e,n){return n.indexOf(t)===e}),n.unshift(e),n.unshift(t),d3.rebind.apply(this,n)},n.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},n.utils.symbolMap=d3.map(),n.utils.symbol=function(){var t,e=64;function r(r,i){var o=t.call(this,r,i),a=e.call(this,r,i);return -1!==d3.svg.symbolTypes.indexOf(o)?d3.svg.symbol().type(o).size(a)():n.utils.symbolMap.get(o)(a)}return r.type=function(e){return arguments.length?(t=d3.functor(e),r):t},r.size=function(t){return arguments.length?(e=d3.functor(t),r):e},r},n.utils.inheritOptions=function(t,e){var r=Object.getOwnPropertyNames(e._options||{}),i=Object.getOwnPropertyNames(e._calls||{}),o=e._inherited||[],a=e._d3options||[],u=r.concat(i).concat(o).concat(a);u.unshift(e),u.unshift(t),d3.rebind.apply(this,u),t._inherited=n.utils.arrayUnique(r.concat(i).concat(o).concat(r).concat(t._inherited||[])),t._d3options=n.utils.arrayUnique(a.concat(t._d3options||[]))},n.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},n.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},n.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},n.utils.availableHeight=function(t,e,r){return Math.max(0,n.utils.sanitizeHeight(t,e)-r.top-r.bottom)},n.utils.availableWidth=function(t,e,r){return Math.max(0,n.utils.sanitizeWidth(t,e)-r.left-r.right)},n.utils.noData=function(t,e){var r=t.options(),i=r.margin(),o=r.noData(),a=n.utils.availableHeight(null,e,i),u=n.utils.availableWidth(null,e,i),s=i.left+u/2,l=i.top+a/2;e.selectAll("g").remove();var c=e.selectAll(".nv-noData").data(null==o?["No Data Available."]:[o]);c.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),c.attr("x",s).attr("y",l).text(function(t){return t})},n.utils.wrapTicks=function(t,e){t.each(function(){for(var t,n=d3.select(this),r=n.text().split(/\s+/).reverse(),i=[],o=0,a=n.attr("y"),u=parseFloat(n.attr("dy")),s=n.text(null).append("tspan").attr("x",0).attr("y",a).attr("dy",u+"em");t=r.pop();)i.push(t),s.text(i.join(" ")),s.node().getComputedTextLength()>e&&(i.pop(),s.text(i.join(" ")),i=[t],s=n.append("tspan").attr("x",0).attr("y",a).attr("dy",1.1*++o+u+"em").text(t))})},n.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e||t.length!=e.length)return!1;for(var r=0,i=t.length;r<i;r++)if(t[r]instanceof Array&&e[r]instanceof Array){if(!n.arrayEquals(t[r],e[r]))return!1}else if(t[r]!=e[r])return!1;return!0},n.utils.pointIsInArc=function(t,e,n){var r=n.innerRadius()(e),i=n.outerRadius()(e),o=n.startAngle()(e),a=n.endAngle()(e),u=t.x*t.x+t.y*t.y,s=Math.atan2(t.x,-t.y);return s=s<0?s+2*Math.PI:s,r*r<=u&&u<=i*i&&o<=s&&s<=a},n.models.axis=function(){var t,e,r=d3.svg.axis(),i=d3.scale.linear(),o={top:0,right:0,bottom:0,left:0},a=75,u=60,s=null,l=!0,c=0,f=!0,d=!1,h=!1,p=null,g=0,v=void 0,m=250,y=d3.dispatch("renderEnd");r.scale(i).orient("bottom").tickFormat(function(t){return t});var x=n.utils.renderWatch(y,m);function b(u){return x.reset(),u.each(function(u){var m,y,b,k=d3.select(this);n.utils.initSVG(k);var w=k.selectAll("g.nv-wrap.nv-axis").data([u]);w.enter().append("g").attr("class","nvd3 nv-wrap nv-axis").append("g");var M=w.select("g");null!==p?r.ticks(p):("top"==r.orient()||"bottom"==r.orient())&&r.ticks(Math.abs(i.range()[1]-i.range()[0])/100),M.watchTransition(x,"axis").call(r),t=t||r.scale();var A=r.tickFormat();null==A&&(A=t.tickFormat());var _=M.selectAll("text.nv-axislabel").data([s||null]);switch(_.exit().remove(),void 0!==v&&M.selectAll("g").select("text").style("font-size",v),r.orient()){case"top":_.enter().append("text").attr("class","nv-axislabel"),b=0,1===i.range().length?b=h?2*i.range()[0]+i.rangeBand():0:2===i.range().length?b=h?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(b=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),_.attr("text-anchor","middle").attr("y",0).attr("x",b/2),l&&((y=w.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),y.exit().remove(),y.attr("transform",function(t,e){return"translate("+n.utils.NaNtoZero(i(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-r.tickPadding()).attr("text-anchor","middle").text(function(t,n){var r=(e||A)(t);return(""+r).match("NaN")?"":r}),y.watchTransition(x,"min-max top").attr("transform",function(t,e){return"translate("+n.utils.NaNtoZero(i.range()[e])+",0)"}));break;case"bottom":m=g+36;var E=30,S=0,C=M.selectAll("g").select("text"),N="";if(c%360){C.attr("transform",""),C.each(function(t,e){var n=this.getBoundingClientRect(),r=n.width;S=n.height,r>E&&(E=r)}),N="rotate("+c+" 0,"+(S/2+r.tickPadding())+")";var T=Math.abs(Math.sin(c*Math.PI/180));m=(T?T*E:E)+30,C.attr("transform",N).style("text-anchor",c%360>0?"start":"end")}else d?C.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):C.attr("transform","translate(0,0)");_.enter().append("text").attr("class","nv-axislabel"),b=0,1===i.range().length?b=h?2*i.range()[0]+i.rangeBand():0:2===i.range().length?b=h?i.range()[0]+i.range()[1]+i.rangeBand():i.range()[1]:i.range().length>2&&(b=i.range()[i.range().length-1]+(i.range()[1]-i.range()[0])),_.attr("text-anchor","middle").attr("y",m).attr("x",b/2),l&&((y=w.selectAll("g.nv-axisMaxMin").data([i.domain()[0],i.domain()[i.domain().length-1]])).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),y.exit().remove(),y.attr("transform",function(t,e){return"translate("+n.utils.NaNtoZero(i(t)+(h?i.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",r.tickPadding()).attr("transform",N).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t,n){var r=(e||A)(t);return(""+r).match("NaN")?"":r}),y.watchTransition(x,"min-max bottom").attr("transform",function(t,e){return"translate("+n.utils.NaNtoZero(i(t)+(h?i.rangeBand()/2:0))+",0)"}));break;case"right":_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",f?"middle":"begin").attr("transform",f?"rotate(90)":"").attr("y",f?-Math.max(o.right,a)+12-(g||0):-10).attr("x",f?d3.max(i.range())/2:r.tickPadding()),l&&((y=w.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),y.exit().remove(),y.attr("transform",function(t,e){return"translate(0,"+n.utils.NaNtoZero(i(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",r.tickPadding()).style("text-anchor","start").text(function(t,n){var r=(e||A)(t);return(""+r).match("NaN")?"":r}),y.watchTransition(x,"min-max right").attr("transform",function(t,e){return"translate(0,"+n.utils.NaNtoZero(i.range()[e])+")"}).select("text").style("opacity",1));break;case"left":_.enter().append("text").attr("class","nv-axislabel"),_.style("text-anchor",f?"middle":"end").attr("transform",f?"rotate(-90)":"").attr("y",f?-Math.max(o.left,a)+25-(g||0):-10).attr("x",f?-d3.max(i.range())/2:-r.tickPadding()),l&&((y=w.selectAll("g.nv-axisMaxMin").data(i.domain())).enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),y.exit().remove(),y.attr("transform",function(e,r){return"translate(0,"+n.utils.NaNtoZero(t(e))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-r.tickPadding()).attr("text-anchor","end").text(function(t,n){var r=(e||A)(t);return(""+r).match("NaN")?"":r}),y.watchTransition(x,"min-max right").attr("transform",function(t,e){return"translate(0,"+n.utils.NaNtoZero(i.range()[e])+")"}).select("text").style("opacity",1))}if(_.text(function(t){return t}),l&&("left"===r.orient()||"right"===r.orient())&&(M.selectAll("g").each(function(t,e){d3.select(this).select("text").attr("opacity",1),(i(t)<i.range()[1]+10||i(t)>i.range()[0]-10)&&((t>1e-10||t<-1e-10)&&d3.select(this).attr("opacity",0),d3.select(this).select("text").attr("opacity",0))}),i.domain()[0]==i.domain()[1]&&0==i.domain()[0]&&w.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),l&&("top"===r.orient()||"bottom"===r.orient())){var D=[];w.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?D.push(i(t)-this.getBoundingClientRect().width-4):D.push(i(t)+this.getBoundingClientRect().width+4)}catch(n){e?D.push(i(t)-4):D.push(i(t)+4)}}),M.selectAll("g").each(function(t,e){(i(t)<D[0]||i(t)>D[1])&&(t>1e-10||t<-1e-10?d3.select(this).remove():d3.select(this).select("text").remove())})}M.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),t=i.copy()}),x.renderEnd("axis immediate"),b}return b.axis=r,b.dispatch=y,b.options=n.utils.optionsFunc.bind(b),b._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(t){g=t}},staggerLabels:{get:function(){return d},set:function(t){d=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return f},set:function(t){f=t}},showMaxMin:{get:function(){return l},set:function(t){l=t}},axisLabel:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return u},set:function(t){u=t}},ticks:{get:function(){return p},set:function(t){p=t}},width:{get:function(){return a},set:function(t){a=t}},fontSize:{get:function(){return v},set:function(t){v=t}},tickFormatMaxMin:{get:function(){return e},set:function(t){e=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return m},set:function(t){m=t,x.reset(m)}},scale:{get:function(){return i},set:function(t){i=t,r.scale(i),h="function"==typeof i.rangeBands,n.utils.inheritOptionsD3(b,i,["domain","range","rangeBand","rangeBands"])}}}),n.utils.initOptions(b),n.utils.inheritOptionsD3(b,r,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),n.utils.inheritOptionsD3(b,i,["domain","range","rangeBand","rangeBands"]),b},n.models.boxPlot=function(){var t,e,r,i,o,a,u={top:0,right:0,bottom:0,left:0},s=960,l=500,c=Math.floor(1e4*Math.random()),f=d3.scale.ordinal(),d=d3.scale.linear(),h=function(t){return t.label},p=function(t){return t.values.Q1},g=function(t){return t.values.Q2},v=function(t){return t.values.Q3},m=function(t){return t.values.whisker_low},y=function(t){return t.values.whisker_high},x=function(t){return t.color},b=function(t){return t.values.outliers},k=function(t,e,n){return t},w=function(t,e,n){return t},M=function(t,e,n){},A=n.utils.defaultColor(),_=null,E=d3.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),S=250,C=null,N=n.utils.renderWatch(E,S);function T(c){return N.reset(),c.each(function(c){var T=s-u.left-u.right,D=l-u.top-u.bottom;_=d3.select(this),n.utils.initSVG(_),f.domain(r||c.map(function(t,e){return h(t,e)})).rangeBands(i||[0,T],.1);var j=[];if(!o){var F=[];c.forEach(function(t,e){var n=p(t),r=v(t),i=m(t),o=y(t),a=b(t);a&&a.forEach(function(t,e){F.push(k(t,e,void 0))}),i&&F.push(i),n&&F.push(n),r&&F.push(r),o&&F.push(o)}),j=[d3.min(F),d3.max(F)]}d.domain(o||j),d.range(a||[D,0]),t=t||f,e=e||d.copy().range([d(0),d(0)]);var O=_.selectAll("g.nv-wrap").data([c]);O.enter().append("g").attr("class","nvd3 nv-wrap"),O.attr("transform","translate("+u.left+","+u.top+")");var L=O.selectAll(".nv-boxplot").data(function(t){return t}),P=L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);L.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(f(h(t,e))+.05*f.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),L.watchTransition(N,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(t,e){return e*S/c.length}).attr("transform",function(t,e){return"translate("+(f(h(t,e))+.05*f.rangeBand())+", 0)"}),L.exit().remove(),P.each(function(t,e){var n=d3.select(this);[m,y].forEach(function(r){if(void 0!==r(t)&&null!==r(t)){var i=r===m?"low":"high";n.append("line").style("stroke",x(t)||A(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+i),n.append("line").style("stroke",x(t)||A(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+i)}})});var W=function(){return null===C?.9*f.rangeBand():Math.min(75,.9*f.rangeBand())},I=function(){return .45*f.rangeBand()-W()/2},z=function(){return .45*f.rangeBand()+W()/2};[m,y].forEach(function(t){var e=t===m?"low":"high",n=t===m?p:v;L.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(N,"nv-boxplot: boxplots").attr("x1",.45*f.rangeBand()).attr("y1",function(e,n){return d(t(e))}).attr("x2",.45*f.rangeBand()).attr("y2",function(t,e){return d(n(t))}),L.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(N,"nv-boxplot: boxplots").attr("x1",I).attr("y1",function(e,n){return d(t(e))}).attr("x2",z).attr("y2",function(e,n){return d(t(e))})}),[m,y].forEach(function(t){var e=t===m?"low":"high";P.selectAll(".nv-boxplot-"+e).on("mouseover",function(e,n,r){d3.select(this).classed("hover",!0),E.elementMouseover({series:{key:t(e),color:x(e)||A(e,r)},e:d3.event})}).on("mouseout",function(e,n,r){d3.select(this).classed("hover",!1),E.elementMouseout({series:{key:t(e),color:x(e)||A(e,r)},e:d3.event})}).on("mousemove",function(t,e){E.elementMousemove({e:d3.event})})}),P.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){d3.select(this).classed("hover",!0),E.elementMouseover({key:h(t),value:h(t),series:[{key:"Q3",value:v(t),color:x(t)||A(t,e)},{key:"Q2",value:g(t),color:x(t)||A(t,e)},{key:"Q1",value:p(t),color:x(t)||A(t,e)}],data:t,index:e,e:d3.event})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),E.elementMouseout({key:h(t),value:h(t),series:[{key:"Q3",value:v(t),color:x(t)||A(t,e)},{key:"Q2",value:g(t),color:x(t)||A(t,e)},{key:"Q1",value:p(t),color:x(t)||A(t,e)}],data:t,index:e,e:d3.event})}).on("mousemove",function(t,e){E.elementMousemove({e:d3.event})}),L.select("rect.nv-boxplot-box").watchTransition(N,"nv-boxplot: boxes").attr("y",function(t,e){return d(v(t))}).attr("width",W).attr("x",I).attr("height",function(t,e){return Math.abs(d(v(t))-d(p(t)))||1}).style("fill",function(t,e){return x(t)||A(t,e)}).style("stroke",function(t,e){return x(t)||A(t,e)}),P.append("line").attr("class","nv-boxplot-median"),L.select("line.nv-boxplot-median").watchTransition(N,"nv-boxplot: boxplots line").attr("x1",I).attr("y1",function(t,e){return d(g(t))}).attr("x2",z).attr("y2",function(t,e){return d(g(t))});var H=L.selectAll(".nv-boxplot-outlier").data(function(t){return b(t)||[]});H.enter().append("circle").style("fill",function(t,e,n){return M(t,e,n)||A(t,n)}).style("stroke",function(t,e,n){return M(t,e,n)||A(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),E.elementMouseover({series:{key:w(t,e,n),color:M(t,e,n)||A(t,n)},e:d3.event})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),E.elementMouseout({series:{key:w(t,e,n),color:M(t,e,n)||A(t,n)},e:d3.event})}).on("mousemove",function(t,e){E.elementMousemove({e:d3.event})}),H.attr("class","nv-boxplot-outlier"),H.watchTransition(N,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*f.rangeBand()).attr("cy",function(t,e,n){return d(k(t,e,n))}).attr("r","3"),H.exit().remove(),t=f.copy(),e=d.copy()}),N.renderEnd("nv-boxplot immediate"),T}return T.dispatch=E,T.options=n.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},maxBoxWidth:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return h},set:function(t){h=t}},q1:{get:function(){return p},set:function(t){p=t}},q2:{get:function(){return g},set:function(t){g=t}},q3:{get:function(){return v},set:function(t){v=t}},wl:{get:function(){return m},set:function(t){m=t}},wh:{get:function(){return y},set:function(t){y=t}},itemColor:{get:function(){return x},set:function(t){x=t}},outliers:{get:function(){return b},set:function(t){b=t}},outlierValue:{get:function(){return k},set:function(t){k=t}},outlierLabel:{get:function(){return w},set:function(t){w=t}},outlierColor:{get:function(){return M},set:function(t){M=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return r},set:function(t){r=t}},yDomain:{get:function(){return o},set:function(t){o=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return a},set:function(t){a=t}},id:{get:function(){return c},set:function(t){c=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return A},set:function(t){A=n.utils.getColor(t)}},duration:{get:function(){return S},set:function(t){S=t,N.reset(S)}}}),n.utils.initOptions(T),T},n.models.boxPlotChart=function(){var t,e,r=n.models.boxPlot(),i=n.models.axis(),o=n.models.axis(),a={top:15,right:10,bottom:50,left:60},u=null,s=null,l=n.utils.getColor(),c=!0,f=!0,d=!1,h=!1,p=n.models.tooltip(),g="No Data Available.",v=d3.dispatch("beforeUpdate","renderEnd"),m=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(d?"right":"left").tickFormat(d3.format(",.1f")),p.duration(0);var y=n.utils.renderWatch(v,m);function x(l){return y.reset(),y.models(r),c&&y.models(i),f&&y.models(o),l.each(function(l){var p=d3.select(this);n.utils.initSVG(p);var y=(u||parseInt(p.style("width"))||960)-a.left-a.right,b=(s||parseInt(p.style("height"))||400)-a.top-a.bottom;if(x.update=function(){v.beforeUpdate(),p.transition().duration(m).call(x)},x.container=this,l&&l.length)p.selectAll(".nv-noData").remove();else{var k=p.selectAll(".nv-noData").data([g]);return k.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),k.attr("x",a.left+y/2).attr("y",a.top+b/2).text(function(t){return t}),x}t=r.xScale(),e=r.yScale().clamp(!0);var w=p.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([l]),M=w.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),A=M.append("defs"),_=w.select("g");if(M.append("g").attr("class","nv-x nv-axis"),M.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),M.append("g").attr("class","nv-barsWrap"),_.attr("transform","translate("+a.left+","+a.top+")"),d&&_.select(".nv-y.nv-axis").attr("transform","translate("+y+",0)"),r.width(y).height(b),_.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(r),A.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),_.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",t.rangeBand()*(h?2:1)).attr("height",16).attr("x",-t.rangeBand()/(h?1:2)),c){i.scale(t).ticks(n.utils.calcTicksX(y/100,l)).tickSize(-b,0),_.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),_.select(".nv-x.nv-axis").call(i);var E=_.select(".nv-x.nv-axis").selectAll("g");h&&E.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"})}f&&(o.scale(e).ticks(Math.floor(b/36)).tickSize(-y,0),_.select(".nv-y.nv-axis").call(o)),_.select(".nv-zeroLine line").attr("x1",0).attr("x2",y).attr("y1",e(0)).attr("y2",e(0))}),y.renderEnd("nv-boxplot chart immediate"),x}return r.dispatch.on("elementMouseover.tooltip",function(t){p.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){p.data(t).hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){p()}),x.dispatch=v,x.boxplot=r,x.xAxis=i,x.yAxis=o,x.tooltip=p,x.options=n.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return s},set:function(t){s=t}},staggerLabels:{get:function(){return h},set:function(t){h=t}},showXAxis:{get:function(){return c},set:function(t){c=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},tooltipContent:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return m},set:function(t){m=t,y.reset(m),r.duration(m),i.duration(m),o.duration(m)}},color:{get:function(){return l},set:function(t){l=n.utils.getColor(t),r.color(l)}},rightAlignYAxis:{get:function(){return d},set:function(t){d=t,o.orient(t?"right":"left")}}}),n.utils.inheritOptions(x,r),n.utils.initOptions(x),x},n.models.bullet=function(){var t={top:0,right:0,bottom:0,left:0},e="left",r=!1,i=function(t){return t.ranges},o=function(t){return t.markers?t.markers:[]},a=function(t){return t.markerLines?t.markerLines:[0]},u=function(t){return t.measures},s=function(t){return t.rangeLabels?t.rangeLabels:[]},l=function(t){return t.markerLabels?t.markerLabels:[]},c=function(t){return t.markerLineLabels?t.markerLineLabels:[]},f=function(t){return t.measureLabels?t.measureLabels:[]},d=[0],h=380,p=30,g=null,v=null,m=n.utils.getColor(["#1f77b4"]),y=d3.dispatch("elementMouseover","elementMouseout","elementMousemove"),x=["Maximum","Mean","Minimum"],b=["Max","Avg","Min"],k=1e3;function w(t,e){var n=t.slice();t.sort(function(t,r){var i=n.indexOf(t),o=n.indexOf(r);return d3.descending(e[i],e[o])})}function M(e){return e.each(function(e,v){var M=h-t.left-t.right,A=p-t.top-t.bottom;g=d3.select(this),n.utils.initSVG(g);var _=i.call(this,e,v).slice(),E=o.call(this,e,v).slice(),S=a.call(this,e,v).slice(),C=u.call(this,e,v).slice(),N=s.call(this,e,v).slice(),T=l.call(this,e,v).slice(),D=c.call(this,e,v).slice(),j=f.call(this,e,v).slice();w(N,_),w(T,E),w(D,S),w(j,C),_.sort(d3.descending),E.sort(d3.descending),S.sort(d3.descending),C.sort(d3.descending);var F=d3.scale.linear().domain(d3.extent(d3.merge([d,_]))).range(r?[M,0]:[0,M]);this.__chart__||d3.scale.linear().domain([0,1/0]).range(F.range()),this.__chart__=F,d3.min(_),d3.max(_),_[1];for(var O=g.selectAll("g.nv-wrap.nv-bullet").data([e]),L=O.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet").append("g"),P=O.select("g"),v=0,W=_.length;v<W;v++){var I="nv-range nv-range"+v;v<=2&&(I=I+" nv-range"+b[v]),L.append("rect").attr("class",I)}L.append("rect").attr("class","nv-measure"),O.attr("transform","translate("+t.left+","+t.top+")");for(var z=function(t){return t<0?F(t):F(0)},v=0,W=_.length;v<W;v++){var H=_[v];P.select("rect.nv-range"+v).datum(H).attr("height",A).transition().duration(k).attr("width",Math.abs(F(H)-F(0))).attr("x",z(H))}P.select("rect.nv-measure").style("fill",m).attr("height",A/3).attr("y",A/3).on("mouseover",function(){y.elementMouseover({value:C[0],label:j[0]||"Current",color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:C[0],label:j[0]||"Current",color:d3.select(this).style("fill")})}).on("mouseout",function(){y.elementMouseout({value:C[0],label:j[0]||"Current",color:d3.select(this).style("fill")})}).transition().duration(k).attr("width",C<0?F(0)-F(C[0]):F(C[0])-F(0)).attr("x",z(C));var R=A/6,B=E.map(function(t,e){return{value:t,label:T[e]}});L.selectAll("path.nv-markerTriangle").data(B).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+R+"L"+R+","+-R+" "+-R+","+-R+"Z").on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[F(t.value),A/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),P.selectAll("path.nv-markerTriangle").data(B).transition().duration(k).attr("transform",function(t){return"translate("+F(t.value)+","+A/2+")"});var q=S.map(function(t,e){return{value:t,label:D[e]}});L.selectAll("line.nv-markerLine").data(q).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return F(t.value)}).attr("y1","2").attr("x2",function(t){return F(t.value)}).attr("y2",A-2).on("mouseover",function(t){y.elementMouseover({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill"),pos:[F(t.value),A/2]})}).on("mousemove",function(t){y.elementMousemove({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){y.elementMouseout({value:t.value,label:t.label||"Previous",color:d3.select(this).style("fill")})}),P.selectAll("line.nv-markerLine").data(q).transition().duration(k).attr("x1",function(t){return F(t.value)}).attr("x2",function(t){return F(t.value)}),O.selectAll(".nv-range").on("mouseover",function(t,e){var n=N[e]||x[e];y.elementMouseover({value:t,label:n,color:d3.select(this).style("fill")})}).on("mousemove",function(){y.elementMousemove({value:C[0],label:j[0]||"Previous",color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){var n=N[e]||x[e];y.elementMouseout({value:t,label:n,color:d3.select(this).style("fill")})})}),M}return M.dispatch=y,M.options=n.utils.optionsFunc.bind(M),M._options=Object.create({},{ranges:{get:function(){return i},set:function(t){i=t}},markers:{get:function(){return o},set:function(t){o=t}},measures:{get:function(){return u},set:function(t){u=t}},forceX:{get:function(){return d},set:function(t){d=t}},width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},tickFormat:{get:function(){return v},set:function(t){v=t}},duration:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},orient:{get:function(){return e},set:function(t){r="right"==(e=t)||"bottom"==e}},color:{get:function(){return m},set:function(t){m=n.utils.getColor(t)}}}),n.utils.initOptions(M),M},n.models.bulletChart=function(){var t=n.models.bullet(),e=n.models.tooltip(),r="left",i=!1,o={top:5,right:40,bottom:20,left:120},a=function(t){return t.ranges},u=function(t){return t.markers?t.markers:[]},s=function(t){return t.measures},l=null,c=55,f=null,d=null,h=null,p=d3.dispatch();function g(e){return e.each(function(r,h){var p=d3.select(this);n.utils.initSVG(p);var v=n.utils.availableWidth(l,p,o),m=c-o.top-o.bottom;if(g.update=function(){g(e)},g.container=this,!r||!a.call(this,r,h))return n.utils.noData(g,p),g;p.selectAll(".nv-noData").remove();var y=a.call(this,r,h).slice().sort(d3.descending),x=u.call(this,r,h).slice().sort(d3.descending),b=s.call(this,r,h).slice().sort(d3.descending),k=p.selectAll("g.nv-wrap.nv-bulletChart").data([r]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart").append("g"),M=k.select("g");w.append("g").attr("class","nv-bulletWrap"),w.append("g").attr("class","nv-titles"),k.attr("transform","translate("+o.left+","+o.top+")");var A=d3.scale.linear().domain([0,Math.max(y[0],x[0]||0,b[0])]).range(i?[v,0]:[0,v]),_=this.__chart__||d3.scale.linear().domain([0,1/0]).range(A.range());this.__chart__=A;var E=w.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(c-o.top-o.bottom)/2+")");E.append("text").attr("class","nv-title").text(function(t){return t.title}),E.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),t.width(v).height(m);var S=M.select(".nv-bulletWrap");d3.transition(S).call(t);var C=f||A.tickFormat(v/100),N=M.selectAll("g.nv-tick").data(A.ticks(d||v/50),function(t){return this.textContent||C(t)}),T=N.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+_(t)+",0)"}).style("opacity",1e-6);T.append("line").attr("y1",m).attr("y2",7*m/6),T.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*m/6).text(C);var D=d3.transition(N).transition().duration(t.duration()).attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1);D.select("line").attr("y1",m).attr("y2",7*m/6),D.select("text").attr("y",7*m/6),d3.transition(N.exit()).transition().duration(t.duration()).attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1e-6).remove()}),d3.timer.flush(),g}return e.duration(0).headerEnabled(!1),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),g.bullet=t,g.dispatch=p,g.tooltip=e,g.options=n.utils.optionsFunc.bind(g),g._options=Object.create({},{ranges:{get:function(){return a},set:function(t){a=t}},markers:{get:function(){return u},set:function(t){u=t}},measures:{get:function(){return s},set:function(t){s=t}},width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},tickFormat:{get:function(){return f},set:function(t){f=t}},ticks:{get:function(){return d},set:function(t){d=t}},noData:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},orient:{get:function(){return r},set:function(t){i="right"==(r=t)||"bottom"==r}}}),n.utils.inheritOptions(g,t),n.utils.initOptions(g),g},n.models.candlestickBar=function(){var t,e,r,i,o,a={top:0,right:0,bottom:0,left:0},u=null,s=null,l=Math.floor(1e4*Math.random()),c=d3.scale.linear(),f=d3.scale.linear(),d=function(t){return t.x},h=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},m=function(t){return t.low},y=[],x=[],b=!1,k=!0,w=n.utils.defaultColor(),M=!1,A=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function _(w){return w.each(function(w){t=d3.select(this);var M=n.utils.availableWidth(u,t,a),_=n.utils.availableHeight(s,t,a);n.utils.initSVG(t);var E=M/w[0].values.length*.45;c.domain(e||d3.extent(w[0].values.map(d).concat(y))),b?c.range(i||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):c.range(i||[5+E/2,M-E/2-5]),f.domain(r||[d3.min(w[0].values.map(m).concat(x)),d3.max(w[0].values.map(v).concat(x))]).range(o||[_,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var S=d3.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([w[0].values]),C=S.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),N=C.append("defs"),T=C.append("g"),D=S.select("g");T.append("g").attr("class","nv-ticks"),S.attr("transform","translate("+a.left+","+a.top+")"),t.on("click",function(t,e){A.chartClick({data:t,index:e,pos:d3.event,id:l})}),N.append("clipPath").attr("id","nv-chart-clip-path-"+l).append("rect"),S.select("#nv-chart-clip-path-"+l+" rect").attr("width",M).attr("height",_),D.attr("clip-path",k?"url(#nv-chart-clip-path-"+l+")":"");var j=S.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});j.exit().remove();var F=j.enter().append("g");j.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),F.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+c(d(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return f(v(t,e))}).attr("x2",0).attr("y2",function(t,e){return f(m(t,e))}),F.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(c(d(t,e))-E/2)+","+(f(h(t,e))-(p(t,e)>g(t,e)?f(g(t,e))-f(p(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",E).attr("height",function(t,e){var n=p(t,e),r=g(t,e);return n>r?f(r)-f(n):f(n)-f(r)}),j.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+c(d(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return f(v(t,e))}).attr("x2",0).attr("y2",function(t,e){return f(m(t,e))}),j.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(c(d(t,e))-E/2)+","+(f(h(t,e))-(p(t,e)>g(t,e)?f(g(t,e))-f(p(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",E).attr("height",function(t,e){var n=p(t,e),r=g(t,e);return n>r?f(r)-f(n):f(n)-f(r)})}),_}return _.highlightPoint=function(e,n){_.clearHighlights(),t.select(".nv-candlestickBar .nv-tick-0-"+e).classed("hover",n)},_.clearHighlights=function(){t.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},_.dispatch=A,_.options=n.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return s},set:function(t){s=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return l},set:function(t){l=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!=t.top?t.top:a.top,a.right=void 0!=t.right?t.right:a.right,a.bottom=void 0!=t.bottom?t.bottom:a.bottom,a.left=void 0!=t.left?t.left:a.left}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t)}}}),n.utils.initOptions(_),_},n.models.cumulativeLineChart=function(){var t,e,r=n.models.line(),i=n.models.axis(),o=n.models.axis(),a=n.models.legend(),u=n.models.legend(),s=n.interactiveGuideline(),l=n.models.tooltip(),c={top:30,right:30,bottom:50,left:60},f=null,d=n.utils.defaultColor(),h=null,p=null,g=!0,v=!0,m=!0,y=!1,x=!0,b=!1,k=!0,w=r.id(),M=n.utils.state(),A=null,_=null,E=function(t){return t.average},S=d3.dispatch("stateChange","changeState","renderEnd"),C=250,N=!1;M.index=0,M.rescaleY=k,i.orient("bottom").tickPadding(7),o.orient(y?"right":"left"),l.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),u.updateState(!1);var T,D=d3.scale.linear(),j={i:0,x:0},F=n.utils.renderWatch(S,C);function O(l){return F.reset(),F.models(r),v&&F.models(i),m&&F.models(o),l.each(function(l){var _,F,W,I,z,H=d3.select(this);n.utils.initSVG(H),H.classed("nv-chart-"+w,!0);var R=n.utils.availableWidth(h,H,c),B=n.utils.availableHeight(p,H,c);if(O.update=function(){0===C?H.call(O):H.transition().duration(C).call(O)},O.container=this,M.setter((W=l,function(t){void 0!==t.index&&(j.i=t.index),void 0!==t.rescaleY&&(k=t.rescaleY),void 0!==t.active&&W.forEach(function(e,n){e.disabled=!t.active[n]})}),O.update).getter((I=l,function(){return{active:I.map(function(t){return!t.disabled}),index:j.i,rescaleY:k}})).update(),M.disabled=l.map(function(t){return!!t.disabled}),!A)for(z in A={},M)M[z]instanceof Array?A[z]=M[z].slice(0):A[z]=M[z];var q=d3.behavior.drag().on("dragstart",function(t,e){d3.select(O.container).style("cursor","ew-resize")}).on("drag",function(t,e){j.x=d3.event.x,j.i=Math.round(D.invert(j.x)),tn()}).on("dragend",function(t,e){d3.select(O.container).style("cursor","auto"),M.index=j.i,S.stateChange(M)});if(!l||!l.length||!l.filter(function(t){return t.values.length}).length)return n.utils.noData(O,H),O;H.selectAll(".nv-noData").remove(),t=r.xScale(),e=r.yScale(),D.domain([0,l[0].values.length-1]).range([0,R]).clamp(!0);var l=(_=j.i,F=l,L||(L=r.y()),F.map(function(t,e){if(!t.values)return t;var n=t.values[_];if(null==n)return t;var r=L(n,_);return 1e-5>Math.abs(r)&&!N?t.tempDisabled=!0:(t.tempDisabled=!1,t.values=t.values.map(function(t,e){return t.display={y:(L(t,e)-r)/r},t})),t}));void 0===T&&(T=P(l)),k?r.yDomain(null):(r.yDomain(T),r.clipEdge(!0));var V=b?"none":"all",U=H.selectAll("g.nv-wrap.nv-cumulativeLine").data([l]),G=U.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),Y=U.select("g");if(G.append("g").attr("class","nv-interactive"),G.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),G.append("g").attr("class","nv-y nv-axis"),G.append("g").attr("class","nv-background"),G.append("g").attr("class","nv-linesWrap").style("pointer-events",V),G.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),G.append("g").attr("class","nv-legendWrap"),G.append("g").attr("class","nv-controlsWrap"),g?(a.width(R),Y.select(".nv-legendWrap").datum(l).call(a),f||a.height()===c.top||(c.top=a.height(),B=n.utils.availableHeight(p,H,c)),Y.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):Y.select(".nv-legendWrap").selectAll("*").remove(),x){var X=[{key:"Re-scale y-axis",disabled:!k}];u.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),Y.select(".nv-controlsWrap").datum(X).attr("transform","translate(0,"+-c.top+")").call(u)}else Y.select(".nv-controlsWrap").selectAll("*").remove();U.attr("transform","translate("+c.left+","+c.top+")"),y&&Y.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)");var Z=l.filter(function(t){return t.tempDisabled});U.select(".tempDisabled").remove(),Z.length&&U.append("text").attr("class","tempDisabled").attr("x",R/2).attr("y","-.71em").style("text-anchor","end").text(Z.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),b&&(s.width(R).height(B).margin({left:c.left,top:c.top}).svgContainer(H).xScale(t),U.select(".nv-interactive").call(s)),G.select(".nv-background").append("rect"),Y.select(".nv-background rect").attr("width",R).attr("height",B),r.y(function(t){return t.display.y}).width(R).height(B).color(l.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!l[e].disabled&&!l[e].tempDisabled}));var J=Y.select(".nv-linesWrap").datum(l.filter(function(t){return!t.disabled&&!t.tempDisabled}));J.call(r),l.forEach(function(t,e){t.seriesIndex=e});var Q=l.filter(function(t){return!t.disabled&&!!E(t)}),K=Y.select(".nv-avgLinesWrap").selectAll("line").data(Q,function(t){return t.key}),tt=function(t){var n=e(E(t));return n<0?0:n>B?B:n};K.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return r.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",R).attr("y1",tt).attr("y2",tt),K.style("stroke-opacity",function(t){var n=e(E(t));return n<0||n>B?0:1}).attr("x1",0).attr("x2",R).attr("y1",tt).attr("y2",tt),K.exit().remove();var te=J.selectAll(".nv-indexLine").data([j]);function tn(){te.data([j]);var t=O.duration();O.duration(0),O.update(),O.duration(t)}te.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(q),te.attr("transform",function(t){return"translate("+D(t.i)+",0)"}).attr("height",B),v&&(i.scale(t)._ticks(n.utils.calcTicksX(R/70,l)).tickSize(-B,0),Y.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),Y.select(".nv-x.nv-axis").call(i)),m&&(o.scale(e)._ticks(n.utils.calcTicksY(B/36,l)).tickSize(-R,0),Y.select(".nv-y.nv-axis").call(o)),Y.select(".nv-background rect").on("click",function(){j.x=d3.mouse(this)[0],j.i=Math.round(D.invert(j.x)),M.index=j.i,S.stateChange(M),tn()}),r.dispatch.on("elementClick",function(t){j.i=t.pointIndex,j.x=D(j.i),M.index=j.i,S.stateChange(M),tn()}),u.dispatch.on("legendClick",function(t,e){t.disabled=!t.disabled,k=!t.disabled,M.rescaleY=k,k||(T=P(l)),S.stateChange(M),O.update()}),a.dispatch.on("stateChange",function(t){for(var e in t)M[e]=t[e];S.stateChange(M),O.update()}),s.dispatch.on("elementMousemove",function(t){r.clearHighlights();var e,a,u,c=[];if(l.filter(function(t,e){return t.seriesIndex=e,!(t.disabled||t.tempDisabled)}).forEach(function(i,o){a=n.interactiveBisect(i.values,t.pointXValue,O.x()),r.highlightPoint(o,a,!0);var s=i.values[a];void 0!==s&&(void 0===e&&(e=s),void 0===u&&(u=O.xScale()(O.x()(s,a))),c.push({key:i.key,value:O.y()(s,a),color:d(i,i.seriesIndex)}))}),c.length>2){var f=O.yScale().invert(t.mouseY),h=Math.abs(O.yScale().domain()[0]-O.yScale().domain()[1]),p=n.nearestValueIndex(c.map(function(t){return t.value}),f,.03*h);null!==p&&(c[p].highlight=!0)}var g=i.tickFormat()(O.x()(e,a),a);s.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t)}).data({value:g,series:c})(),s.renderGuideLine(u)}),s.dispatch.on("elementMouseout",function(t){r.clearHighlights()}),S.on("changeState",function(t){void 0!==t.disabled&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),M.disabled=t.disabled),void 0!==t.index&&(j.i=t.index,j.x=D(j.i),M.index=t.index,te.data([j])),void 0!==t.rescaleY&&(k=t.rescaleY),O.update()})}),F.renderEnd("cumulativeLineChart immediate"),O}r.dispatch.on("elementMouseover.tooltip",function(t){var e={x:O.x()(t.point),y:O.y()(t.point),color:t.point.color};t.point=e,l.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)});var L=null;function P(t){var e=t.filter(function(t){return!(t.disabled||t.tempDisabled)}).map(function(t,e){return d3.extent(t.values,function(t){return t.display.y})});return[d3.min(e,function(t){return t[0]}),d3.max(e,function(t){return t[1]})]}return O.dispatch=S,O.lines=r,O.legend=a,O.controls=u,O.xAxis=i,O.yAxis=o,O.interactiveLayer=s,O.state=M,O.tooltip=l,O.options=n.utils.optionsFunc.bind(O),O._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showControls:{get:function(){return x},set:function(t){x=t}},showLegend:{get:function(){return g},set:function(t){g=t}},average:{get:function(){return E},set:function(t){E=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return _},set:function(t){_=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},noErrorCheck:{get:function(){return N},set:function(t){N=t}},rescaleY:{get:function(){return k},set:function(t){k=t,O.state.rescaleY=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,f=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return d},set:function(t){d=n.utils.getColor(t),a.color(d)}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,!0===t&&(O.interactive(!1),O.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,o.orient(t?"right":"left")}},duration:{get:function(){return C},set:function(t){C=t,r.duration(C),i.duration(C),o.duration(C),F.reset(C)}}}),n.utils.inheritOptions(O,r),n.utils.initOptions(O),O},n.models.discreteBar=function(){var t,e,r,i,o,a,u,s={top:0,right:0,bottom:0,left:0},l=960,c=500,f=Math.floor(1e4*Math.random()),d=d3.scale.ordinal(),h=d3.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},v=[0],m=n.utils.defaultColor(),y=!1,x=d3.format(",.2f"),b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),k="discreteBar",w=250,M=n.utils.renderWatch(b,w);function A(f){return M.reset(),f.each(function(f){var w=l-s.left-s.right,A=c-s.top-s.bottom;r=d3.select(this),n.utils.initSVG(r),f.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var _=i&&o?[]:f.map(function(t){return t.values.map(function(t,e){return{x:p(t,e),y:g(t,e),y0:t.y0}})});d.domain(i||d3.merge(_).map(function(t){return t.x})).rangeBands(a||[0,w],.1),h.domain(o||d3.extent(d3.merge(_).map(function(t){return t.y}).concat(v))),y?h.range(u||[A-(h.domain()[0]<0?12:0),h.domain()[1]>0?12:0]):h.range(u||[A,0]),t=t||d,e=e||h.copy().range([h(0),h(0)]);var E=r.selectAll("g.nv-wrap.nv-discretebar").data([f]),S=E.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar").append("g");E.select("g"),S.append("g").attr("class","nv-groups"),E.attr("transform","translate("+s.left+","+s.top+")");var C=E.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});C.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),C.exit().watchTransition(M,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),C.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),C.watchTransition(M,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var N=C.selectAll("g.nv-bar").data(function(t){return t.values});N.exit().remove();var T=N.enter().append("g").attr("transform",function(t,e,n){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", "+h(0)+")"}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),b.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),b.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){b.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){b.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){b.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()});T.append("rect").attr("height",0).attr("width",.9*d.rangeBand()/f.length),y?(T.append("text").attr("text-anchor","middle"),N.select("text").text(function(t,e){return x(g(t,e))}).watchTransition(M,"discreteBar: bars text").attr("x",.9*d.rangeBand()/2).attr("y",function(t,e){return 0>g(t,e)?h(g(t,e))-h(0)+12:-4})):N.selectAll("text").remove(),N.attr("class",function(t,e){return 0>g(t,e)?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||m(t,e)}).style("stroke",function(t,e){return t.color||m(t,e)}).select("rect").attr("class",k).watchTransition(M,"discreteBar: bars rect").attr("width",.9*d.rangeBand()/f.length),N.watchTransition(M,"discreteBar: bars").attr("transform",function(t,e){return"translate("+(d(p(t,e))+.05*d.rangeBand())+", "+(0>g(t,e)?h(0):h(0)-h(g(t,e))<1?h(0)-1:h(g(t,e)))+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(h(g(t,e))-h(0)),1)}),t=d.copy(),e=h.copy()}),M.renderEnd("discreteBar immediate"),A}return A.dispatch=b,A.options=n.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},forceY:{get:function(){return v},set:function(t){v=t}},showValues:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return h},set:function(t){h=t}},xDomain:{get:function(){return i},set:function(t){i=t}},yDomain:{get:function(){return o},set:function(t){o=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return u},set:function(t){u=t}},valueFormat:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return f},set:function(t){f=t}},rectClass:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return m},set:function(t){m=n.utils.getColor(t)}},duration:{get:function(){return w},set:function(t){w=t,M.reset(w)}}}),n.utils.initOptions(A),A},n.models.discreteBarChart=function(){var t,e,r=n.models.discreteBar(),i=n.models.axis(),o=n.models.axis(),a=n.models.legend(),u=n.models.tooltip(),s={top:15,right:10,bottom:50,left:60},l=null,c=null,f=null,d=n.utils.getColor(),h=!1,p=!0,g=!0,v=!1,m=!1,y=!1,x=0,b=null,k=d3.dispatch("beforeUpdate","renderEnd"),w=250;i.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),o.orient(v?"right":"left").tickFormat(d3.format(",.1f")),u.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).keyFormatter(function(t,e){return i.tickFormat()(t,e)});var M=n.utils.renderWatch(k,w);function A(u){return M.reset(),M.models(r),p&&M.models(i),g&&M.models(o),u.each(function(u){var d=d3.select(this);n.utils.initSVG(d);var b=n.utils.availableWidth(c,d,s),M=n.utils.availableHeight(f,d,s);if(A.update=function(){k.beforeUpdate(),d.transition().duration(w).call(A)},A.container=this,!u||!u.length||!u.filter(function(t){return t.values.length}).length)return n.utils.noData(A,d),A;d.selectAll(".nv-noData").remove(),t=r.xScale(),e=r.yScale().clamp(!0);var _=d.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([u]),E=_.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),S=E.append("defs"),C=_.select("g");if(E.append("g").attr("class","nv-x nv-axis"),E.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),E.append("g").attr("class","nv-barsWrap"),E.append("g").attr("class","nv-legendWrap"),C.attr("transform","translate("+s.left+","+s.top+")"),h?(a.width(b),C.select(".nv-legendWrap").datum(u).call(a),l||a.height()===s.top||(s.top=a.height(),M=n.utils.availableHeight(f,d,s)),_.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")")):C.select(".nv-legendWrap").selectAll("*").remove(),v&&C.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),r.width(b).height(M),C.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled})).transition().call(r),S.append("clipPath").attr("id","nv-x-label-clip-"+r.id()).append("rect"),C.select("#nv-x-label-clip-"+r.id()+" rect").attr("width",t.rangeBand()*(m?2:1)).attr("height",16).attr("x",-t.rangeBand()/(m?1:2)),p){i.scale(t)._ticks(n.utils.calcTicksX(b/100,u)).tickSize(-M,0),C.select(".nv-x.nv-axis").attr("transform","translate(0,"+(e.range()[0]+(r.showValues()&&e.domain()[0]<0?16:0))+")"),C.select(".nv-x.nv-axis").call(i);var N=C.select(".nv-x.nv-axis").selectAll("g");m&&N.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),x&&N.selectAll(".tick text").attr("transform","rotate("+x+" 0,0)").style("text-anchor",x>0?"start":"end"),y&&C.selectAll(".tick text").call(n.utils.wrapTicks,A.xAxis.rangeBand())}g&&(o.scale(e)._ticks(n.utils.calcTicksY(M/36,u)).tickSize(-b,0),C.select(".nv-y.nv-axis").call(o)),C.select(".nv-zeroLine line").attr("x1",0).attr("x2",v?-b:b).attr("y1",e(0)).attr("y2",e(0))}),M.renderEnd("discreteBar chart immediate"),A}return r.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:A.x()(t.data),value:A.y()(t.data),color:t.color},u.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){u()}),A.dispatch=k,A.discretebar=r,A.legend=a,A.xAxis=i,A.yAxis=o,A.tooltip=u,A.options=n.utils.optionsFunc.bind(A),A._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return h},set:function(t){h=t}},staggerLabels:{get:function(){return m},set:function(t){m=t}},rotateLabels:{get:function(){return x},set:function(t){x=t}},wrapLabels:{get:function(){return y},set:function(t){y=!!t}},showXAxis:{get:function(){return p},set:function(t){p=t}},showYAxis:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return s},set:function(t){void 0!==t.top&&(s.top=t.top,l=t.top),s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return w},set:function(t){w=t,M.reset(w),r.duration(w),i.duration(w),o.duration(w)}},color:{get:function(){return d},set:function(t){d=n.utils.getColor(t),r.color(d),a.color(d)}},rightAlignYAxis:{get:function(){return v},set:function(t){v=t,o.orient(t?"right":"left")}}}),n.utils.inheritOptions(A,r),n.utils.initOptions(A),A},n.models.distribution=function(){var t,e={top:0,right:0,bottom:0,left:0},r=400,i=8,o="x",a=function(t){return t[o]},u=n.utils.defaultColor(),s=d3.scale.linear(),l=250,c=d3.dispatch("renderEnd"),f=n.utils.renderWatch(c,l);function d(r){return f.reset(),r.each(function(r){"x"===o?(e.left,e.right):(e.top,e.bottom);var l="x"==o?"y":"x",c=d3.select(this);n.utils.initSVG(c),t=t||s;var d=c.selectAll("g.nv-distribution").data([r]);d.enter().append("g").attr("class","nvd3 nv-distribution").append("g");var h=d.select("g");d.attr("transform","translate("+e.left+","+e.top+")");var p=h.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});p.enter().append("g"),p.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return u(t,e)});var g=p.selectAll("line.nv-dist"+o).data(function(t){return t.values});g.enter().append("line").attr(o+"1",function(e,n){return t(a(e,n))}).attr(o+"2",function(e,n){return t(a(e,n))}),f.transition(p.exit().selectAll("line.nv-dist"+o),"dist exit").attr(o+"1",function(t,e){return s(a(t,e))}).attr(o+"2",function(t,e){return s(a(t,e))}).style("stroke-opacity",0).remove(),g.attr("class",function(t,e){return"nv-dist"+o+" nv-dist"+o+"-"+e}).attr(l+"1",0).attr(l+"2",i),f.transition(g,"dist").attr(o+"1",function(t,e){return s(a(t,e))}).attr(o+"2",function(t,e){return s(a(t,e))}),t=s.copy()}),f.renderEnd("distribution immediate"),d}return d.options=n.utils.optionsFunc.bind(d),d.dispatch=c,d.margin=function(t){return arguments.length?(e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left,d):e},d.width=function(t){return arguments.length?(r=t,d):r},d.axis=function(t){return arguments.length?(o=t,d):o},d.size=function(t){return arguments.length?(i=t,d):i},d.getData=function(t){return arguments.length?(a=d3.functor(t),d):a},d.scale=function(t){return arguments.length?(s=t,d):s},d.color=function(t){return arguments.length?(u=n.utils.getColor(t),d):u},d.duration=function(t){return arguments.length?(l=t,f.reset(l),d):l},d},n.models.focus=function(t){var e,r,t=t||n.models.line(),i=n.models.axis(),o=n.models.axis(),a=d3.svg.brush(),u={top:10,right:0,bottom:30,left:0},s=n.utils.defaultColor(),l=null,c=70,f=!0,d=!1,h=!1,p=null,g=250,v=d3.dispatch("brush","onBrush","renderEnd"),m=!0;t.interactive(!1),t.pointActive(function(t){return!1});var y=n.utils.renderWatch(v,g);function x(b){return y.reset(),y.models(t),f&&y.models(i),d&&y.models(o),b.each(function(y){var b=d3.select(this);n.utils.initSVG(b);var k=n.utils.availableWidth(l,b,u),w=c-u.top-u.bottom;x.update=function(){0===g?b.call(x):b.transition().duration(g).call(x)},x.container=this,e=t.xScale(),r=t.yScale();var M=b.selectAll("g.nv-focus").data([y]),A=M.enter().append("g").attr("class","nvd3 nv-focus").append("g"),_=M.select("g");M.attr("transform","translate("+u.left+","+u.top+")"),A.append("g").attr("class","nv-background").append("rect"),A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis"),A.append("g").attr("class","nv-contentWrap"),A.append("g").attr("class","nv-brushBackground"),A.append("g").attr("class","nv-x nv-brush"),h&&_.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)"),_.select(".nv-background rect").attr("width",k).attr("height",w),t.width(k).height(w).color(y.map(function(t,e){return t.color||s(t,e)}).filter(function(t,e){return!y[e].disabled}));var E=_.select(".nv-contentWrap").datum(y.filter(function(t){return!t.disabled}));d3.transition(E).call(t),a.x(e).on("brush",function(){T(m)}),a.on("brushend",function(){m||v.onBrush(a.empty()?e.domain():a.extent())}),p&&a.extent(p);var S=_.select(".nv-brushBackground").selectAll("g").data([p||a.extent()]),C=S.enter().append("g");C.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",w),C.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",w);var N=_.select(".nv-x.nv-brush").call(a);function T(t){p=a.empty()?null:a.extent();var n=a.empty()?e.domain():a.extent();v.brush({extent:n,brush:a}),a.empty()||a.extent(p),S.data([a.empty()?e.domain():p]).each(function(t,n){var r=e(t[0])-e.range()[0],i=k-e(t[1]);d3.select(this).select(".left").attr("width",r<0?0:r),d3.select(this).select(".right").attr("x",e(t[1])).attr("width",i<0?0:i)}),t&&v.onBrush(n)}N.selectAll("rect").attr("height",w),N.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=w/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),T(!0),_.select(".nv-background rect").attr("width",k).attr("height",w),f&&(i.scale(e)._ticks(n.utils.calcTicksX(k/100,y)).tickSize(-w,0),_.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),d3.transition(_.select(".nv-x.nv-axis")).call(i)),d&&(o.scale(r)._ticks(n.utils.calcTicksY(w/36,y)).tickSize(-k,0),d3.transition(_.select(".nv-y.nv-axis")).call(o)),_.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")")}),y.renderEnd("focus immediate"),x}return x.dispatch=v,x.content=t,x.brush=a,x.xAxis=i,x.yAxis=o,x.options=n.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},showXAxis:{get:function(){return f},set:function(t){f=t}},showYAxis:{get:function(){return d},set:function(t){d=t}},brushExtent:{get:function(){return p},set:function(t){p=t}},syncBrushing:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return g},set:function(e){g=e,y.reset(g),t.duration(g),i.duration(g),o.duration(g)}},color:{get:function(){return s},set:function(e){s=n.utils.getColor(e),t.color(s)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return h},set:function(t){h=t,o.orient(h?"right":"left")}}}),n.utils.inheritOptions(x,t),n.utils.initOptions(x),x},n.models.forceDirectedGraph=function(){var t={top:2,right:0,bottom:2,left:0},e=400,r=32,i=null,o=d3.dispatch("renderEnd"),a=n.utils.getColor(["#000"]),u=n.models.tooltip(),s=null,l=.1,c=.9,f=30,d=-120,h=.1,p=.8,g=.1,v=5,m=function(t){},y=function(t){},x=d3.functor(0),b=d3.functor(0),k=n.utils.renderWatch(o);function w(o){return k.reset(),o.each(function(o){i=d3.select(this),n.utils.initSVG(i);var s=n.utils.availableWidth(e,i,t),x=n.utils.availableHeight(r,i,t);if(i.attr("width",s).attr("height",x),!o||!o.links||!o.nodes)return n.utils.noData(w,i),w;i.selectAll(".nv-noData").remove(),i.selectAll("*").remove();var b=new Set;o.nodes.forEach(function(t){Object.keys(t).forEach(function(t){b.add(t)})});var k=d3.layout.force().nodes(o.nodes).links(o.links).size([s,x]).linkStrength(l).friction(c).linkDistance(f).charge(d).gravity(h).theta(p).alpha(g).start(),M=i.selectAll(".link").data(o.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),A=i.selectAll(".node").data(o.nodes).enter().append("g").attr("class","nv-force-node").call(k.drag);A.append("circle").attr("r",v).style("fill",function(t){return a(t)}).on("mouseover",function(t){i.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),i.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=a(t);t.series=[],b.forEach(function(n){t.series.push({color:e,key:n,value:t[n]})}),u.data(t).hidden(!1)}).on("mouseout",function(t){u.hidden(!0)}),u.headerFormatter(function(t){return"Node"}),y(M),m(A),k.on("tick",function(){M.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),A.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),w}return w.options=n.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return r},set:function(t){r=t}},linkStrength:{get:function(){return l},set:function(t){l=t}},friction:{get:function(){return c},set:function(t){c=t}},linkDist:{get:function(){return f},set:function(t){f=t}},charge:{get:function(){return d},set:function(t){d=t}},gravity:{get:function(){return h},set:function(t){h=t}},theta:{get:function(){return p},set:function(t){p=t}},alpha:{get:function(){return g},set:function(t){g=t}},radius:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return x},set:function(t){x=d3.functor(t)}},y:{get:function(){return b},set:function(t){b=d3.functor(t)}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t)}},noData:{get:function(){return s},set:function(t){s=t}},nodeExtras:{get:function(){return m},set:function(t){m=t}},linkExtras:{get:function(){return y},set:function(t){y=t}}}),w.dispatch=o,w.tooltip=u,n.utils.initOptions(w),w},n.models.furiousLegend=function(){var t={top:5,right:0,bottom:5,left:0},e=400,r=20,i=function(t){return t.key},o=function(t){return t},a=n.utils.getColor(),u=20,s=!0,l=28,c=!0,f=!0,d=!1,h=!1,p=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),g="classic";function v(m){function y(t,e){return"furious"!=g?"#000":h?t.disengaged?a(t,e):"#fff":h?void 0:t.disabled?a(t,e):"#fff"}function x(t,e){return h&&"furious"==g?t.disengaged?"#fff":a(t,e):t.disabled?"#fff":a(t,e)}return m.each(function(v){var m=e-t.left-t.right,b=d3.select(this);n.utils.initSVG(b);var k=b.selectAll("g.nv-legend").data([v]);k.enter().append("g").attr("class","nvd3 nv-legend").append("g");var w=k.select("g");k.attr("transform","translate("+t.left+","+t.top+")");var M=w.selectAll(".nv-series").data(function(t){return"furious"!=g?t:t.filter(function(t){return!!h||!t.disengaged})}),A=M.enter().append("g").attr("class","nv-series");"classic"==g?(A.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),O=M.select("circle")):"furious"==g&&(A.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),O=M.select("rect"),A.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),M.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",y(t,e))})),A.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var _=M.select("text.nv-legend-text");switch(M.on("mouseover",function(t,e){p.legendMouseover(t,e)}).on("mouseout",function(t,e){p.legendMouseout(t,e)}).on("click",function(t,e){p.legendClick(t,e);var n=M.data();f&&("classic"==g?d?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==g&&(h?(t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):!h&&(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),p.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(("furious"!=g||!h)&&(p.legendDblclick(t,e),f)){var n=M.data();n.forEach(function(t){t.disabled=!0,"furious"==g&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==g&&(t.userDisabled=t.disabled),p.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),M.classed("nv-disabled",function(t){return t.userDisabled}),M.exit().remove(),_.attr("fill",y).text(function(t){return o(i(t))}),g){case"furious":L=23;break;case"classic":L=20}if(s){var E=[];M.each(function(t,e){if(o(i(t))&&o(i(t)).length>u){var r,a,s=o(i(t)).substring(0,u);r=d3.select(this).select("text").text(s+"..."),d3.select(this).append("svg:title").text(o(i(t)))}else r=d3.select(this).select("text");try{if((a=r.node().getComputedTextLength())<=0)throw Error()}catch(t){a=n.utils.calcApproxTextWidth(r)}E.push(a+l)});for(var S=0,C=0,N=[];C<m&&S<E.length;)N[S]=E[S],C+=E[S++];for(0===S&&(S=1);C>m&&S>1;){N=[],S--;for(var T=0;T<E.length;T++)E[T]>(N[T%S]||0)&&(N[T%S]=E[T]);C=N.reduce(function(t,e,n,r){return t+e})}for(var D=[],j=0,F=0;j<S;j++)D[j]=F,F+=N[j];M.attr("transform",function(t,e){return"translate("+D[e%S]+","+(5+Math.floor(e/S)*L)+")"}),c?w.attr("transform","translate("+(e-t.right-C)+","+t.top+")"):w.attr("transform","translate(0,"+t.top+")"),r=t.top+t.bottom+Math.ceil(E.length/S)*L}else{var O,L,P,W=5,I=5,z=0;M.attr("transform",function(n,r){var i=d3.select(this).select("text").node().getComputedTextLength()+l;return P=I,e<t.left+t.right+P+i&&(I=P=5,W+=L),(I+=i)>z&&(z=I),"translate("+P+","+W+")"}),w.attr("transform","translate("+(e-t.right-z)+","+t.top+")"),r=t.top+t.bottom+W+15}"furious"==g&&O.attr("width",function(t,e){return _[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),O.style("fill",x).style("stroke",function(t,e){return t.color||a(t,e)})}),v}return v.dispatch=p,v.options=n.utils.optionsFunc.bind(v),v._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return r},set:function(t){r=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return s},set:function(t){s=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return u},set:function(t){u=t}},padding:{get:function(){return l},set:function(t){l=t}},updateState:{get:function(){return f},set:function(t){f=t}},radioButtonMode:{get:function(){return d},set:function(t){d=t}},expanded:{get:function(){return h},set:function(t){h=t}},vers:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t)}}}),n.utils.initOptions(v),v},n.models.historicalBar=function(){var t,e,r,i,o={top:0,right:0,bottom:0,left:0},a=null,u=null,s=Math.floor(1e4*Math.random()),l=null,c=d3.scale.linear(),f=d3.scale.linear(),d=function(t){return t.x},h=function(t){return t.y},p=[],g=[0],v=!1,m=!0,y=n.utils.defaultColor(),x=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),b=!0,k=n.utils.renderWatch(x,0);function w(M){return M.each(function(w){k.reset(),l=d3.select(this);var M=n.utils.availableWidth(a,l,o),A=n.utils.availableHeight(u,l,o);n.utils.initSVG(l),c.domain(t||d3.extent(w[0].values.map(d).concat(p))),v?c.range(r||[.5*M/w[0].values.length,M*(w[0].values.length-.5)/w[0].values.length]):c.range(r||[0,M]),f.domain(e||d3.extent(w[0].values.map(h).concat(g))).range(i||[A,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var _=l.selectAll("g.nv-wrap.nv-historicalBar-"+s).data([w[0].values]),E=_.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+s),S=E.append("defs"),C=E.append("g"),N=_.select("g");C.append("g").attr("class","nv-bars"),_.attr("transform","translate("+o.left+","+o.top+")"),l.on("click",function(t,e){x.chartClick({data:t,index:e,pos:d3.event,id:s})}),S.append("clipPath").attr("id","nv-chart-clip-path-"+s).append("rect"),_.select("#nv-chart-clip-path-"+s+" rect").attr("width",M).attr("height",A),N.attr("clip-path",m?"url(#nv-chart-clip-path-"+s+")":"");var T=_.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return d(t,e)});T.exit().remove(),T.enter().append("rect").attr("x",0).attr("y",function(t,e){return n.utils.NaNtoZero(f(Math.max(0,h(t,e))))}).attr("height",function(t,e){return n.utils.NaNtoZero(Math.abs(f(h(t,e))-f(0)))}).attr("transform",function(t,e){return"translate("+(c(d(t,e))-M/w[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){b&&(d3.select(this).classed("hover",!0),x.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mouseout",function(t,e){b&&(d3.select(this).classed("hover",!1),x.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")}))}).on("mousemove",function(t,e){b&&x.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){b&&(x.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation())}).on("dblclick",function(t,e){b&&(x.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation())}),T.attr("fill",function(t,e){return y(t,e)}).attr("class",function(t,e,n){return(0>h(t,e)?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(k,"bars").attr("transform",function(t,e){return"translate("+(c(d(t,e))-M/w[0].values.length*.45)+",0)"}).attr("width",M/w[0].values.length*.9),T.watchTransition(k,"bars").attr("y",function(t,e){var r=0>h(t,e)?f(0):f(0)-f(h(t,e))<1?f(0)-1:f(h(t,e));return n.utils.NaNtoZero(r)}).attr("height",function(t,e){return n.utils.NaNtoZero(Math.max(Math.abs(f(h(t,e))-f(0)),1))})}),k.renderEnd("historicalBar immediate"),w}return w.highlightPoint=function(t,e){l.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},w.clearHighlights=function(){l.select(".nv-bars .nv-bar.hover").classed("hover",!1)},w.dispatch=x,w.options=n.utils.optionsFunc.bind(w),w._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},forceX:{get:function(){return p},set:function(t){p=t}},forceY:{get:function(){return g},set:function(t){g=t}},padData:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return h},set:function(t){h=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return i},set:function(t){i=t}},clipEdge:{get:function(){return m},set:function(t){m=t}},id:{get:function(){return s},set:function(t){s=t}},interactive:{get:function(){return b},set:function(t){b=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return y},set:function(t){y=n.utils.getColor(t)}}}),n.utils.initOptions(w),w},n.models.historicalBarChart=function(t){var e,r,i=t||n.models.historicalBar(),o=n.models.axis(),a=n.models.axis(),u=n.models.legend(),s=n.interactiveGuideline(),l=n.models.tooltip(),c={top:30,right:90,bottom:50,left:90},f=null,d=n.utils.defaultColor(),h=null,p=null,g=!1,v=!0,m=!0,y=!1,x=!1,b={},k=null,w=null,M=d3.dispatch("tooltipHide","stateChange","changeState","renderEnd"),A=250;o.orient("bottom").tickPadding(7),a.orient(y?"right":"left"),l.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return a.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)});var _=n.utils.renderWatch(M,0);function E(t){return t.each(function(l){_.reset(),_.models(i),v&&_.models(o),m&&_.models(a);var w,S=d3.select(this);n.utils.initSVG(S);var C=n.utils.availableWidth(h,S,c),N=n.utils.availableHeight(p,S,c);if(E.update=function(){S.transition().duration(A).call(E)},E.container=this,b.disabled=l.map(function(t){return!!t.disabled}),!k)for(w in k={},b)b[w]instanceof Array?k[w]=b[w].slice(0):k[w]=b[w];if(!l||!l.length||!l.filter(function(t){return t.values.length}).length)return n.utils.noData(E,S),E;S.selectAll(".nv-noData").remove(),e=i.xScale(),r=i.yScale();var T=S.selectAll("g.nv-wrap.nv-historicalBarChart").data([l]),D=T.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),j=T.select("g");D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-barsWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-interactive"),g?(u.width(C),j.select(".nv-legendWrap").datum(l).call(u),f||u.height()===c.top||(c.top=u.height(),N=n.utils.availableHeight(p,S,c)),T.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):j.select(".nv-legendWrap").selectAll("*").remove(),T.attr("transform","translate("+c.left+","+c.top+")"),y&&j.select(".nv-y.nv-axis").attr("transform","translate("+C+",0)"),x&&(s.width(C).height(N).margin({left:c.left,top:c.top}).svgContainer(S).xScale(e),T.select(".nv-interactive").call(s)),i.width(C).height(N).color(l.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!l[e].disabled})),j.select(".nv-barsWrap").datum(l.filter(function(t){return!t.disabled})).transition().call(i),v&&(o.scale(e)._ticks(n.utils.calcTicksX(C/100,l)).tickSize(-N,0),j.select(".nv-x.nv-axis").attr("transform","translate(0,"+r.range()[0]+")"),j.select(".nv-x.nv-axis").transition().call(o)),m&&(a.scale(r)._ticks(n.utils.calcTicksY(N/36,l)).tickSize(-C,0),j.select(".nv-y.nv-axis").transition().call(a)),s.dispatch.on("elementMousemove",function(t){i.clearHighlights();var e,r,u,c=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(o,a){r=n.interactiveBisect(o.values,t.pointXValue,E.x()),i.highlightPoint(r,!0);var s=o.values[r];void 0!==s&&(void 0===e&&(e=s),void 0===u&&(u=E.xScale()(E.x()(s,r))),c.push({key:o.key,value:E.y()(s,r),color:d(o,o.seriesIndex),data:o.values[r]}))});var f=o.tickFormat()(E.x()(e,r));s.tooltip.valueFormatter(function(t,e){return a.tickFormat()(t)}).data({value:f,index:r,series:c})(),s.renderGuideLine(u)}),s.dispatch.on("elementMouseout",function(t){M.tooltipHide(),i.clearHighlights()}),u.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,l.filter(function(t){return!t.disabled}).length||l.map(function(t){return t.disabled=!1,T.selectAll(".nv-series").classed("disabled",!1),t}),b.disabled=l.map(function(t){return!!t.disabled}),M.stateChange(b),t.transition().call(E)}),u.dispatch.on("legendDblclick",function(t){l.forEach(function(t){t.disabled=!0}),t.disabled=!1,b.disabled=l.map(function(t){return!!t.disabled}),M.stateChange(b),E.update()}),M.on("changeState",function(t){void 0!==t.disabled&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),b.disabled=t.disabled),E.update()})}),_.renderEnd("historicalBarChart immediate"),E}return i.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:E.x()(t.data),value:E.y()(t.data),color:t.color},l.data(t).hidden(!1)}),i.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),i.dispatch.on("elementMousemove.tooltip",function(t){l()}),E.dispatch=M,E.bars=i,E.legend=u,E.xAxis=o,E.yAxis=a,E.interactiveLayer=s,E.tooltip=l,E.options=n.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return v},set:function(t){v=t}},showYAxis:{get:function(){return m},set:function(t){m=t}},defaultState:{get:function(){return k},set:function(t){k=t}},noData:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,f=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return d},set:function(t){d=n.utils.getColor(t),u.color(d),i.color(d)}},duration:{get:function(){return A},set:function(t){A=t,_.reset(A),a.duration(A),o.duration(A)}},rightAlignYAxis:{get:function(){return y},set:function(t){y=t,a.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return x},set:function(t){x=t,!0===t&&E.interactive(!1)}}}),n.utils.inheritOptions(E,i),n.utils.initOptions(E),E},n.models.ohlcBarChart=function(){var t=n.models.historicalBarChart(n.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},n.models.candlestickBarChart=function(){var t=n.models.historicalBarChart(n.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data;return'<h3 style="color: #'+(n.open<n.close?"2ca02c":"d62728")+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},n.models.legend=function(){var t={top:5,right:0,bottom:5,left:0},e=400,r=20,i=function(t){return t.key},o=function(t){return t},a=n.utils.getColor(),u=20,s=!0,l=32,c=!0,f=!0,d=!0,h=!1,p=!1,g=d3.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),v="classic";function m(y){function x(t,e){return"furious"!=v?"#000":p?t.disengaged?"#000":"#fff":p?void 0:(t.color||(t.color=a(t,e)),t.disabled?t.color:"#fff")}function b(t,e){return p&&"furious"==v&&t.disengaged?"#eee":t.color||a(t,e)}function k(t,e){return p&&"furious"==v?1:t.disabled?0:1}return y.each(function(a){var m=e-t.left-t.right,y=d3.select(this);n.utils.initSVG(y);var w=y.selectAll("g.nv-legend").data([a]),M=w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),A=w.select("g");c?w.attr("transform","translate("+-t.right+","+t.top+")"):w.attr("transform","translate("+t.left+","+t.top+")");var _=A.selectAll(".nv-series").data(function(t){return"furious"!=v?t:t.filter(function(t){return!!p||!t.disengaged})}),E=_.enter().append("g").attr("class","nv-series");switch(v){case"furious":W=23;break;case"classic":W=20}"classic"==v?(E.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),P=_.select(".nv-legend-symbol")):"furious"==v&&(E.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),P=_.select(".nv-legend-symbol"),E.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)"),_.select(".nv-check-box").each(function(t,e){d3.select(this).selectAll("path").attr("stroke",x(t,e))})),E.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var S=_.select("text.nv-legend-text");_.on("mouseover",function(t,e){g.legendMouseover(t,e)}).on("mouseout",function(t,e){g.legendMouseout(t,e)}).on("click",function(t,e){g.legendClick(t,e);var n=_.data();f&&("classic"==v?h?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1})):"furious"==v&&(p?(t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled):!p&&(t.disabled=!t.disabled,t.userDisabled=t.disabled,n.filter(function(t){return!t.disengaged}).every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1}))),g.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})}))}).on("dblclick",function(t,e){if(d&&("furious"!=v||!p)&&(g.legendDblclick(t,e),f)){var n=_.data();n.forEach(function(t){t.disabled=!0,"furious"==v&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==v&&(t.userDisabled=t.disabled),g.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),_.classed("nv-disabled",function(t){return t.userDisabled}),_.exit().remove(),S.attr("fill",x).text(function(t){return o(i(t))});var C=0;if(s){var N=[];_.each(function(t,e){if(o(i(t))&&o(i(t)).length>u){var r,a,s=o(i(t)).substring(0,u);r=d3.select(this).select("text").text(s+"..."),d3.select(this).append("svg:title").text(o(i(t)))}else r=d3.select(this).select("text");try{if((a=r.node().getComputedTextLength())<=0)throw Error()}catch(t){a=n.utils.calcApproxTextWidth(r)}N.push(a+l)});var T=0,D=[];for(C=0;C<m&&T<N.length;)D[T]=N[T],C+=N[T++];for(0===T&&(T=1);C>m&&T>1;){D=[],T--;for(var j=0;j<N.length;j++)N[j]>(D[j%T]||0)&&(D[j%T]=N[j]);C=D.reduce(function(t,e,n,r){return t+e})}for(var F=[],O=0,L=0;O<T;O++)F[O]=L,L+=D[O];_.attr("transform",function(t,e){return"translate("+F[e%T]+","+(5+Math.floor(e/T)*W)+")"}),c?A.attr("transform","translate("+(e-t.right-C)+","+t.top+")"):A.attr("transform","translate(0,"+t.top+")"),r=t.top+t.bottom+Math.ceil(N.length/T)*W}else{var P,W,I,z=5,H=5,R=0;_.attr("transform",function(n,r){var i=d3.select(this).select("text").node().getComputedTextLength()+l;return I=H,e<t.left+t.right+I+i&&(H=I=5,z+=W),(H+=i)>R&&(R=H),C<I+R&&(C=I+R),"translate("+I+","+z+")"}),A.attr("transform","translate("+(e-t.right-R)+","+t.top+")"),r=t.top+t.bottom+z+15}"furious"==v&&(P.attr("width",function(t,e){return S[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),M.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0),A.select(".nv-legend-bg").transition().duration(300).attr("x",-W).attr("width",C+W-12).attr("height",r+10).attr("y",-t.top-10).attr("opacity",p?1:0)),P.style("fill",b).style("fill-opacity",k).style("stroke",b)}),m}return m.dispatch=g,m.options=n.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return r},set:function(t){r=t}},key:{get:function(){return i},set:function(t){i=t}},keyFormatter:{get:function(){return o},set:function(t){o=t}},align:{get:function(){return s},set:function(t){s=t}},maxKeyLength:{get:function(){return u},set:function(t){u=t}},rightAlign:{get:function(){return c},set:function(t){c=t}},padding:{get:function(){return l},set:function(t){l=t}},updateState:{get:function(){return f},set:function(t){f=t}},enableDoubleClick:{get:function(){return d},set:function(t){d=t}},radioButtonMode:{get:function(){return h},set:function(t){h=t}},expanded:{get:function(){return p},set:function(t){p=t}},vers:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t)}}}),n.utils.initOptions(m),m},n.models.line=function(){var t,e,r=n.models.scatter(),i={top:0,right:0,bottom:0,left:0},o=960,a=500,u=null,s=n.utils.defaultColor(),l=function(t){return t.x},c=function(t){return t.y},f=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},d=function(t){return t.area},h=!1,p="linear",g=250,v=d3.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");r.pointSize(16).pointDomain([16,256]);var m,y,x=n.utils.renderWatch(v,g);function b(g){return x.reset(),x.models(r),g.each(function(g){u=d3.select(this);var v=n.utils.availableWidth(o,u,i),b=n.utils.availableHeight(a,u,i);n.utils.initSVG(u),t=r.xScale(),e=r.yScale(),m=m||t,y=y||e;var k=u.selectAll("g.nv-wrap.nv-line").data([g]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),M=w.append("defs"),A=w.append("g"),_=k.select("g");A.append("g").attr("class","nv-groups"),A.append("g").attr("class","nv-scatterWrap"),k.attr("transform","translate("+i.left+","+i.top+")"),r.width(v).height(b);var E=k.select(".nv-scatterWrap");E.call(r),M.append("clipPath").attr("id","nv-edge-clip-"+r.id()).append("rect"),k.select("#nv-edge-clip-"+r.id()+" rect").attr("width",v).attr("height",b>0?b:0),_.attr("clip-path",h?"url(#nv-edge-clip-"+r.id()+")":""),E.attr("clip-path",h?"url(#nv-edge-clip-"+r.id()+")":"");var S=k.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});S.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||1.5}).style("fill-opacity",1e-6),S.exit().remove(),S.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return s(t,e)}).style("stroke",function(t,e){return s(t,e)}),S.watchTransition(x,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var C=S.selectAll("path.nv-area").data(function(t){return d(t)?[t]:[]});C.enter().append("path").attr("class","nv-area").attr("d",function(t){return d3.svg.area().interpolate(p).defined(f).x(function(t,e){return n.utils.NaNtoZero(m(l(t,e)))}).y0(function(t,e){return n.utils.NaNtoZero(y(c(t,e)))}).y1(function(t,n){return y(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[t.values])}),S.exit().selectAll("path.nv-area").remove(),C.watchTransition(x,"line: areaPaths").attr("d",function(r){return d3.svg.area().interpolate(p).defined(f).x(function(e,r){return n.utils.NaNtoZero(t(l(e,r)))}).y0(function(t,r){return n.utils.NaNtoZero(e(c(t,r)))}).y1(function(t,n){return e(e.domain()[0]<=0?e.domain()[1]>=0?0:e.domain()[1]:e.domain()[0])}).apply(this,[r.values])});var N=S.selectAll("path.nv-line").data(function(t){return[t.values]});N.enter().append("path").attr("class","nv-line").attr("d",d3.svg.line().interpolate(p).defined(f).x(function(t,e){return n.utils.NaNtoZero(m(l(t,e)))}).y(function(t,e){return n.utils.NaNtoZero(y(c(t,e)))})),N.watchTransition(x,"line: linePaths").attr("d",d3.svg.line().interpolate(p).defined(f).x(function(e,r){return n.utils.NaNtoZero(t(l(e,r)))}).y(function(t,r){return n.utils.NaNtoZero(e(c(t,r)))})),m=t.copy(),y=e.copy()}),x.renderEnd("line immediate"),b}return b.dispatch=v,b.scatter=r,r.dispatch.on("elementClick",function(){v.elementClick.apply(this,arguments)}),r.dispatch.on("elementMouseover",function(){v.elementMouseover.apply(this,arguments)}),r.dispatch.on("elementMouseout",function(){v.elementMouseout.apply(this,arguments)}),b.options=n.utils.optionsFunc.bind(b),b._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},defined:{get:function(){return f},set:function(t){f=t}},interpolate:{get:function(){return p},set:function(t){p=t}},clipEdge:{get:function(){return h},set:function(t){h=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},duration:{get:function(){return g},set:function(t){g=t,x.reset(g),r.duration(g)}},isArea:{get:function(){return d},set:function(t){d=d3.functor(t)}},x:{get:function(){return l},set:function(t){l=t,r.x(t)}},y:{get:function(){return c},set:function(t){c=t,r.y(t)}},color:{get:function(){return s},set:function(t){s=n.utils.getColor(t),r.color(s)}}}),n.utils.inheritOptions(b,r),n.utils.initOptions(b),b},n.models.lineChart=function(){var t,e,r=n.models.line(),i=n.models.axis(),o=n.models.axis(),a=n.models.legend(),u=n.interactiveGuideline(),s=n.models.tooltip(),l=n.models.focus(n.models.line()),c={top:30,right:20,bottom:50,left:60},f=null,d=n.utils.defaultColor(),h=null,p=null,g=!0,v="top",m=!0,y=!0,x=!1,b=!1,k=!1,w=n.utils.state(),M=null,A=null,_=d3.dispatch("stateChange","changeState","renderEnd"),E=250;i.orient("bottom").tickPadding(7),o.orient(x?"right":"left"),r.clipEdge(!0).duration(0),s.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),u.tooltip.valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)});var S=n.utils.renderWatch(_,E);function C(s){return S.reset(),S.models(r),m&&S.models(i),y&&S.models(o),s.each(function(s){var A,S=d3.select(this);n.utils.initSVG(S);var N=n.utils.availableWidth(h,S,c),T=n.utils.availableHeight(p,S,c)-(k?l.height():0);if(C.update=function(){0===E?S.call(C):S.transition().duration(E).call(C)},C.container=this,w.setter(function(t){void 0!==t.active&&s.forEach(function(e,n){e.disabled=!t.active[n]})},C.update).getter(function(){return{active:s.map(function(t){return!t.disabled})}}).update(),w.disabled=s.map(function(t){return!!t.disabled}),!M)for(A in M={},w)w[A]instanceof Array?M[A]=w[A].slice(0):M[A]=w[A];if(!s||!s.length||!s.filter(function(t){return t.values.length}).length)return n.utils.noData(C,S),C;S.selectAll(".nv-noData").remove(),l.dispatch.on("onBrush",function(t){z(t)}),t=r.xScale(),e=r.yScale();var D=S.selectAll("g.nv-wrap.nv-lineChart").data([s]),j=D.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),F=D.select("g");j.append("g").attr("class","nv-legendWrap");var O=j.append("g").attr("class","nv-focus");O.append("g").attr("class","nv-background").append("rect"),O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-linesWrap"),O.append("g").attr("class","nv-interactive"),j.append("g").attr("class","nv-focusWrap"),g?(a.width(N),F.select(".nv-legendWrap").datum(s).call(a),"bottom"===v?(c.bottom=i.height()+a.height(),T=n.utils.availableHeight(p,S,c),F.select(".nv-legendWrap").attr("transform","translate(0,"+(T+i.height())+")")):"top"===v&&(f||a.height()===c.top||(c.top=a.height(),T=n.utils.availableHeight(p,S,c)-(k?l.height():0)),D.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")"))):F.select(".nv-legendWrap").selectAll("*").remove(),D.attr("transform","translate("+c.left+","+c.top+")"),x&&F.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),b&&(u.width(N).height(T).margin({left:c.left,top:c.top}).svgContainer(S).xScale(t),D.select(".nv-interactive").call(u)),F.select(".nv-focus .nv-background rect").attr("width",N).attr("height",T),r.width(N).height(T).color(s.map(function(t,e){return t.color||d(t,e)}).filter(function(t,e){return!s[e].disabled}));var L=F.select(".nv-linesWrap").datum(s.filter(function(t){return!t.disabled}));function P(){m&&F.select(".nv-focus .nv-x.nv-axis").transition().duration(E).call(i)}function W(){y&&F.select(".nv-focus .nv-y.nv-axis").transition().duration(E).call(o)}if(m&&i.scale(t)._ticks(n.utils.calcTicksX(N/100,s)).tickSize(-T,0),y&&o.scale(e)._ticks(n.utils.calcTicksY(T/36,s)).tickSize(-N,0),F.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+T+")"),k||null!==l.brush.extent()){l.width(N),F.select(".nv-focusWrap").style("display",k?"initial":"none").attr("transform","translate(0,"+(T+c.bottom+l.margin().top)+")").call(l);var I=l.brush.empty()?l.xDomain():l.brush.extent();null!==I&&z(I)}else L.call(r),P(),W();function z(t){F.select(".nv-focus .nv-linesWrap").datum(s.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,n){return r.x()(e,n)>=t[0]&&r.x()(e,n)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(E).call(r),P(),W()}a.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];_.stateChange(w),C.update()}),u.dispatch.on("elementMousemove",function(e){r.clearHighlights();var i,a,c,f=[];if(s.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(o,u){var s=null!==l.brush.extent()?l.brush.empty()?l.xScale().domain():l.brush.extent():t.domain(),h=o.values.filter(function(t,e){return s[0]<=s[1]?r.x()(t,e)>=s[0]&&r.x()(t,e)<=s[1]:r.x()(t,e)>=s[1]&&r.x()(t,e)<=s[0]});a=n.interactiveBisect(h,e.pointXValue,r.x());var p=h[a],g=C.y()(p,a);null!==g&&r.highlightPoint(u,a,!0),void 0!==p&&(void 0===i&&(i=p),void 0===c&&(c=C.xScale()(C.x()(p,a))),f.push({key:o.key,value:g,color:d(o,o.seriesIndex),data:p}))}),f.length>2){var h=C.yScale().invert(e.mouseY),p=Math.abs(C.yScale().domain()[0]-C.yScale().domain()[1]),g=n.nearestValueIndex(f.map(function(t){return t.value}),h,.03*p);null!==g&&(f[g].highlight=!0)}u.tooltip.valueFormatter(u.tooltip.valueFormatter()||function(t,e){return null==t?"N/A":o.tickFormat()(t)}).data({value:C.x()(i,a),index:a,series:f})(),u.renderGuideLine(c)}),u.dispatch.on("elementClick",function(t){var e,i=[];s.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(r){var o=n.interactiveBisect(r.values,t.pointXValue,C.x()),a=r.values[o];if(void 0!==a){void 0===e&&(e=C.xScale()(C.x()(a,o)));var u=C.yScale()(C.y()(a,o));i.push({point:a,pointIndex:o,pos:[e,u],seriesIndex:r.seriesIndex,series:r})}}),r.dispatch.elementClick(i)}),u.dispatch.on("elementMouseout",function(t){r.clearHighlights()}),_.on("changeState",function(t){void 0!==t.disabled&&s.length===t.disabled.length&&(s.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),C.update()})}),S.renderEnd("lineChart immediate"),C}return r.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||s.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){s.hidden(!0)}),C.dispatch=_,C.lines=r,C.legend=a,C.focus=l,C.xAxis=i,C.x2Axis=l.xAxis,C.yAxis=o,C.y2Axis=l.yAxis,C.interactiveLayer=u,C.tooltip=s,C.state=w,C.dispatch=_,C.options=n.utils.optionsFunc.bind(C),C._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return g},set:function(t){g=t}},legendPosition:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return A},set:function(t){A=t}},focusEnable:{get:function(){return k},set:function(t){k=t}},focusHeight:{get:function(){return l.height()},set:function(t){l.height(t)}},focusShowAxisX:{get:function(){return l.showXAxis()},set:function(t){l.showXAxis(t)}},focusShowAxisY:{get:function(){return l.showYAxis()},set:function(t){l.showYAxis(t)}},brushExtent:{get:function(){return l.brushExtent()},set:function(t){l.brushExtent(t)}},focusMargin:{get:function(){return l.margin},set:function(t){void 0!==t.top&&(c.top=t.top,f=t.top),l.margin.right=void 0!==t.right?t.right:l.margin.right,l.margin.bottom=void 0!==t.bottom?t.bottom:l.margin.bottom,l.margin.left=void 0!==t.left?t.left:l.margin.left}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return E},set:function(t){E=t,S.reset(E),r.duration(E),l.duration(E),i.duration(E),o.duration(E)}},color:{get:function(){return d},set:function(t){d=n.utils.getColor(t),a.color(d),r.color(d),l.color(d)}},interpolate:{get:function(){return r.interpolate()},set:function(t){r.interpolate(t),l.interpolate(t)}},xTickFormat:{get:function(){return i.tickFormat()},set:function(t){i.tickFormat(t),l.xTickFormat(t)}},yTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),l.yTickFormat(t)}},x:{get:function(){return r.x()},set:function(t){r.x(t),l.x(t)}},y:{get:function(){return r.y()},set:function(t){r.y(t),l.y(t)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,o.orient(x?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){(b=t)&&(r.interactive(!1),r.useVoronoi(!1))}}}),n.utils.inheritOptions(C,r),n.utils.initOptions(C),C},n.models.lineWithFocusChart=function(){return n.models.lineChart().margin({bottom:30}).focusEnable(!0)},n.models.linePlusBarChart=function(){var t,e,r,i,o,a,u,s=n.models.line(),l=n.models.line(),c=n.models.historicalBar(),f=n.models.historicalBar(),d=n.models.axis(),h=n.models.axis(),p=n.models.axis(),g=n.models.axis(),v=n.models.axis(),m=n.models.axis(),y=n.models.legend(),x=d3.svg.brush(),b=n.models.tooltip(),k={top:30,right:30,bottom:30,left:60},w=null,M={top:0,right:30,bottom:20,left:60},A=null,_=null,E=function(t){return t.x},S=function(t){return t.y},C=n.utils.defaultColor(),N=!0,T=!0,D=!1,j=!0,F=50,O=null,L=null,P=d3.dispatch("brush","stateChange","changeState"),W=0,I=n.utils.state(),z=null,H=" (left axis)",R=" (right axis)",B=!1;s.clipEdge(!0),l.interactive(!1),l.pointActive(function(t){return!1}),d.orient("bottom").tickPadding(5),p.orient("left"),g.orient("right"),h.orient("bottom").tickPadding(5),v.orient("left"),m.orient("right"),b.headerEnabled(!0).headerFormatter(function(t,e){return d.tickFormat()(t,e)});var q=function(t){return t.every(function(t){return t.disabled})};function V(b){return b.each(function(b){var L,U=d3.select(this);n.utils.initSVG(U);var G=n.utils.availableWidth(A,U,k),Y=n.utils.availableHeight(_,U,k)-(T?F:0),X=F-M.top-M.bottom;if(V.update=function(){U.transition().duration(W).call(V)},V.container=this,I.setter(function(t){void 0!==t.active&&b.forEach(function(e,n){e.disabled=!t.active[n]})},V.update).getter(function(){return{active:b.map(function(t){return!t.disabled})}}).update(),I.disabled=b.map(function(t){return!!t.disabled}),!z)for(L in z={},I)I[L]instanceof Array?z[L]=I[L].slice(0):z[L]=I[L];if(!b||!b.length||!b.filter(function(t){return t.values.length}).length)return n.utils.noData(V,U),V;U.selectAll(".nv-noData").remove();var Z=b.filter(function(t){return!t.disabled&&t.bar}),J=b.filter(function(t){return!t.bar});e=Z.length&&!B?c.xScale():s.xScale(),r=h.scale(),i=B?s.yScale():c.yScale(),o=B?c.yScale():s.yScale(),a=B?l.yScale():f.yScale(),u=B?f.yScale():l.yScale();var Q=b.filter(function(t){return!t.disabled&&(B?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:E(t,e),y:S(t,e)}})}),K=b.filter(function(t){return!t.disabled&&(B?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:E(t,e),y:S(t,e)}})});e.range([0,G]),r.domain(d3.extent(d3.merge(Q.concat(K)),function(t){return t.x})).range([0,G]);var tt=U.selectAll("g.nv-wrap.nv-linePlusBar").data([b]),te=tt.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),tn=tt.select("g");te.append("g").attr("class","nv-legendWrap");var tr=te.append("g").attr("class","nv-focus");tr.append("g").attr("class","nv-x nv-axis"),tr.append("g").attr("class","nv-y1 nv-axis"),tr.append("g").attr("class","nv-y2 nv-axis"),tr.append("g").attr("class","nv-barsWrap"),tr.append("g").attr("class","nv-linesWrap");var ti=te.append("g").attr("class","nv-context");if(ti.append("g").attr("class","nv-x nv-axis"),ti.append("g").attr("class","nv-y1 nv-axis"),ti.append("g").attr("class","nv-y2 nv-axis"),ti.append("g").attr("class","nv-barsWrap"),ti.append("g").attr("class","nv-linesWrap"),ti.append("g").attr("class","nv-brushBackground"),ti.append("g").attr("class","nv-x nv-brush"),N){var to=y.align()?G/2:G,ta=y.align()?to:0;y.width(to),tn.select(".nv-legendWrap").datum(b.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,B?t.key=t.originalKey+(t.bar?R:H):t.key=t.originalKey+(t.bar?H:R),t})).call(y),w||y.height()===k.top||(k.top=y.height(),Y=n.utils.availableHeight(_,U,k)-F),tn.select(".nv-legendWrap").attr("transform","translate("+ta+","+-k.top+")")}else tn.select(".nv-legendWrap").selectAll("*").remove();tt.attr("transform","translate("+k.left+","+k.top+")"),tn.select(".nv-context").style("display",T?"initial":"none"),f.width(G).height(X).color(b.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),l.width(G).height(X).color(b.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var tu=tn.select(".nv-context .nv-barsWrap").datum(Z.length?Z:[{values:[]}]),ts=tn.select(".nv-context .nv-linesWrap").datum(q(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}));tn.select(".nv-context").attr("transform","translate(0,"+(Y+k.bottom+M.top)+")"),tu.transition().call(f),ts.transition().call(l),j&&(h._ticks(n.utils.calcTicksX(G/100,b)).tickSize(-X,0),tn.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),tn.select(".nv-context .nv-x.nv-axis").transition().call(h)),D&&(v.scale(a)._ticks(X/36).tickSize(-G,0),m.scale(u)._ticks(X/36).tickSize(Z.length?0:-G,0),tn.select(".nv-context .nv-y3.nv-axis").style("opacity",Z.length?1:0).attr("transform","translate(0,"+r.range()[0]+")"),tn.select(".nv-context .nv-y2.nv-axis").style("opacity",J.length?1:0).attr("transform","translate("+r.range()[1]+",0)"),tn.select(".nv-context .nv-y1.nv-axis").transition().call(v),tn.select(".nv-context .nv-y2.nv-axis").transition().call(m)),x.x(r).on("brush",td),O&&x.extent(O);var tl=tn.select(".nv-brushBackground").selectAll("g").data([O||x.extent()]),tc=tl.enter().append("g");tc.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",X),tc.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",X);var tf=tn.select(".nv-x.nv-brush").call(x);function td(){O=x.empty()?null:x.extent(),t=x.empty()?r.domain():x.extent(),P.brush({extent:t,brush:x}),x.empty()||x.extent(O),tl.data([x.empty()?r.domain():O]).each(function(t,e){var n=r(t[0])-r.range()[0],i=r.range()[1]-r(t[1]);d3.select(this).select(".left").attr("width",n<0?0:n),d3.select(this).select(".right").attr("x",r(t[1])).attr("width",i<0?0:i)}),c.width(G).height(Y).color(b.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!b[e].disabled&&b[e].bar})),s.width(G).height(Y).color(b.map(function(t,e){return t.color||C(t,e)}).filter(function(t,e){return!b[e].disabled&&!b[e].bar}));var a=tn.select(".nv-focus .nv-barsWrap").datum(Z.length?Z.map(function(e,n){return{key:e.key,values:e.values.filter(function(e,n){return c.x()(e,n)>=t[0]&&c.x()(e,n)<=t[1]})}}):[{values:[]}]),u=tn.select(".nv-focus .nv-linesWrap").datum(q(J)?[{values:[]}]:J.filter(function(t){return!t.disabled}).map(function(e,n){return{area:e.area,fillOpacity:e.fillOpacity,strokeWidth:e.strokeWidth,key:e.key,values:e.values.filter(function(e,n){return s.x()(e,n)>=t[0]&&s.x()(e,n)<=t[1]})}}));e=Z.length&&!B?c.xScale():s.xScale(),d.scale(e)._ticks(n.utils.calcTicksX(G/100,b)).tickSize(-Y,0),d.domain([Math.ceil(t[0]),Math.floor(t[1])]),tn.select(".nv-x.nv-axis").transition().duration(W).call(d),a.transition().duration(W).call(c),u.transition().duration(W).call(s),tn.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+i.range()[0]+")"),p.scale(i)._ticks(n.utils.calcTicksY(Y/36,b)).tickSize(-G,0),g.scale(o)._ticks(n.utils.calcTicksY(Y/36,b)),B?g.tickSize(J.length?0:-G,0):g.tickSize(Z.length?0:-G,0);var l=Z.length?1:0,f=J.length&&!q(J)?1:0,h=B?f:l,v=B?l:f;tn.select(".nv-focus .nv-y1.nv-axis").style("opacity",h),tn.select(".nv-focus .nv-y2.nv-axis").style("opacity",v).attr("transform","translate("+e.range()[1]+",0)"),tn.select(".nv-focus .nv-y1.nv-axis").transition().duration(W).call(p),tn.select(".nv-focus .nv-y2.nv-axis").transition().duration(W).call(g)}tf.selectAll("rect").attr("height",X),tf.selectAll(".resize").append("path").attr("d",function(t){var e=+("e"==t),n=e?1:-1,r=X/3;return"M"+.5*n+","+r+"A6,6 0 0 "+e+" "+6.5*n+","+(r+6)+"V"+(2*r-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*r+"ZM"+2.5*n+","+(r+8)+"V"+(2*r-8)+"M"+4.5*n+","+(r+8)+"V"+(2*r-8)}),y.dispatch.on("stateChange",function(t){for(var e in t)I[e]=t[e];P.stateChange(I),V.update()}),P.on("changeState",function(t){void 0!==t.disabled&&(b.forEach(function(e,n){e.disabled=t.disabled[n]}),I.disabled=t.disabled),V.update()}),td()}),V}return s.dispatch.on("elementMouseover.tooltip",function(t){b.duration(100).valueFormatter(function(t,e){return(B?{main:p,focus:v}:{main:g,focus:m}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),s.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),c.dispatch.on("elementMouseover.tooltip",function(t){t.value=V.x()(t.data),t.series={value:V.y()(t.data),color:t.color},b.duration(0).valueFormatter(function(t,e){return(B?{main:g,focus:m}:{main:p,focus:v}).main.tickFormat()(t,e)}).data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){b.hidden(!0)}),c.dispatch.on("elementMousemove.tooltip",function(t){b()}),V.dispatch=P,V.legend=y,V.lines=s,V.lines2=l,V.bars=c,V.bars2=f,V.xAxis=d,V.x2Axis=h,V.y1Axis=p,V.y2Axis=g,V.y3Axis=v,V.y4Axis=m,V.tooltip=b,V.options=n.utils.optionsFunc.bind(V),V._options=Object.create({},{width:{get:function(){return A},set:function(t){A=t}},height:{get:function(){return _},set:function(t){_=t}},showLegend:{get:function(){return N},set:function(t){N=t}},brushExtent:{get:function(){return O},set:function(t){O=t}},noData:{get:function(){return L},set:function(t){L=t}},focusEnable:{get:function(){return T},set:function(t){T=t}},focusHeight:{get:function(){return F},set:function(t){F=t}},focusShowAxisX:{get:function(){return j},set:function(t){j=t}},focusShowAxisY:{get:function(){return D},set:function(t){D=t}},legendLeftAxisHint:{get:function(){return H},set:function(t){H=t}},legendRightAxisHint:{get:function(){return R},set:function(t){R=t}},margin:{get:function(){return k},set:function(t){void 0!==t.top&&(k.top=t.top,w=t.top),k.right=void 0!==t.right?t.right:k.right,k.bottom=void 0!==t.bottom?t.bottom:k.bottom,k.left=void 0!==t.left?t.left:k.left}},focusMargin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},duration:{get:function(){return W},set:function(t){W=t}},color:{get:function(){return C},set:function(t){C=n.utils.getColor(t),y.color(C)}},x:{get:function(){return E},set:function(t){E=t,s.x(t),l.x(t),c.x(t),f.x(t)}},y:{get:function(){return S},set:function(t){S=t,s.y(t),l.y(t),c.y(t),f.y(t)}},switchYAxisOrder:{get:function(){return B},set:function(t){if(B!==t){var e=p;p=g,g=e;var n=v;v=m,m=n}B=t,p.orient("left"),g.orient("right"),v.orient("left"),m.orient("right")}}}),n.utils.inheritOptions(V,s),n.utils.initOptions(V),V},n.models.multiBar=function(){var t,e,r,i,o,a,u,s={top:0,right:0,bottom:0,left:0},l=960,c=500,f=d3.scale.ordinal(),d=d3.scale.linear(),h=Math.floor(1e4*Math.random()),p=null,g=function(t){return t.x},v=function(t){return t.y},m=[0],y=!0,x=!1,b="zero",k=n.utils.defaultColor(),w=!1,M=null,A=500,_=.1,E=.75,S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=n.utils.renderWatch(S,A),N=0;function T(D){return C.reset(),D.each(function(T){var D=l-s.left-s.right,j=c-s.top-s.bottom;p=d3.select(this),n.utils.initSVG(p);var F=0;if(w&&T.length&&(w=[{values:T[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),x){var O=d3.layout.stack().offset(b).values(function(t){return t.values}).y(v)(!T.length&&w?w:T);O.forEach(function(t,e){t.nonStackable?(T[e].nonStackableSeries=F++,O[e]=T[e]):e>0&&O[e-1].nonStackable&&O[e].values.map(function(t,n){t.y0-=O[e-1].values[n].y,t.y1=t.y0+t.y})}),T=O}T.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),x&&T.length>0&&T[0].values.map(function(t,e){var n=0,r=0;T.map(function(t,i){if(!T[i].nonStackable){var o=t.values[e];o.size=Math.abs(o.y),o.y<0?(o.y1=r,r-=o.size):(o.y1=o.size+n,n+=o.size)}})});var L=e&&r?[]:T.map(function(t,e){return t.values.map(function(t,n){return{x:g(t,n),y:v(t,n),y0:t.y0,y1:t.y1,idx:e}})});f.domain(e||d3.merge(L).map(function(t){return t.x})).rangeBands(i||[0,D],_),d.domain(r||d3.extent(d3.merge(L).map(function(t){var e=t.y;return x&&!T[t.idx].nonStackable&&(e=t.y>0?t.y1:t.y1+t.y),e}).concat(m))).range(o||[j,0]),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]+.01*d.domain()[0],d.domain()[1]-.01*d.domain()[1]]):d.domain([-1,1])),a=a||f,u=u||d;var P=p.selectAll("g.nv-wrap.nv-multibar").data([T]),W=P.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),I=W.append("defs"),z=W.append("g"),H=P.select("g");z.append("g").attr("class","nv-groups"),P.attr("transform","translate("+s.left+","+s.top+")"),I.append("clipPath").attr("id","nv-edge-clip-"+h).append("rect"),P.select("#nv-edge-clip-"+h+" rect").attr("width",D).attr("height",j),H.attr("clip-path",y?"url(#nv-edge-clip-"+h+")":"");var R=P.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});R.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var B=C.transition(R.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,A)).attr("y",function(t,e,n){var r=u(0)||0;return x&&T[t.series]&&!T[t.series].nonStackable&&(r=u(t.y0)),r}).attr("height",0).remove();B.delay&&B.delay(function(t,e){return A/(N+1)*e-e}),R.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),R.style("stroke-opacity",1).style("fill-opacity",E);var q=R.selectAll("rect.nv-bar").data(function(t){return w&&!T.length?w.values:t.values});q.exit().remove(),q.enter().append("rect").attr("class",function(t,e){return 0>v(t,e)?"nv-bar negative":"nv-bar positive"}).attr("x",function(t,e,n){return x&&!T[n].nonStackable?0:n*f.rangeBand()/T.length}).attr("y",function(t,e,n){return u(x&&!T[n].nonStackable?t.y0:0)||0}).attr("height",0).attr("width",function(t,e,n){return f.rangeBand()/(x&&!T[n].nonStackable?1:T.length)}).attr("transform",function(t,e){return"translate("+f(g(t,e))+",0)"}),q.style("fill",function(t,e,n){return k(t,n,e)}).style("stroke",function(t,e,n){return k(t,n,e)}).on("mouseover",function(t,e,n){d3.select(this).classed("hover",!0),S.elementMouseover({data:t,index:e,series:T[n],color:d3.select(this).style("fill")})}).on("mouseout",function(t,e,n){d3.select(this).classed("hover",!1),S.elementMouseout({data:t,index:e,series:T[n],color:d3.select(this).style("fill")})}).on("mousemove",function(t,e,n){S.elementMousemove({data:t,index:e,series:T[n],color:d3.select(this).style("fill")})}).on("click",function(t,e,n){S.elementClick({data:t,index:e,series:T[n],color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e,n){S.elementDblClick({data:t,index:e,series:T[n],color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),q.attr("class",function(t,e){return 0>v(t,e)?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+f(g(t,e))+",0)"}),M&&(t||(t=T.map(function(){return!0})),q.style("fill",function(e,n,r){return d3.rgb(M(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()}).style("stroke",function(e,n,r){return d3.rgb(M(e,n)).darker(t.map(function(t,e){return e}).filter(function(e,n){return!t[n]})[r]).toString()}));var V=q.watchTransition(C,"multibar",Math.min(250,A)).delay(function(t,e){return e*A/T[0].values.length});x?V.attr("y",function(t,e,n){return T[n].nonStackable?0>v(t,e)?d(0):d(0)-d(v(t,e))<-1?d(0)-1:d(v(t,e))||0:d(t.y1)}).attr("height",function(t,e,n){return T[n].nonStackable?Math.max(Math.abs(d(v(t,e))-d(0)),0)||0:Math.max(Math.abs(d(t.y+t.y0)-d(t.y0)),0)}).attr("x",function(t,e,n){var r=0;return T[n].nonStackable&&(r=t.series*f.rangeBand()/T.length,T.length!==F&&(r=T[n].nonStackableSeries*f.rangeBand()/(2*F))),r}).attr("width",function(t,e,n){if(!T[n].nonStackable)return f.rangeBand();var r=f.rangeBand()/F;return T.length!==F&&(r=f.rangeBand()/(2*F)),r}):V.attr("x",function(t,e){return t.series*f.rangeBand()/T.length}).attr("width",f.rangeBand()/T.length).attr("y",function(t,e){return 0>v(t,e)?d(0):d(0)-d(v(t,e))<1?d(0)-1:d(v(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(d(v(t,e))-d(0)),1)||0}),a=f.copy(),u=d.copy(),T[0]&&T[0].values&&(N=T[0].values.length)}),C.renderEnd("multibar immediate"),T}return T.dispatch=S,T.options=n.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return d},set:function(t){d=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return r},set:function(t){r=t}},xRange:{get:function(){return i},set:function(t){i=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceY:{get:function(){return m},set:function(t){m=t}},stacked:{get:function(){return x},set:function(t){x=t}},stackOffset:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},disabled:{get:function(){return t},set:function(e){t=e}},id:{get:function(){return h},set:function(t){h=t}},hideable:{get:function(){return w},set:function(t){w=t}},groupSpacing:{get:function(){return _},set:function(t){_=t}},fillOpacity:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return A},set:function(t){A=t,C.reset(A)}},color:{get:function(){return k},set:function(t){k=n.utils.getColor(t)}},barColor:{get:function(){return M},set:function(t){M=t?n.utils.getColor(t):null}}}),n.utils.initOptions(T),T},n.models.multiBarChart=function(){var t,e,r=n.models.multiBar(),i=n.models.axis(),o=n.models.axis(),a=n.interactiveGuideline(),u=n.models.legend(),s=n.models.legend(),l=n.models.tooltip(),c={top:30,right:20,bottom:50,left:60},f=null,d=null,h=null,p=n.utils.defaultColor(),g=!0,v={},m=!0,y=null,x=!0,b=!0,k=!1,w=!0,M=!1,A=!1,_=0,E=n.utils.state(),S=null,C=null,N=d3.dispatch("stateChange","changeState","renderEnd"),T=function(){return g?180:0},D=250,j=!1;E.stacked=!1,r.stacked(!1),i.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),o.orient(k?"right":"left").tickFormat(d3.format(",.1f")),l.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),a.tooltip.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),s.updateState(!1);var F=n.utils.renderWatch(N),O=!1;function L(C){return F.reset(),F.models(r),x&&F.models(i),b&&F.models(o),C.each(function(C){var F,P=d3.select(this);n.utils.initSVG(P);var W=n.utils.availableWidth(d,P,c),I=n.utils.availableHeight(h,P,c);if(L.update=function(){0===D?P.call(L):P.transition().duration(D).call(L)},L.container=this,E.setter(function(t){void 0!==t.stacked&&(O=t.stacked),void 0!==t.active&&C.forEach(function(e,n){e.disabled=!t.active[n]})},L.update).getter(function(){return{active:C.map(function(t){return!t.disabled}),stacked:O}}).update(),E.disabled=C.map(function(t){return!!t.disabled}),!S)for(F in S={},E)E[F]instanceof Array?S[F]=E[F].slice(0):S[F]=E[F];if(!C||!C.length||!C.filter(function(t){return t.values.length}).length)return n.utils.noData(L,P),L;P.selectAll(".nv-noData").remove(),t=r.xScale(),e=r.yScale();var z=P.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([C]),H=z.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),R=z.select("g");if(H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),H.append("g").attr("class","nv-interactive"),m?"bottom"===y?(u.width(W-c.right),R.select(".nv-legendWrap").datum(C).call(u),c.bottom=i.height()+u.height(),I=n.utils.availableHeight(h,P,c),R.select(".nv-legendWrap").attr("transform","translate(0,"+(I+i.height())+")")):(u.width(W-T()),R.select(".nv-legendWrap").datum(C).call(u),f||u.height()===c.top||(c.top=u.height(),I=n.utils.availableHeight(h,P,c)),R.select(".nv-legendWrap").attr("transform","translate("+T()+","+-c.top+")")):R.select(".nv-legendWrap").selectAll("*").remove(),g){var B=[{key:v.grouped||"Grouped",disabled:r.stacked()},{key:v.stacked||"Stacked",disabled:!r.stacked()}];s.width(T()).color(["#444","#444","#444"]),R.select(".nv-controlsWrap").datum(B).attr("transform","translate(0,"+-c.top+")").call(s)}else R.select(".nv-controlsWrap").selectAll("*").remove();if(z.attr("transform","translate("+c.left+","+c.top+")"),k&&R.select(".nv-y.nv-axis").attr("transform","translate("+W+",0)"),r.disabled(C.map(function(t){return t.disabled})).width(W).height(I).color(C.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!C[e].disabled})),R.select(".nv-barsWrap").datum(C.filter(function(t){return!t.disabled})).call(r),x){i.scale(t)._ticks(n.utils.calcTicksX(W/100,C)).tickSize(-I,0),R.select(".nv-x.nv-axis").attr("transform","translate(0,"+e.range()[0]+")"),R.select(".nv-x.nv-axis").call(i);var q=R.select(".nv-x.nv-axis > g").selectAll("g");if(q.selectAll("line, text").style("opacity",1),M){var V=function(t,e){return"translate("+t+","+e+")"};q.selectAll("text").attr("transform",function(t,e,n){return V(0,n%2==0?5:17)});var U=d3.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;R.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return V(0,0===e||U%2!=0?17:5)})}A&&R.selectAll(".tick text").call(n.utils.wrapTicks,L.xAxis.rangeBand()),w&&q.filter(function(t,e){return e%Math.ceil(C[0].values.length/(W/100))!=0}).selectAll("text, line").style("opacity",0),_&&q.selectAll(".tick text").attr("transform","rotate("+_+" 0,0)").style("text-anchor",_>0?"start":"end"),R.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}b&&(o.scale(e)._ticks(n.utils.calcTicksY(I/36,C)).tickSize(-W,0),R.select(".nv-y.nv-axis").call(o)),j&&(a.width(W).height(I).margin({left:c.left,top:c.top}).svgContainer(P).xScale(t),z.select(".nv-interactive").call(a)),u.dispatch.on("stateChange",function(t){for(var e in t)E[e]=t[e];N.stateChange(E),L.update()}),s.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(B=B.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case v.grouped:r.stacked(!1);break;case"Stacked":case v.stacked:r.stacked(!0)}E.stacked=r.stacked(),N.stateChange(E),L.update()}}),N.on("changeState",function(t){void 0!==t.disabled&&(C.forEach(function(e,n){e.disabled=t.disabled[n]}),E.disabled=t.disabled),void 0!==t.stacked&&(r.stacked(t.stacked),E.stacked=t.stacked,O=t.stacked),L.update()}),j?(a.dispatch.on("elementMousemove",function(e){if(void 0!=e.pointXValue){var n,r,i,o,u=[];C.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a,s){r=t.domain().indexOf(e.pointXValue);var l=a.values[r];void 0!==l&&(o=l.x,void 0===n&&(n=l),void 0===i&&(i=e.mouseX),u.push({key:a.key,value:L.y()(l,r),color:p(a,a.seriesIndex),data:a.values[r]}))}),a.tooltip.data({value:o,index:r,series:u})(),a.renderGuideLine(i)}}),a.dispatch.on("elementMouseout",function(t){a.tooltip.hidden(!0)})):(r.dispatch.on("elementMouseover.tooltip",function(t){t.value=L.x()(t.data),t.series={key:t.data.key,value:L.y()(t.data),color:t.color},l.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){l()}))}),F.renderEnd("multibarchart immediate"),L}return L.dispatch=N,L.multibar=r,L.legend=u,L.controls=s,L.xAxis=i,L.yAxis=o,L.state=E,L.tooltip=l,L.interactiveLayer=a,L.options=n.utils.optionsFunc.bind(L),L._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return h},set:function(t){h=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return C},set:function(t){C=t}},reduceXTicks:{get:function(){return w},set:function(t){w=t}},rotateLabels:{get:function(){return _},set:function(t){_=t}},staggerLabels:{get:function(){return M},set:function(t){M=t}},wrapLabels:{get:function(){return A},set:function(t){A=!!t}},margin:{get:function(){return c},set:function(t){void 0!==t.top&&(c.top=t.top,f=t.top),c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return D},set:function(t){D=t,r.duration(D),i.duration(D),o.duration(D),F.reset(D)}},color:{get:function(){return p},set:function(t){p=n.utils.getColor(t),u.color(p)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,o.orient(k?"right":"left")}},useInteractiveGuideline:{get:function(){return j},set:function(t){j=t}},barColor:{get:function(){return r.barColor},set:function(t){r.barColor(t),u.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),n.utils.inheritOptions(L,r),n.utils.initOptions(L),L},n.models.multiBarHorizontal=function(){var t,e,r,i,o,a,u,s={top:0,right:0,bottom:0,left:0},l=960,c=500,f=Math.floor(1e4*Math.random()),d=null,h=d3.scale.ordinal(),p=d3.scale.linear(),g=function(t){return t.x},v=function(t){return t.y},m=function(t){return t.yErr},y=[0],x=n.utils.defaultColor(),b=null,k=!1,w=!1,M=60,A=.1,_=.75,E=d3.format(",.2f"),S=250,C=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),N=n.utils.renderWatch(C,S);function T(f){return N.reset(),f.each(function(f){var S=l-s.left-s.right,T=c-s.top-s.bottom;d=d3.select(this),n.utils.initSVG(d),k&&(f=d3.layout.stack().offset("zero").values(function(t){return t.values}).y(v)(f)),f.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),k&&f[0].values.map(function(t,e){var n=0,r=0;f.map(function(t){var i=t.values[e];i.size=Math.abs(i.y),i.y<0?(i.y1=r-i.size,r-=i.size):(i.y1=n,n+=i.size)})});var D=i&&o?[]:f.map(function(t){return t.values.map(function(t,e){return{x:g(t,e),y:v(t,e),y0:t.y0,y1:t.y1}})});h.domain(i||d3.merge(D).map(function(t){return t.x})).rangeBands(a||[0,T],A),p.domain(o||d3.extent(d3.merge(D).map(function(t){return k?t.y>0?t.y1+t.y:t.y1:t.y}).concat(y))),w&&!k?p.range(u||[p.domain()[0]<0?M:0,S-(p.domain()[1]>0?M:0)]):p.range(u||[0,S]),t=t||h,e=e||d3.scale.linear().domain(p.domain()).range([p(0),p(0)]);var j=d3.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([f]),F=j.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal");F.append("defs");var O=F.append("g");j.select("g"),O.append("g").attr("class","nv-groups"),j.attr("transform","translate("+s.left+","+s.top+")");var L=j.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});L.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),L.exit().watchTransition(N,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),L.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return x(t,e)}).style("stroke",function(t,e){return x(t,e)}),L.watchTransition(N,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",_);var P=L.selectAll("g.nv-bar").data(function(t){return t.values});P.exit().remove();var W=P.enter().append("g").attr("transform",function(t,n,r){return"translate("+e(k?t.y0:0)+","+(k?0:r*h.rangeBand()/f.length+h(g(t,n)))+")"});W.append("rect").attr("width",0).attr("height",h.rangeBand()/(k?1:f.length)),P.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),C.elementMouseover({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),C.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mouseout",function(t,e){C.elementMouseout({data:t,index:e,color:d3.select(this).style("fill")})}).on("mousemove",function(t,e){C.elementMousemove({data:t,index:e,color:d3.select(this).style("fill")})}).on("click",function(t,e){C.elementClick({data:t,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this}),d3.event.stopPropagation()}).on("dblclick",function(t,e){C.elementDblClick({data:t,index:e,color:d3.select(this).style("fill")}),d3.event.stopPropagation()}),m(f[0],0)&&(W.append("polyline"),P.select("polyline").attr("fill","none").attr("points",function(t,e){var n=m(t,e),r=.8*h.rangeBand()/((k?1:f.length)*2);return[[(n=(n=n.length?n:[-Math.abs(n),Math.abs(n)]).map(function(n){return p(n+(0>v(t,e)?0:v(t,e)))-p(0)}))[0],-r],[n[0],r],[n[0],0],[n[1],0],[n[1],-r],[n[1],r]].map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(t,e){return"translate(0, "+h.rangeBand()/((k?1:f.length)*2)+")"})),W.append("text"),w&&!k?(P.select("text").attr("text-anchor",function(t,e){return 0>v(t,e)?"end":"start"}).attr("y",h.rangeBand()/(2*f.length)).attr("dy",".32em").text(function(t,e){var n=E(v(t,e)),r=m(t,e);return void 0===r?n:r.length?n+"+"+E(Math.abs(r[1]))+"-"+E(Math.abs(r[0])):n+"Â±"+E(Math.abs(r))}),P.watchTransition(N,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return 0>v(t,e)?-4:p(v(t,e))-p(0)+4})):P.selectAll("text").text(""),P.selectAll("text.nv-bar-label").text(""),P.attr("class",function(t,e){return 0>v(t,e)?"nv-bar negative":"nv-bar positive"}),b&&(r||(r=f.map(function(){return!0})),P.style("fill",function(t,e,n){return d3.rgb(b(t,e)).darker(r.map(function(t,e){return e}).filter(function(t,e){return!r[e]})[n]).toString()}).style("stroke",function(t,e,n){return d3.rgb(b(t,e)).darker(r.map(function(t,e){return e}).filter(function(t,e){return!r[e]})[n]).toString()})),k?P.watchTransition(N,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+p(t.y1)+","+h(g(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(p(v(t,e)+t.y0)-p(t.y0))||0}).attr("height",h.rangeBand()):P.watchTransition(N,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+(0>v(t,e)?p(v(t,e)):p(0))+","+(t.series*h.rangeBand()/f.length+h(g(t,e)))+")"}).select("rect").attr("height",h.rangeBand()/f.length).attr("width",function(t,e){return Math.max(Math.abs(p(v(t,e))-p(0)),1)||0}),t=h.copy(),e=p.copy()}),N.renderEnd("multibarHorizontal immediate"),T}return T.dispatch=C,T.options=n.utils.optionsFunc.bind(T),T._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return c},set:function(t){c=t}},x:{get:function(){return g},set:function(t){g=t}},y:{get:function(){return v},set:function(t){v=t}},yErr:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return h},set:function(t){h=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return i},set:function(t){i=t}},yDomain:{get:function(){return o},set:function(t){o=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return u},set:function(t){u=t}},forceY:{get:function(){return y},set:function(t){y=t}},stacked:{get:function(){return k},set:function(t){k=t}},showValues:{get:function(){return w},set:function(t){w=t}},disabled:{get:function(){return r},set:function(t){r=t}},id:{get:function(){return f},set:function(t){f=t}},valueFormat:{get:function(){return E},set:function(t){E=t}},valuePadding:{get:function(){return M},set:function(t){M=t}},groupSpacing:{get:function(){return A},set:function(t){A=t}},fillOpacity:{get:function(){return _},set:function(t){_=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},duration:{get:function(){return S},set:function(t){S=t,N.reset(S)}},color:{get:function(){return x},set:function(t){x=n.utils.getColor(t)}},barColor:{get:function(){return b},set:function(t){b=t?n.utils.getColor(t):null}}}),n.utils.initOptions(T),T},n.models.multiBarHorizontalChart=function(){var t,e,r=n.models.multiBarHorizontal(),i=n.models.axis(),o=n.models.axis(),a=n.models.legend().height(30),u=n.models.legend().height(30),s=n.models.tooltip(),l={top:30,right:20,bottom:50,left:60},c=null,f=null,d=null,h=n.utils.defaultColor(),p=!0,g="top",v={},m=!0,y="top",x=!0,b=!0,k=!1,w=n.utils.state(),M=null,A=null,_=d3.dispatch("stateChange","changeState","renderEnd"),E=function(){return p?180:0},S=250;w.stacked=!1,r.stacked(k),i.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),o.orient("bottom").tickFormat(d3.format(",.1f")),s.duration(0).valueFormatter(function(t,e){return o.tickFormat()(t,e)}).headerFormatter(function(t,e){return i.tickFormat()(t,e)}),u.updateState(!1);var C=n.utils.renderWatch(_,S);function N(s){return C.reset(),C.models(r),x&&C.models(i),b&&C.models(o),s.each(function(s){var A,C=d3.select(this);n.utils.initSVG(C);var T=n.utils.availableWidth(f,C,l),D=n.utils.availableHeight(d,C,l);if(N.update=function(){C.transition().duration(S).call(N)},N.container=this,k=r.stacked(),w.setter(function(t){void 0!==t.stacked&&(k=t.stacked),void 0!==t.active&&s.forEach(function(e,n){e.disabled=!t.active[n]})},N.update).getter(function(){return{active:s.map(function(t){return!t.disabled}),stacked:k}}).update(),w.disabled=s.map(function(t){return!!t.disabled}),!M)for(A in M={},w)w[A]instanceof Array?M[A]=w[A].slice(0):M[A]=w[A];if(!s||!s.length||!s.filter(function(t){return t.values.length}).length)return n.utils.noData(N,C),N;C.selectAll(".nv-noData").remove(),t=r.xScale(),e=r.yScale().clamp(!0);var j=C.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([s]),F=j.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),O=j.select("g");if(F.append("g").attr("class","nv-x nv-axis"),F.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),F.append("g").attr("class","nv-barsWrap"),F.append("g").attr("class","nv-legendWrap"),F.append("g").attr("class","nv-controlsWrap"),m?(a.width(T-E()),O.select(".nv-legendWrap").datum(s).call(a),"bottom"===y?(l.bottom=i.height()+a.height(),D=n.utils.availableHeight(d,C,l),O.select(".nv-legendWrap").attr("transform","translate("+E()+","+(D+i.height())+")")):"top"===y&&(c||a.height()===l.top||(l.top=a.height(),D=n.utils.availableHeight(d,C,l)),O.select(".nv-legendWrap").attr("transform","translate("+E()+","+-l.top+")"))):O.select(".nv-legendWrap").selectAll("*").remove(),p){var L=[{key:v.grouped||"Grouped",disabled:r.stacked()},{key:v.stacked||"Stacked",disabled:!r.stacked()}];u.width(E()).color(["#444","#444","#444"]),"bottom"===g?(l.bottom=i.height()+a.height(),D=n.utils.availableHeight(d,C,l),O.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+(D+i.height())+")").call(u)):"top"===g&&O.select(".nv-controlsWrap").datum(L).attr("transform","translate(0,"+-l.top+")").call(u)}else O.select(".nv-controlsWrap").selectAll("*").remove();j.attr("transform","translate("+l.left+","+l.top+")"),r.disabled(s.map(function(t){return t.disabled})).width(T).height(D).color(s.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!s[e].disabled})),O.select(".nv-barsWrap").datum(s.filter(function(t){return!t.disabled})).transition().call(r),x&&(i.scale(t)._ticks(n.utils.calcTicksY(D/24,s)).tickSize(-T,0),O.select(".nv-x.nv-axis").call(i),O.select(".nv-x.nv-axis").selectAll("g").selectAll("line, text")),b&&(o.scale(e)._ticks(n.utils.calcTicksX(T/100,s)).tickSize(-D,0),O.select(".nv-y.nv-axis").attr("transform","translate(0,"+D+")"),O.select(".nv-y.nv-axis").call(o)),O.select(".nv-zeroLine line").attr("x1",e(0)).attr("x2",e(0)).attr("y1",0).attr("y2",-D),a.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];_.stateChange(w),N.update()}),u.dispatch.on("legendClick",function(t,e){if(t.disabled){switch(L=L.map(function(t){return t.disabled=!0,t}),t.disabled=!1,t.key){case"Grouped":case v.grouped:r.stacked(!1);break;case"Stacked":case v.stacked:r.stacked(!0)}w.stacked=r.stacked(),_.stateChange(w),k=r.stacked(),N.update()}}),_.on("changeState",function(t){void 0!==t.disabled&&(s.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),void 0!==t.stacked&&(r.stacked(t.stacked),w.stacked=t.stacked,k=t.stacked),N.update()})}),C.renderEnd("multibar horizontal chart immediate"),N}return r.dispatch.on("elementMouseover.tooltip",function(t){t.value=N.x()(t.data),t.series={key:t.data.key,value:N.y()(t.data),color:t.color},s.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){s.hidden(!0)}),r.dispatch.on("elementMousemove.tooltip",function(t){s()}),N.dispatch=_,N.multibar=r,N.legend=a,N.controls=u,N.xAxis=i,N.yAxis=o,N.state=w,N.tooltip=s,N.options=n.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},controlsPosition:{get:function(){return g},set:function(t){g=t}},showControls:{get:function(){return p},set:function(t){p=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return A},set:function(t){A=t}},margin:{get:function(){return l},set:function(t){void 0!==t.top&&(l.top=t.top,c=t.top),l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return S},set:function(t){S=t,C.reset(S),r.duration(S),i.duration(S),o.duration(S)}},color:{get:function(){return h},set:function(t){h=n.utils.getColor(t),a.color(h)}},barColor:{get:function(){return r.barColor},set:function(t){r.barColor(t),a.color(function(t,e){return d3.rgb("#ccc").darker(1.5*e).toString()})}}}),n.utils.inheritOptions(N,r),n.utils.initOptions(N),N},n.models.multiChart=function(){var t,e,r={top:30,right:20,bottom:50,left:60},i=null,o=n.utils.defaultColor(),a=null,u=null,s=!0,l=null,c=function(t){return t.x},f=function(t){return t.y},d="linear",h=!0,p=n.interactiveGuideline(),g=!1,v=" (right axis)",m=250,y=d3.scale.linear(),x=d3.scale.linear(),b=d3.scale.linear(),k=n.models.line().yScale(x).duration(m),w=n.models.line().yScale(b).duration(m),M=n.models.scatter().yScale(x).duration(m),A=n.models.scatter().yScale(b).duration(m),_=n.models.multiBar().stacked(!1).yScale(x).duration(m),E=n.models.multiBar().stacked(!1).yScale(b).duration(m),S=n.models.stackedArea().yScale(x).duration(m),C=n.models.stackedArea().yScale(b).duration(m),N=n.models.axis().scale(y).orient("bottom").tickPadding(5).duration(m),T=n.models.axis().scale(x).orient("left").duration(m),D=n.models.axis().scale(b).orient("right").duration(m),j=n.models.legend().height(30),F=n.models.tooltip(),O=d3.dispatch(),L=[k,w,M,A,_,E,S,C];function P(l){return l.each(function(l){var h=d3.select(this);n.utils.initSVG(h),P.update=function(){h.transition().call(P)},P.container=this;var m=n.utils.availableWidth(a,h,r),O=n.utils.availableHeight(u,h,r),W=l.filter(function(t){return"line"==t.type&&1==t.yAxis}),I=l.filter(function(t){return"line"==t.type&&2==t.yAxis}),z=l.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),H=l.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),R=l.filter(function(t){return"bar"==t.type&&1==t.yAxis}),B=l.filter(function(t){return"bar"==t.type&&2==t.yAxis}),q=l.filter(function(t){return"area"==t.type&&1==t.yAxis}),V=l.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!l||!l.length||!l.filter(function(t){return t.values.length}).length)return n.utils.noData(P,h),P;h.selectAll(".nv-noData").remove();var U=l.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:f(t)}})}),G=l.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:c(t),y:f(t)}})});y.domain(d3.extent(d3.merge(U.concat(G)),function(t){return t.x})).range([0,m]);var Y=h.selectAll("g.wrap.multiChart").data([l]),X=Y.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");X.append("g").attr("class","nv-x nv-axis"),X.append("g").attr("class","nv-y1 nv-axis"),X.append("g").attr("class","nv-y2 nv-axis"),X.append("g").attr("class","stack1Wrap"),X.append("g").attr("class","stack2Wrap"),X.append("g").attr("class","bars1Wrap"),X.append("g").attr("class","bars2Wrap"),X.append("g").attr("class","scatters1Wrap"),X.append("g").attr("class","scatters2Wrap"),X.append("g").attr("class","lines1Wrap"),X.append("g").attr("class","lines2Wrap"),X.append("g").attr("class","legendWrap"),X.append("g").attr("class","nv-interactive");var Z=Y.select("g"),J=l.map(function(t,e){return l[e].color||o(t,e)});if(s){var Q=j.align()?m/2:m,K=j.align()?Q:0;j.width(Q),j.color(J),Z.select(".legendWrap").datum(l.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":v),t})).call(j),i||j.height()===r.top||(r.top=j.height(),O=n.utils.availableHeight(u,h,r)),Z.select(".legendWrap").attr("transform","translate("+K+","+-r.top+")")}else Z.select(".legendWrap").selectAll("*").remove();k.width(m).height(O).interpolate(d).color(J.filter(function(t,e){return!l[e].disabled&&1==l[e].yAxis&&"line"==l[e].type})),w.width(m).height(O).interpolate(d).color(J.filter(function(t,e){return!l[e].disabled&&2==l[e].yAxis&&"line"==l[e].type})),M.width(m).height(O).color(J.filter(function(t,e){return!l[e].disabled&&1==l[e].yAxis&&"scatter"==l[e].type})),A.width(m).height(O).color(J.filter(function(t,e){return!l[e].disabled&&2==l[e].yAxis&&"scatter"==l[e].type})),_.width(m).height(O).color(J.filter(function(t,e){return!l[e].disabled&&1==l[e].yAxis&&"bar"==l[e].type})),E.width(m).height(O).color(J.filter(function(t,e){return!l[e].disabled&&2==l[e].yAxis&&"bar"==l[e].type})),S.width(m).height(O).interpolate(d).color(J.filter(function(t,e){return!l[e].disabled&&1==l[e].yAxis&&"area"==l[e].type})),C.width(m).height(O).interpolate(d).color(J.filter(function(t,e){return!l[e].disabled&&2==l[e].yAxis&&"area"==l[e].type})),Z.attr("transform","translate("+r.left+","+r.top+")");var tt=Z.select(".lines1Wrap").datum(W.filter(function(t){return!t.disabled})),te=Z.select(".scatters1Wrap").datum(z.filter(function(t){return!t.disabled})),tn=Z.select(".bars1Wrap").datum(R.filter(function(t){return!t.disabled})),tr=Z.select(".stack1Wrap").datum(q.filter(function(t){return!t.disabled})),ti=Z.select(".lines2Wrap").datum(I.filter(function(t){return!t.disabled})),to=Z.select(".scatters2Wrap").datum(H.filter(function(t){return!t.disabled})),ta=Z.select(".bars2Wrap").datum(B.filter(function(t){return!t.disabled})),tu=Z.select(".stack2Wrap").datum(V.filter(function(t){return!t.disabled})),ts=[];if(_.stacked()&&R.length){var ts=R.filter(function(t){return!t.disabled}).map(function(t){return t.values});ts.length>0&&(ts=ts.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}))}R.length&&ts.push({x:0,y:0});var tl=[];if(E.stacked()&&B.length){var tl=B.filter(function(t){return!t.disabled}).map(function(t){return t.values});tl.length>0&&(tl=tl.reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}))}function tc(t){var e=2===t.series.yAxis?D:T;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},F.duration(0).headerFormatter(function(t,e){return N.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function tf(t){var e=2===t.series.yAxis?D:T;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},F.duration(100).headerFormatter(function(t,e){return N.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function td(t){var e=2===t.series.yAxis?D:T;t.point.x=S.x()(t.point),t.point.y=S.y()(t.point),F.duration(0).headerFormatter(function(t,e){return N.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function th(t){var e=2===t.series.yAxis?D:T;t.value=_.x()(t.data),t.series={value:_.y()(t.data),color:t.color,key:t.data.key},F.duration(0).headerFormatter(function(t,e){return N.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function tp(){for(var t=0,e=L.length;t<e;t++){var n=L[t];try{n.clearHighlights()}catch(t){}}}B.length&&tl.push({x:0,y:0}),x.domain(t||d3.extent(d3.merge(U).concat(ts),function(t){return t.y})).range([0,O]),b.domain(e||d3.extent(d3.merge(G).concat(tl),function(t){return t.y})).range([0,O]),k.yDomain(x.domain()),M.yDomain(x.domain()),_.yDomain(x.domain()),S.yDomain(x.domain()),w.yDomain(b.domain()),A.yDomain(b.domain()),E.yDomain(b.domain()),C.yDomain(b.domain()),q.length&&d3.transition(tr).call(S),V.length&&d3.transition(tu).call(C),R.length&&d3.transition(tn).call(_),B.length&&d3.transition(ta).call(E),W.length&&d3.transition(tt).call(k),I.length&&d3.transition(ti).call(w),z.length&&d3.transition(te).call(M),H.length&&d3.transition(to).call(A),N._ticks(n.utils.calcTicksX(m/100,l)).tickSize(-O,0),Z.select(".nv-x.nv-axis").attr("transform","translate(0,"+O+")"),d3.transition(Z.select(".nv-x.nv-axis")).call(N),T._ticks(n.utils.calcTicksY(O/36,l)).tickSize(-m,0),d3.transition(Z.select(".nv-y1.nv-axis")).call(T),D._ticks(n.utils.calcTicksY(O/36,l)).tickSize(-m,0),d3.transition(Z.select(".nv-y2.nv-axis")).call(D),Z.select(".nv-y1.nv-axis").classed("nv-disabled",!U.length).attr("transform","translate("+y.range()[0]+",0)"),Z.select(".nv-y2.nv-axis").classed("nv-disabled",!G.length).attr("transform","translate("+y.range()[1]+",0)"),j.dispatch.on("stateChange",function(t){P.update()}),g&&(p.width(m).height(O).margin({left:r.left,top:r.top}).svgContainer(h).xScale(y),Y.select(".nv-interactive").call(p)),g?(p.dispatch.on("elementMousemove",function(t){tp();var e,r,i,a=[];l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(u,s){var l=y.domain(),c=u.values.filter(function(t,e){return P.x()(t,e)>=l[0]&&P.x()(t,e)<=l[1]});r=n.interactiveBisect(c,t.pointXValue,P.x());var f=c[r],d=P.y()(f,r);null!==d&&function(t,e,n){for(var r=0,i=L.length;r<i;r++){var o=L[r];try{o.highlightPoint(t,e,n)}catch(t){}}}(s,r,!0),void 0!==f&&(void 0===e&&(e=f),void 0===i&&(i=y(P.x()(f,r))),a.push({key:u.key,value:d,color:o(u,u.seriesIndex),data:f,yAxis:2==u.yAxis?D:T}))}),p.tooltip.headerFormatter(function(t,e){return N.tickFormat()(t,e)}).valueFormatter(p.tooltip.valueFormatter()||function(t,e){var n=a[e].yAxis;return null==t?"N/A":n.tickFormat()(t)}).data({value:P.x()(e,r),index:r,series:a})(),p.renderGuideLine(i)}),p.dispatch.on("elementMouseout",function(t){tp()})):(k.dispatch.on("elementMouseover.tooltip",tc),w.dispatch.on("elementMouseover.tooltip",tc),k.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),w.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",tf),A.dispatch.on("elementMouseover.tooltip",tf),M.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),A.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),S.dispatch.on("elementMouseover.tooltip",td),C.dispatch.on("elementMouseover.tooltip",td),S.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),C.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),_.dispatch.on("elementMouseover.tooltip",th),E.dispatch.on("elementMouseover.tooltip",th),_.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),E.dispatch.on("elementMouseout.tooltip",function(t){F.hidden(!0)}),_.dispatch.on("elementMousemove.tooltip",function(t){F()}),E.dispatch.on("elementMousemove.tooltip",function(t){F()}))}),P}return P.dispatch=O,P.legend=j,P.lines1=k,P.lines2=w,P.scatters1=M,P.scatters2=A,P.bars1=_,P.bars2=E,P.stack1=S,P.stack2=C,P.xAxis=N,P.yAxis1=T,P.yAxis2=D,P.tooltip=F,P.interactiveLayer=p,P.options=n.utils.optionsFunc.bind(P),P._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return s},set:function(t){s=t}},yDomain1:{get:function(){return t},set:function(e){t=e}},yDomain2:{get:function(){return e},set:function(t){e=t}},noData:{get:function(){return l},set:function(t){l=t}},interpolate:{get:function(){return d},set:function(t){d=t}},legendRightAxisHint:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return r},set:function(t){void 0!==t.top&&(r.top=t.top,i=t.top),r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return o},set:function(t){o=n.utils.getColor(t)}},x:{get:function(){return c},set:function(t){c=t,k.x(t),w.x(t),M.x(t),A.x(t),_.x(t),E.x(t),S.x(t),C.x(t)}},y:{get:function(){return f},set:function(t){f=t,k.y(t),w.y(t),M.y(t),A.y(t),S.y(t),C.y(t),_.y(t),E.y(t)}},useVoronoi:{get:function(){return h},set:function(t){h=t,k.useVoronoi(t),w.useVoronoi(t),S.useVoronoi(t),C.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return g},set:function(t){(g=t)&&(k.interactive(!1),k.useVoronoi(!1),w.interactive(!1),w.useVoronoi(!1),S.interactive(!1),S.useVoronoi(!1),C.interactive(!1),C.useVoronoi(!1),M.interactive(!1),A.interactive(!1))}},duration:{get:function(){return m},set:function(t){m=t,[k,w,S,C,M,A,N,T,D].forEach(function(t){t.duration(m)})}}}),n.utils.initOptions(P),P},n.models.ohlcBar=function(){var t,e,r,i,o={top:0,right:0,bottom:0,left:0},a=null,u=null,s=Math.floor(1e4*Math.random()),l=null,c=d3.scale.linear(),f=d3.scale.linear(),d=function(t){return t.x},h=function(t){return t.y},p=function(t){return t.open},g=function(t){return t.close},v=function(t){return t.high},m=function(t){return t.low},y=[],x=[],b=!1,k=!0,w=n.utils.defaultColor(),M=!1,A=d3.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");function _(M){return M.each(function(M){l=d3.select(this);var _=n.utils.availableWidth(a,l,o),E=n.utils.availableHeight(u,l,o);n.utils.initSVG(l);var S=_/M[0].values.length*.9;c.domain(t||d3.extent(M[0].values.map(d).concat(y))),b?c.range(r||[.5*_/M[0].values.length,_*(M[0].values.length-.5)/M[0].values.length]):c.range(r||[5+S/2,_-S/2-5]),f.domain(e||[d3.min(M[0].values.map(m).concat(x)),d3.max(M[0].values.map(v).concat(x))]).range(i||[E,0]),c.domain()[0]===c.domain()[1]&&(c.domain()[0]?c.domain([c.domain()[0]-.01*c.domain()[0],c.domain()[1]+.01*c.domain()[1]]):c.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var C=d3.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([M[0].values]),N=C.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),T=N.append("defs"),D=N.append("g"),j=C.select("g");D.append("g").attr("class","nv-ticks"),C.attr("transform","translate("+o.left+","+o.top+")"),l.on("click",function(t,e){A.chartClick({data:t,index:e,pos:d3.event,id:s})}),T.append("clipPath").attr("id","nv-chart-clip-path-"+s).append("rect"),C.select("#nv-chart-clip-path-"+s+" rect").attr("width",_).attr("height",E),j.attr("clip-path",k?"url(#nv-chart-clip-path-"+s+")":"");var F=C.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});F.exit().remove(),F.enter().append("path").attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(f(p(t,e))-f(v(t,e)))+"l"+-S/2+",0l"+S/2+",0l0,"+(f(m(t,e))-f(p(t,e)))+"l0,"+(f(g(t,e))-f(m(t,e)))+"l"+S/2+",0l"+-S/2+",0z"}).attr("transform",function(t,e){return"translate("+c(d(t,e))+","+f(v(t,e))+")"}).attr("fill",function(t,e){return w[0]}).attr("stroke",function(t,e){return w[0]}).attr("x",0).attr("y",function(t,e){return f(Math.max(0,h(t,e)))}).attr("height",function(t,e){return Math.abs(f(h(t,e))-f(0))}),F.attr("class",function(t,e,n){return(p(t,e)>g(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),d3.transition(F).attr("transform",function(t,e){return"translate("+c(d(t,e))+","+f(v(t,e))+")"}).attr("d",function(t,e){var n=_/M[0].values.length*.9;return"m0,0l0,"+(f(p(t,e))-f(v(t,e)))+"l"+-n/2+",0l"+n/2+",0l0,"+(f(m(t,e))-f(p(t,e)))+"l0,"+(f(g(t,e))-f(m(t,e)))+"l"+n/2+",0l"+-n/2+",0z"})}),_}return _.highlightPoint=function(t,e){_.clearHighlights(),l.select(".nv-ohlcBar .nv-tick-0-"+t).classed("hover",e)},_.clearHighlights=function(){l.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},_.dispatch=A,_.options=n.utils.optionsFunc.bind(_),_._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return i},set:function(t){i=t}},forceX:{get:function(){return y},set:function(t){y=t}},forceY:{get:function(){return x},set:function(t){x=t}},padData:{get:function(){return b},set:function(t){b=t}},clipEdge:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return s},set:function(t){s=t}},interactive:{get:function(){return M},set:function(t){M=t}},x:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return h},set:function(t){h=t}},open:{get:function(){return p()},set:function(t){p=t}},close:{get:function(){return g()},set:function(t){g=t}},high:{get:function(){return v},set:function(t){v=t}},low:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return w},set:function(t){w=n.utils.getColor(t)}}}),n.utils.initOptions(_),_},n.models.parallelCoordinates=function(){var t,e,r,i={top:30,right:0,bottom:10,left:0},o=null,a=null,u=null,s=null,l=d3.scale.ordinal(),c={},f="undefined values",d=[],h=[],p=[],g=!0,v=n.utils.defaultColor(),m=[],y=[],x=[],b=[],k=1,w=d3.svg.line(),M=d3.svg.axis(),A=d3.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),_=n.utils.renderWatch(A);function E(S){return _.reset(),S.each(function(_){var E,S,C=d3.select(this);if(u=n.utils.availableWidth(o,C,i),s=n.utils.availableHeight(a,C,i),n.utils.initSVG(C),void 0===_[0].values){var N=[];_.forEach(function(t){var e={};Object.keys(t).forEach(function(n){"name"!==n&&(e[n]=t[n])}),N.push({key:t.name,values:e})}),_=N}var T=_.map(function(t){return t.values});0===y.length&&(y=_),p=d.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),h=d.filter(function(t){return!t.disabled}),l.rangePoints([0,u],1).domain(h.map(function(t){return t.key}));var D={},j=!1,F=[];p.forEach(function(t){var e=d3.extent(T,function(e){return+e[t]}),n=e[0],r=e[1],i=!1;(isNaN(n)||isNaN(r))&&(i=!0,n=0,r=0),n===r&&(n-=1,r+=1);var o=m.filter(function(e){return e.dimension==t});0!==o.length&&(i?(n=c[t].domain()[0],r=c[t].domain()[1]):!o[0].hasOnlyNaN&&g?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,D[t]=c[t].domain()[1],j=!0)),c[t]=d3.scale.linear().domain([n,r]).range([(s-12)*.9,0]),b=[],c[t].brush=d3.svg.brush().y(c[t]).on("brushstart",G).on("brush",Y).on("brushend",X)});var O=C.selectAll("g.nv-wrap.nv-parallelCoordinates").data([_]),L=O.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates").append("g"),P=O.select("g");L.append("g").attr("class","nv-parallelCoordinates background"),L.append("g").attr("class","nv-parallelCoordinates foreground"),L.append("g").attr("class","nv-parallelCoordinates missingValuesline"),O.attr("transform","translate("+i.left+","+i.top+")"),w.interpolate("cardinal").tension(k),M.orient("left");var W=d3.behavior.drag().on("dragstart",function(t){x[t.key]=this.parentNode.__origin__=l(t.key),e.attr("visibility","hidden")}).on("drag",function(e){x[e.key]=Math.min(u,Math.max(0,this.parentNode.__origin__+=d3.event.x)),t.attr("d",V),h.sort(function(t,e){return J(t.key)-J(e.key)}),h.forEach(function(t,e){return t.currentPosition=e}),l.domain(h.map(function(t){return t.key})),r.attr("transform",function(t){return"translate("+J(t.key)+")"})}).on("dragend",function(n,r){delete this.parentNode.__origin__,delete x[n.key],d3.select(this.parentNode).attr("transform","translate("+l(n.key)+")"),t.attr("d",V),e.attr("d",V).attr("visibility",null),A.dimensionsOrder(h)}),I=l.range()[1]-l.range()[0];if(!isNaN(I=isNaN(I)?l.range()[0]:I)){var z=[0+I/2,s-12,u-I/2,s-12];(E=O.select(".missingValuesline").selectAll("line").data([z])).enter().append("line"),E.exit().remove(),E.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),(S=O.select(".missingValuesline").selectAll("text").data([f])).append("text").data([f]),S.enter().append("text"),S.exit().remove(),S.attr("y",s).attr("x",u-92-I/2).text(function(t){return t})}(e=O.select(".background").selectAll("path").data(_)).enter().append("path"),e.exit().remove(),e.attr("d",V),(t=O.select(".foreground").selectAll("path").data(_)).enter().append("path"),t.exit().remove(),t.attr("d",V).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||v(t,e)}),t.on("mouseover",function(t,e){d3.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),A.elementMouseover({label:t.name,color:t.color||v(t,e),values:t.values,dimensions:h})}),t.on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),A.elementMouseout({label:t.name,index:e})}),t.on("mousemove",function(t,e){A.elementMousemove()}),t.on("click",function(t){A.elementClick({id:t.id})});var H=(r=P.selectAll(".dimension").data(h)).enter().append("g").attr("class","nv-parallelCoordinates dimension");r.attr("transform",function(t){return"translate("+l(t.key)+",0)"}),H.append("g").attr("class","nv-axis"),H.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){A.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){A.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){A.elementMousemove()}).call(W),H.append("g").attr("class","nv-brushBackground"),r.exit().remove(),r.select(".nv-label").text(function(t){return t.key}),U(g);var R=p.filter(function(t){return!c[t].brush.empty()}),B=R.map(function(t){return c[t].brush.extent()}),q=y.slice(0);function V(t){return w(h.map(function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||j){var n=c[e.key].domain(),r=c[e.key].range(),i=n[0]-(n[1]-n[0])/9;if(0>b.indexOf(e.key)){var o=d3.scale.linear().domain([i,n[1]]).range([s-12,r[1]]);c[e.key].brush.y(o),b.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[l(e.key),c[e.key](i)]}return void 0!==E&&(b.length>0||j?(E.style("display","inline"),S.style("display","inline")):(E.style("display","none"),S.style("display","none"))),[l(e.key),c[e.key](t.values[e.key])]}))}function U(t){m.forEach(function(e){var n=c[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(c[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(D[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&c[e.dimension].brush.extent(e.extent)}),r.select(".nv-brushBackground").each(function(t){d3.select(this).call(c[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),Z()}function G(){!1===g&&(g=!0,U(!0))}function Y(){B=(R=p.filter(function(t){return!c[t].brush.empty()})).map(function(t){return c[t].brush.extent()}),m=[],R.forEach(function(t,e){m[e]={dimension:t,extent:B[e],hasNaN:!1,hasOnlyNaN:!1}}),y=[],t.style("display",function(t){var e=R.every(function(e,n){return!!(isNaN(t.values[e])||isNaN(parseFloat(t.values[e])))&&B[n][0]==c[e].brush.y().domain()[0]||B[n][0]<=t.values[e]&&t.values[e]<=B[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),Z(),A.brush({filters:m,active:y})}function X(){var t=R.length>0;m.forEach(function(t){t.extent[0]===c[t.dimension].brush.y().domain()[0]&&b.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<c[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),A.brushEnd(y,t)}function Z(){r.select(".nv-axis").each(function(t,e){var n=m.filter(function(e){return e.dimension==t.key});F[t.key]=c[t.key].domain(),0!=n.length&&g&&(F[t.key]=[],n[0].extent[1]>c[t.key].domain()[0]&&(F[t.key]=[n[0].extent[1]]),n[0].extent[0]>=c[t.key].domain()[0]&&F[t.key].push(n[0].extent[0])),d3.select(this).call(M.scale(c[t.key]).tickFormat(t.format).tickValues(F[t.key]))})}function J(t){var e=x[t];return null==e?l(t):e}y=[],t.style("display",function(t){var e=R.every(function(e,n){return!!(isNaN(t.values[e])||isNaN(parseFloat(t.values[e])))&&B[n][0]==c[e].brush.y().domain()[0]||B[n][0]<=t.values[e]&&t.values[e]<=B[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&y.push(t),e?null:"none"}),(m.length>0||!n.utils.arrayEquals(y,q))&&A.activeChanged(y)}),E}return E.dispatch=A,E.options=n.utils.optionsFunc.bind(E),E._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return g},set:function(t){g=t}},filters:{get:function(){return m},set:function(t){m=t}},active:{get:function(){return y},set:function(t){y=t}},lineTension:{get:function(){return k},set:function(t){k=t}},undefinedValuesLabel:{get:function(){return f},set:function(t){f=t}},dimensions:{get:function(){return d.map(function(t){return t.key})},set:function(t){n.deprecated("dimensions","use dimensionData instead"),0===d.length?t.forEach(function(t){d.push({key:t})}):t.forEach(function(t,e){d[e].key=t})}},dimensionNames:{get:function(){return d.map(function(t){return t.key})},set:function(t){n.deprecated("dimensionNames","use dimensionData instead"),p=[],0===d.length?t.forEach(function(t){d.push({key:t})}):t.forEach(function(t,e){d[e].key=t})}},dimensionFormats:{get:function(){return d.map(function(t){return t.format})},set:function(t){n.deprecated("dimensionFormats","use dimensionData instead"),0===d.length?t.forEach(function(t){d.push({format:t})}):t.forEach(function(t,e){d[e].format=t})}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return v},set:function(t){v=n.utils.getColor(t)}}}),n.utils.initOptions(E),E},n.models.parallelCoordinatesChart=function(){var t=n.models.parallelCoordinates(),e=n.models.legend(),r=n.models.tooltip();n.models.tooltip();var i={top:0,right:0,bottom:0,left:0},o=null,a=null,u=null,s=!0,l=n.utils.defaultColor(),c=n.utils.state(),f=[],d=!0,h=null,p=null,g="undefined",v=d3.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),m=n.utils.renderWatch(v);function y(r){return m.reset(),m.models(t),r.each(function(r){var l,p,g,m=d3.select(this);n.utils.initSVG(m);var x=n.utils.availableWidth(a,m,i),b=n.utils.availableHeight(u,m,i);if(y.update=function(){m.call(y)},y.container=this,c.setter((l=f,function(t){void 0!==t.active&&l.forEach(function(e,n){e.disabled=!t.active[n]})}),y.update).getter((p=f,function(){return{active:p.map(function(t){return!t.disabled})}})).update(),c.disabled=f.map(function(t){return!!t.disabled}),(f=f.map(function(t){return t.disabled=!!t.disabled,t})).forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!h)for(g in h={},c)c[g]instanceof Array?h[g]=c[g].slice(0):h[g]=c[g];if(!r||!r.length)return n.utils.noData(y,m),y;m.selectAll(".nv-noData").remove();var k=m.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([r]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),M=k.select("g");w.append("g").attr("class","nv-parallelCoordinatesWrap"),w.append("g").attr("class","nv-legendWrap"),M.select("rect").attr("width",x).attr("height",b>0?b:0),s?(e.width(x).color(function(t){return"rgb(188,190,192)"}),M.select(".nv-legendWrap").datum(f.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(e),o||e.height()===i.top||(i.top=e.height(),b=n.utils.availableHeight(u,m,i)),k.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-i.top+")")):M.select(".nv-legendWrap").selectAll("*").remove(),k.attr("transform","translate("+i.left+","+i.top+")"),t.width(x).height(b).dimensionData(f).displayBrush(d),M.select(".nv-parallelCoordinatesWrap ").datum(r).transition().call(t),t.dispatch.on("brushEnd",function(t,e){e?(d=!0,v.brushEnd(t)):d=!1}),e.dispatch.on("stateChange",function(t){for(var e in t)c[e]=t[e];v.stateChange(c),y.update()}),t.dispatch.on("dimensionsOrder",function(t){f.sort(function(t,e){return t.currentPosition-e.currentPosition});var e=!1;f.forEach(function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)}),v.dimensionsOrder(f,e)}),v.on("changeState",function(t){void 0!==t.disabled&&(f.forEach(function(e,n){e.disabled=t.disabled[n]}),c.disabled=t.disabled),y.update()})}),m.renderEnd("parraleleCoordinateChart immediate"),y}return r.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),t.dispatch.on("elementMouseover.tooltip",function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach(function(n){var r,i=t.dimensions.filter(function(t){return t.key===n})[0];i&&(r=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?g:i.format(t.values[n]),e.series.push({idx:i.currentPosition,key:n,value:r,color:i.color}))}),e.series.sort(function(t,e){return t.idx-e.idx})),r.data(e).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){r.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(){r()}),y.dispatch=v,y.parallelCoordinates=t,y.legend=e,y.tooltip=r,y.options=n.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return s},set:function(t){s=t}},defaultState:{get:function(){return h},set:function(t){h=t}},dimensionData:{get:function(){return f},set:function(t){f=t}},displayBrush:{get:function(){return d},set:function(t){d=t}},noData:{get:function(){return p},set:function(t){p=t}},nanValue:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}},color:{get:function(){return l},set:function(r){l=n.utils.getColor(r),e.color(l),t.color(l)}}}),n.utils.inheritOptions(y,t),n.utils.initOptions(y),y},n.models.pie=function(){var t={top:0,right:0,bottom:0,left:0},e=500,r=500,i=function(t){return t.x},o=function(t){return t.y},a=Math.floor(1e4*Math.random()),u=null,s=n.utils.defaultColor(),l=d3.format(",.2f"),c=!0,f=!1,d="key",h=.02,p=!1,g=!1,v=!1,m=!0,y=0,x=!1,b=!1,k=!1,w=!1,M=0,A=.5,_=250,E=[],S=d3.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),C=[],N=[],T=n.utils.renderWatch(S);function D(j){return T.reset(),j.each(function(D){var j=e-t.left-t.right,F=r-t.top-t.bottom,O=Math.min(j,F)/2,L=[],P=[];if(u=d3.select(this),0===E.length)for(var W=O-O/10,I=A*O,z=0;z<D[0].length;z++)L.push(W),P.push(I);else m?(L=E.map(function(t){return(t.outer-t.outer/10)*O}),P=E.map(function(t){return(t.inner-t.inner/10)*O}),A=d3.min(E.map(function(t){return t.inner-t.inner/10}))):(L=E.map(function(t){return t.outer*O}),P=E.map(function(t){return t.inner*O}),A=d3.min(E.map(function(t){return t.inner})));n.utils.initSVG(u);var H=u.selectAll(".nv-wrap.nv-pie").data(D),R=H.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+a).append("g"),B=H.select("g"),q=R.append("g").attr("class","nv-pie");R.append("g").attr("class","nv-pieLabels"),H.attr("transform","translate("+t.left+","+t.top+")"),B.select(".nv-pie").attr("transform","translate("+j/2+","+F/2+")"),B.select(".nv-pieLabels").attr("transform","translate("+j/2+","+F/2+")"),u.on("click",function(t,e){S.chartClick({data:t,index:e,pos:d3.event,id:a})}),C=[],N=[];for(var z=0;z<D[0].length;z++){var V=d3.svg.arc().outerRadius(L[z]),U=d3.svg.arc().outerRadius(L[z]+5);!1!==b&&(V.startAngle(b),U.startAngle(b)),!1!==w&&(V.endAngle(w),U.endAngle(w)),g&&(V.innerRadius(P[z]),U.innerRadius(P[z])),V.cornerRadius&&M&&(V.cornerRadius(M),U.cornerRadius(M)),C.push(V),N.push(U)}var G=d3.layout.pie().sort(null).value(function(t){return t.disabled?0:o(t)});G.padAngle&&k&&G.padAngle(k),g&&v&&(q.append("text").attr("class","nv-pie-title"),H.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return v}).style("font-size",Math.min(j,F)*A*2/(v.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+y+")"}));var Y=H.select(".nv-pie").selectAll(".nv-slice").data(G),X=H.select(".nv-pieLabels").selectAll(".nv-label").data(G);Y.exit().remove(),X.exit().remove();var Z=Y.enter().append("g");if(Z.attr("class","nv-slice"),Z.on("mouseover",function(t,e){d3.select(this).classed("hover",!0),m&&d3.select(this).select("path").transition().duration(70).attr("d",N[e]),S.elementMouseover({data:t.data,index:e,color:d3.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),Z.on("mouseout",function(t,e){d3.select(this).classed("hover",!1),m&&d3.select(this).select("path").transition().duration(50).attr("d",C[e]),S.elementMouseout({data:t.data,index:e})}),Z.on("mousemove",function(t,e){S.elementMousemove({data:t.data,index:e})}),Z.on("click",function(t,e){S.elementClick({data:t.data,index:e,color:d3.select(this).style("fill"),event:d3.event,element:this})}),Z.on("dblclick",function(t,e){S.elementDblClick({data:t.data,index:e,color:d3.select(this).style("fill")})}),Y.attr("fill",function(t,e){return s(t.data,e)}),Y.attr("stroke",function(t,e){return s(t.data,e)}),Z.append("path").each(function(t){this._current=t}),Y.select("path").transition().duration(_).attr("d",function(t,e){return C[e](t)}).attrTween("d",function(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,g||(t.innerRadius=0);var n=d3.interpolate(this._current,t);return this._current=n(0),function(t){return C[e](n(t))}}),c){for(var J=[],z=0;z<D[0].length;z++)J.push(C[z]),f?g&&(J[z]=d3.svg.arc().outerRadius(C[z].outerRadius()),!1!==b&&J[z].startAngle(b),!1!==w&&J[z].endAngle(w)):g||J[z].innerRadius(0);X.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=d3.select(this);n.attr("transform",function(t,e){if(!x)return t.outerRadius=O+10,t.innerRadius=O+15,"translate("+J[e].centroid(t)+")";t.outerRadius=L[e]+10,t.innerRadius=L[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+J[e].centroid(t)+") rotate("+n+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var Q={},K=function(t){return 140*Math.floor(t[0]/140)+","+14*Math.floor(t[1]/14)},tt=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};X.watchTransition(T,"pie labels").attr("transform",function(t,e){if(x){t.outerRadius=L[e]+10,t.innerRadius=L[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+J[e].centroid(t)+") rotate("+n+")"}t.outerRadius=O+10,t.innerRadius=O+15;var r=J[e].centroid(t),i=tt(t);return t.value&&i>=h&&(Q[K(r)]&&(r[1]-=14),Q[K(r)]=!0),"translate("+r+")"}),X.select(".nv-label text").style("text-anchor",function(t,e){return x?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=tt(t),r="";if(!t.value||n<h)return"";if("function"==typeof d)r=d(t,e,{key:i(t.data),value:o(t.data),percent:l(n)});else switch(d){case"key":r=i(t.data);break;case"value":r=l(o(t.data));break;case"percent":r=d3.format("%")(n)}return r}),p&&X.each(function(t,e){if(this.getBBox){var r=this.getBBox(),i=J[e].centroid(t),o={x:i[0]+r.x,y:i[1]+r.y},a={x:o.x+r.width,y:o.y},u={x:o.x,y:o.y+r.height},s={x:o.x+r.width,y:o.y+r.height};t.visible=n.utils.pointIsInArc(o,t,V)&&n.utils.pointIsInArc(a,t,V)&&n.utils.pointIsInArc(u,t,V)&&n.utils.pointIsInArc(s,t,V)}}).style("display",function(t){return t.visible?null:"none"})}}),T.renderEnd("pie immediate"),D}return D.dispatch=S,D.options=n.utils.optionsFunc.bind(D),D._options=Object.create({},{arcsRadius:{get:function(){return E},set:function(t){E=t}},width:{get:function(){return e},set:function(t){e=t}},height:{get:function(){return r},set:function(t){r=t}},showLabels:{get:function(){return c},set:function(t){c=t}},title:{get:function(){return v},set:function(t){v=t}},titleOffset:{get:function(){return y},set:function(t){y=t}},labelThreshold:{get:function(){return h},set:function(t){h=t}},hideOverlapLabels:{get:function(){return p},set:function(t){p=t}},valueFormat:{get:function(){return l},set:function(t){l=t}},x:{get:function(){return i},set:function(t){i=t}},id:{get:function(){return a},set:function(t){a=t}},endAngle:{get:function(){return w},set:function(t){w=t}},startAngle:{get:function(){return b},set:function(t){b=t}},padAngle:{get:function(){return k},set:function(t){k=t}},cornerRadius:{get:function(){return M},set:function(t){M=t}},donutRatio:{get:function(){return A},set:function(t){A=t}},labelsOutside:{get:function(){return f},set:function(t){f=t}},labelSunbeamLayout:{get:function(){return x},set:function(t){x=t}},donut:{get:function(){return g},set:function(t){g=t}},growOnHover:{get:function(){return m},set:function(t){m=t}},pieLabelsOutside:{get:function(){return f},set:function(t){f=t,n.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return f},set:function(t){f=t,n.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return l},set:function(t){l=t,n.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},duration:{get:function(){return _},set:function(t){_=t,T.reset(_)}},y:{get:function(){return o},set:function(t){o=d3.functor(t)}},color:{get:function(){return s},set:function(t){s=n.utils.getColor(t)}},labelType:{get:function(){return d},set:function(t){d=t||"key"}}}),n.utils.initOptions(D),D},n.models.pieChart=function(){var t=n.models.pie(),e=n.models.legend(),r=n.models.tooltip(),i={top:30,right:20,bottom:20,left:20},o=null,a=null,u=null,s=!1,l=!0,c="top",f=n.utils.defaultColor(),d=n.utils.state(),h=null,p=null,g=250,v=d3.dispatch("stateChange","changeState","renderEnd");r.duration(0).headerEnabled(!1).valueFormatter(function(e,n){return t.valueFormat()(e,n)});var m=n.utils.renderWatch(v);function y(r){return m.reset(),m.models(t),r.each(function(r){var s,f=d3.select(this);n.utils.initSVG(f);var p=n.utils.availableWidth(a,f,i),g=n.utils.availableHeight(u,f,i);if(y.update=function(){f.transition().call(y)},y.container=this,d.setter(function(t){void 0!==t.active&&r.forEach(function(e,n){e.disabled=!t.active[n]})},y.update).getter(function(){return{active:r.map(function(t){return!t.disabled})}}).update(),d.disabled=r.map(function(t){return!!t.disabled}),!h)for(s in h={},d)d[s]instanceof Array?h[s]=d[s].slice(0):h[s]=d[s];if(!r||!r.length)return n.utils.noData(y,f),y;f.selectAll(".nv-noData").remove();var m=f.selectAll("g.nv-wrap.nv-pieChart").data([r]),x=m.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),b=m.select("g");if(x.append("g").attr("class","nv-pieWrap"),x.append("g").attr("class","nv-legendWrap"),l){if("top"===c)e.width(p).key(t.x()),m.select(".nv-legendWrap").datum(r).call(e),o||e.height()===i.top||(i.top=e.height(),g=n.utils.availableHeight(u,f,i)),m.select(".nv-legendWrap").attr("transform","translate(0,"+-i.top+")");else if("right"===c){var k=n.models.legend().width();p/2<k&&(k=p/2),e.height(g).key(t.x()),e.width(k),p-=e.width(),m.select(".nv-legendWrap").datum(r).call(e).attr("transform","translate("+p+",0)")}else"bottom"===c&&(e.width(p).key(t.x()),m.select(".nv-legendWrap").datum(r).call(e),i.bottom=e.height(),g=n.utils.availableHeight(u,f,i),m.select(".nv-legendWrap").attr("transform","translate(0,"+g+")"))}else b.select(".nv-legendWrap").selectAll("*").remove();m.attr("transform","translate("+i.left+","+i.top+")"),t.width(p).height(g);var w=b.select(".nv-pieWrap").datum([r]);d3.transition(w).call(t),e.dispatch.on("stateChange",function(t){for(var e in t)d[e]=t[e];v.stateChange(d),y.update()}),v.on("changeState",function(t){void 0!==t.disabled&&(r.forEach(function(e,n){e.disabled=t.disabled[n]}),d.disabled=t.disabled),y.update()})}),m.renderEnd("pieChart immediate"),y}return t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:y.x()(t.data),value:y.y()(t.data),color:t.color,percent:t.percent},s||(delete t.percent,delete t.series.percent),r.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){r.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){r()}),y.legend=e,y.dispatch=v,y.pie=t,y.tooltip=r,y.options=n.utils.optionsFunc.bind(y),y._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},noData:{get:function(){return p},set:function(t){p=t}},showTooltipPercent:{get:function(){return s},set:function(t){s=t}},showLegend:{get:function(){return l},set:function(t){l=t}},legendPosition:{get:function(){return c},set:function(t){c=t}},defaultState:{get:function(){return h},set:function(t){h=t}},color:{get:function(){return f},set:function(n){f=n,e.color(f),t.color(f)}},duration:{get:function(){return g},set:function(e){g=e,m.reset(g),t.duration(g)}},margin:{get:function(){return i},set:function(t){void 0!==t.top&&(i.top=t.top,o=t.top),i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),n.utils.inheritOptions(y,t),n.utils.initOptions(y),y},n.models.sankey=function(){var t={},e=24,r=8,i=[1,1],o=[],a=[],u=!0,s=function(t){o.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),a.forEach(function(t){var e=t.source,n=t.target;"number"==typeof e&&(e=t.source=o[t.source]),"number"==typeof n&&(n=t.target=o[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)}),o.forEach(function(t){t.value=Math.max(d3.sum(t.sourceLinks,h),d3.sum(t.targetLinks,h))}),function(){for(var t,n,r,a=o,s=0;a.length&&s<o.length;)r=[],a.forEach(function(t){t.x=s,t.dx=e,t.sourceLinks.forEach(function(t){0>r.indexOf(t.target)&&r.push(t.target)})}),a=r,++s;u&&(t=s,o.forEach(function(e){e.sourceLinks.length||(e.x=t-1)})),n=(i[0]-e)/(s-1),o.forEach(function(t){t.x*=n})}(),function(t){var e,n=d3.nest().key(function(t){return t.x}).sortKeys(d3.ascending).entries(o).map(function(t){return t.values});e=d3.min(n,function(t){return(i[1]-(t.length-1)*r)/d3.sum(t,h)}),n.forEach(function(t){t.forEach(function(t,n){t.y=n,t.dy=t.value*e})}),a.forEach(function(t){t.dy=t.value*e}),s(),d();for(var u=1;t>0;--t)(function(t){n.slice().reverse().forEach(function(n){n.forEach(function(n){if(n.sourceLinks.length){var r=d3.sum(n.sourceLinks,e)/d3.sum(n.sourceLinks,h);n.y+=(r-f(n))*t}})});function e(t){return(t.target.y+t.ty+t.dy/2)*t.value}})(u*=.99),s(),d(),function(t){n.forEach(function(n,r){n.forEach(function(n){if(n.targetLinks.length){var r=d3.sum(n.targetLinks,e)/d3.sum(n.targetLinks,h);n.y+=(r-f(n))*t}})});function e(t){return(t.source.y+t.sy+t.dy/2)*t.value}}(u),s(),d();function s(){n.forEach(function(t){var e,n,o,a=0,u=t.length;for(t.sort(l),o=0;o<u;++o)(n=a-(e=t[o]).y)>0&&(e.y+=n),a=e.y+e.dy+r;if((n=a-r-i[1])>0)for(a=e.y-=n,o=u-2;o>=0;--o)(n=(e=t[o]).y+e.dy+r-a)>0&&(e.y-=n),a=e.y})}function l(t,e){return t.y-e.y}}(t)},l=function(){d()},c=function(){var t=.5;function e(e){var n=e.source.x+e.source.dx,r=e.target.x,i=d3.interpolateNumber(n,r),o=i(t),a=i(1-t),u=e.source.y+e.sy+e.dy/2,s=e.target.y+e.ty+e.dy/2;return"M"+n+","+u+"C"+o+","+u+" "+a+","+s+" "+r+","+s}return e.curvature=function(n){return arguments.length?(t=+n,e):t},e},f=function(t){return t.y+t.dy/2};function d(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}o.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),o.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function h(t){return t.value}return t.options=n.utils.optionsFunc.bind(t),t._options=Object.create({},{nodeWidth:{get:function(){return e},set:function(t){e=+t}},nodePadding:{get:function(){return r},set:function(t){r=t}},nodes:{get:function(){return o},set:function(t){o=t}},links:{get:function(){return a},set:function(t){a=t}},size:{get:function(){return i},set:function(t){i=t}},sinksRight:{get:function(){return u},set:function(t){u=t}},layout:{get:function(){s(32)},set:function(t){s(t)}},relayout:{get:function(){l()},set:function(t){}},center:{get:function(){return f()},set:function(t){"function"==typeof t&&(f=t)}},link:{get:function(){return c()},set:function(t){return"function"==typeof t&&(c=t),c()}}}),n.utils.initOptions(t),t},n.models.sankeyChart=function(){var t={top:5,right:0,bottom:5,left:0},e=n.models.sankey(),r=600,i=400,o=36,a=40,u="units",s=void 0,l=d3.format(",.0f"),c=function(t){return l(t)+" "+u},f=d3.scale.category20(),d=function(t){return t.source.name+" â "+t.target.name+"\n"+c(t.value)},h=function(t){return t.color=f(t.name.replace(/ .*/,""))},p=function(t){return d3.rgb(t.color).darker(2)},g=function(t){return t.name+"\n"+c(t.value)},v=function(t,e){t.append("text").attr("x",0).attr("y",0).attr("class","nvd3-sankey-chart-error").attr("text-anchor","middle").text(e)};function m(t){return t.each(function(n){var u={nodes:[{node:1,name:"Test 1"},{node:2,name:"Test 2"},{node:3,name:"Test 3"},{node:4,name:"Test 4"},{node:5,name:"Test 5"},{node:6,name:"Test 6"}],links:[{source:0,target:1,value:2295},{source:0,target:5,value:1199},{source:1,target:2,value:1119},{source:1,target:5,value:1176},{source:2,target:3,value:487},{source:2,target:5,value:632},{source:3,target:4,value:301},{source:3,target:5,value:186}]},l=!1,c=!1;if(("object"==typeof n.nodes&&n.nodes.length)>=0&&("object"==typeof n.links&&n.links.length)>=0&&(l=!0),n.nodes&&n.nodes.length>0&&n.links&&n.links.length>0&&(c=!0),!l)return console.error("NVD3 Sankey chart error:","invalid data format for",n),console.info("Valid data format is: ",u,JSON.stringify(u)),v(t,"Error loading chart, data is invalid"),!1;if(!c)return v(t,"No data available"),!1;var f=t.append("svg").attr("width",r).attr("height",i).append("g").attr("class","nvd3 nv-wrap nv-sankeyChart");e.nodeWidth(o).nodePadding(a).size([r,i]);var m=e.link();e.nodes(n.nodes).links(n.links).layout(32).center(s);var y=f.append("g").selectAll(".link").data(n.links).enter().append("path").attr("class","link").attr("d",m).style("stroke-width",function(t){return Math.max(1,t.dy)}).sort(function(t,e){return e.dy-t.dy});y.append("title").text(d);var x=f.append("g").selectAll(".node").data(n.nodes).enter().append("g").attr("class","node").attr("transform",function(t){return"translate("+t.x+","+t.y+")"}).call(d3.behavior.drag().origin(function(t){return t}).on("dragstart",function(){this.parentNode.appendChild(this)}).on("drag",function(t){d3.select(this).attr("transform","translate("+t.x+","+(t.y=Math.max(0,Math.min(i-t.dy,d3.event.y)))+")"),e.relayout(),y.attr("d",m)}));x.append("rect").attr("height",function(t){return t.dy}).attr("width",e.nodeWidth()).style("fill",h).style("stroke",p).append("title").text(g),x.append("text").attr("x",-6).attr("y",function(t){return t.dy/2}).attr("dy",".35em").attr("text-anchor","end").attr("transform",null).text(function(t){return t.name}).filter(function(t){return t.x<r/2}).attr("x",6+e.nodeWidth()).attr("text-anchor","start")}),m}return m.options=n.utils.optionsFunc.bind(m),m._options=Object.create({},{units:{get:function(){return u},set:function(t){u=t}},width:{get:function(){return r},set:function(t){r=t}},height:{get:function(){return i},set:function(t){i=t}},format:{get:function(){return c},set:function(t){c=t}},linkTitle:{get:function(){return d},set:function(t){d=t}},nodeWidth:{get:function(){return o},set:function(t){o=t}},nodePadding:{get:function(){return a},set:function(t){a=t}},center:{get:function(){return s},set:function(t){s=t}},margin:{get:function(){return t},set:function(e){t.top=void 0!==e.top?e.top:t.top,t.right=void 0!==e.right?e.right:t.right,t.bottom=void 0!==e.bottom?e.bottom:t.bottom,t.left=void 0!==e.left?e.left:t.left}},nodeStyle:{get:function(){return{}},set:function(t){h=void 0!==t.fillColor?t.fillColor:h,p=void 0!==t.strokeColor?t.strokeColor:p,g=void 0!==t.title?t.title:g}}}),n.utils.initOptions(m),m},n.models.scatter=function(){var t,e,r,i,o,a,u,s,l={top:0,right:0,bottom:0,left:0},c=null,f=null,d=n.utils.defaultColor(),h=null,p=Math.floor(1e5*Math.random()),g=null,v=d3.scale.linear(),m=d3.scale.linear(),y=d3.scale.linear(),x=function(t){return t.x},b=function(t){return t.y},k=function(t){return t.size||1},w=function(t){return t.shape||"circle"},M=[],A=[],_=[],E=!0,S=function(t){return!t.notActive},C=!1,N=.1,T=!1,D=!0,j=!1,F=function(){return 25},O=null,L=null,P=null,W=null,I=null,z=null,H=!1,R=d3.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),B=!0,q=250,V=300,U=!1,G=!1,Y=n.utils.renderWatch(R,q),X=[16,256],Z={};function J(t){var e;e=t[0].series+":"+t[1],delete Z[e]}function Q(t){var e,n,r,i,o=Z[e=t[0].series+":"+t[1]]=Z[e]||{},a=!1;for(n=1;n<arguments.length;n+=2)r=arguments[n],i=arguments[n+1](t[0],t[1]),o[r]===i&&o.hasOwnProperty(r)||(o[r]=i,a=!0);return a}function K(q){return Y.reset(),q.each(function(q){g=d3.select(this);var Z=n.utils.availableWidth(c,g,l),tt=n.utils.availableHeight(f,g,l);n.utils.initSVG(g),q.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var te="function"==typeof K.yScale().base,tn=O&&L&&I?[]:d3.merge(q.map(function(t){return t.values.map(function(t,e){return{x:x(t,e),y:b(t,e),size:k(t,e)}})}));if(v.domain(O||d3.extent(tn.map(function(t){return t.x}).concat(M))),C&&q[0]?v.range(P||[(Z*N+Z)/(2*q[0].values.length),Z-Z*(1+N)/(2*q[0].values.length)]):v.range(P||[0,Z]),te){var tr=d3.min(tn.map(function(t){if(0!==t.y)return t.y}));m.clamp(!0).domain(L||d3.extent(tn.map(function(t){return 0!==t.y?t.y:.1*tr}).concat(A))).range(W||[tt,0])}else m.domain(L||d3.extent(tn.map(function(t){return t.y}).concat(A))).range(W||[tt,0]);y.domain(I||d3.extent(tn.map(function(t){return t.size}).concat(_))).range(z||X),H=v.domain()[0]===v.domain()[1]||m.domain()[0]===m.domain()[1],v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(v.domain()[0])&&v.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),t=t||v,e=e||m,r=r||y;var ti=v(1)!==t(1)||m(1)!==e(1)||y(1)!==r(1);a=a||c,u=u||f;var to=a!==c||u!==f,ta=(i=i||[])[0]!==v.domain()[0]||i[1]!==v.domain()[1];i=v.domain(),o=o||[],ta=ta||o[0]!==m.domain()[0]||o[1]!==m.domain()[1],o=m.domain();var tu=g.selectAll("g.nv-wrap.nv-scatter").data([q]),ts=tu.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+p),tl=ts.append("defs"),tc=ts.append("g"),tf=tu.select("g");function td(){if(G=!1,!E)return!1;if(!0===B){tu.select(".nv-point-paths").selectAll("path").remove();var t=d3.merge(q.map(function(t,e){return t.values.map(function(t,r){var i=x(t,r),o=b(t,r);return[n.utils.NaNtoZero(v(i))+1e-4*Math.random(),n.utils.NaNtoZero(m(o))+1e-4*Math.random(),e,r,t]}).filter(function(t,e){return S(t[4],e)})}));if(0==t.length)return!1;t.length<3&&(t.push([v.range()[0]-20,m.range()[0]-20,null,null]),t.push([v.range()[1]+20,m.range()[1]+20,null,null]),t.push([v.range()[0]-20,m.range()[0]+20,null,null]),t.push([v.range()[1]+20,m.range()[1]-20,null,null]));var e=d3.geom.polygon([[-10,-10],[-10,f+10],[c+10,f+10],[c+10,-10]]);t=t.sort(function(t,e){return t[0]-e[0]||t[1]-e[1]});for(var r=0;r<t.length-1;)1e-4>Math.abs(t[r][0]-t[r+1][0])&&1e-4>Math.abs(t[r][1]-t[r+1][1])?t.splice(r+1,1):r++;var i=d3.geom.voronoi(t).map(function(n,r){return{data:e.clip(n),series:t[r][2],point:t[r][3]}}),o=tu.select(".nv-point-paths").selectAll("path").data(i),a=o.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+p+"-"+e+")"});j&&a.style("fill",d3.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",d3.rgb(200,200,200)),D&&(tu.select(".nv-point-clips").selectAll("*").remove(),tu.select(".nv-point-clips").selectAll("clipPath").data(t).enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+p+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",F));var u=function(t,e,n){if(G)return 0;var r=q[e.series];if(void 0!==r){var i=r.values[e.point];i.color=d(r,e.series),i.x=x(i),i.y=b(i);var o=g.node().getBoundingClientRect(),a=window.pageYOffset||document.documentElement.scrollTop,u=window.pageXOffset||document.documentElement.scrollLeft,s={left:v(x(i,e.point))+o.left+u+l.left+10,top:m(b(i,e.point))+o.top+a+l.top+10};n({point:i,series:r,pos:s,relativePos:[v(x(i,e.point))+l.left,m(b(i,e.point))+l.top],seriesIndex:e.series,pointIndex:e.point,event:d3.event,element:t})}};o.on("click",function(t){u(this,t,R.elementClick)}).on("dblclick",function(t){u(this,t,R.elementDblClick)}).on("mouseover",function(t){u(this,t,R.elementMouseover)}).on("mouseout",function(t,e){u(this,t,R.elementMouseout)})}else tu.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(t,e){if(G||!q[t.series])return 0;var n=q[t.series],r=n.values[e];R.elementClick({point:r,series:n,pos:[v(x(r,e))+l.left,m(b(r,e))+l.top],relativePos:[v(x(r,e))+l.left,m(b(r,e))+l.top],seriesIndex:t.series,pointIndex:e,event:d3.event,element:this})}).on("dblclick",function(t,e){if(G||!q[t.series])return 0;var n=q[t.series],r=n.values[e];R.elementDblClick({point:r,series:n,pos:[v(x(r,e))+l.left,m(b(r,e))+l.top],relativePos:[v(x(r,e))+l.left,m(b(r,e))+l.top],seriesIndex:t.series,pointIndex:e})}).on("mouseover",function(t,e){if(G||!q[t.series])return 0;var n=q[t.series],r=n.values[e];R.elementMouseover({point:r,series:n,pos:[v(x(r,e))+l.left,m(b(r,e))+l.top],relativePos:[v(x(r,e))+l.left,m(b(r,e))+l.top],seriesIndex:t.series,pointIndex:e,color:d(t,e)})}).on("mouseout",function(t,e){if(G||!q[t.series])return 0;var n=q[t.series],r=n.values[e];R.elementMouseout({point:r,series:n,pos:[v(x(r,e))+l.left,m(b(r,e))+l.top],relativePos:[v(x(r,e))+l.left,m(b(r,e))+l.top],seriesIndex:t.series,pointIndex:e,color:d(t,e)})})}tu.classed("nv-single-point",H),tc.append("g").attr("class","nv-groups"),tc.append("g").attr("class","nv-point-paths"),ts.append("g").attr("class","nv-point-clips"),tu.attr("transform","translate("+l.left+","+l.top+")"),tl.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect").attr("transform","translate( -10, -10)"),tu.select("#nv-edge-clip-"+p+" rect").attr("width",Z+20).attr("height",tt>0?tt+20:0),tf.attr("clip-path",T?"url(#nv-edge-clip-"+p+")":""),G=!0;var th=tu.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});th.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),th.exit().remove(),th.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!E).classed("hover",function(t){return t.hover}),th.watchTransition(Y,"scatter: groups").style("fill",function(t,e){return d(t,e)}).style("stroke",function(t,e){return t.pointBorderColor||h||d(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var tp=th.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return S(t[0],e)})});if(tp.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(r){return"translate("+n.utils.NaNtoZero(t(x(r[0],r[1])))+","+n.utils.NaNtoZero(e(b(r[0],r[1])))+")"}).attr("d",n.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(k(t[0],t[1]))})),tp.exit().each(J).remove(),th.exit().selectAll("path.nv-point").watchTransition(Y,"scatter exit").attr("transform",function(t){return"translate("+n.utils.NaNtoZero(v(x(t[0],t[1])))+","+n.utils.NaNtoZero(m(b(t[0],t[1])))+")"}).remove(),tp.filter(function(t){return Q(t,"x",x,"y",b)||ti||to||ta}).watchTransition(Y,"scatter points").attr("transform",function(t){return"translate("+n.utils.NaNtoZero(v(x(t[0],t[1])))+","+n.utils.NaNtoZero(m(b(t[0],t[1])))+")"}),tp.filter(function(t){return Q(t,"shape",w,"size",k)||ti||to||ta}).watchTransition(Y,"scatter points").attr("d",n.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(k(t[0],t[1]))})),U){var tg=th.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return S(t[0],e)})});tg.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(r){return"translate("+(n.utils.NaNtoZero(t(x(r[0],r[1])))+Math.sqrt(y(k(r[0],r[1]))/Math.PI)+2)+","+n.utils.NaNtoZero(e(b(r[0],r[1])))+")"}).text(function(t,e){return t[0].label}),tg.exit().remove(),th.exit().selectAll("path.nv-label").watchTransition(Y,"scatter exit").attr("transform",function(t){return"translate("+(n.utils.NaNtoZero(v(x(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2)+","+n.utils.NaNtoZero(m(b(t[0],t[1])))+")"}).remove(),tg.each(function(t){d3.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),tg.watchTransition(Y,"scatter labels").attr("transform",function(t){return"translate("+(n.utils.NaNtoZero(v(x(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2)+","+n.utils.NaNtoZero(m(b(t[0],t[1])))+")"})}V?(clearTimeout(s),s=setTimeout(td,V)):td(),t=v.copy(),e=m.copy(),r=y.copy(),a=c,u=f}),Y.renderEnd("scatter immediate"),K}return K.dispatch=R,K.options=n.utils.optionsFunc.bind(K),K._calls=new function(){this.clearHighlights=function(){return n.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,r){n.dom.write(function(){g.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",r)})}},R.on("elementMouseover.point",function(t){E&&K._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),R.on("elementMouseout.point",function(t){E&&K._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),K._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return f},set:function(t){f=t}},xScale:{get:function(){return v},set:function(t){v=t}},yScale:{get:function(){return m},set:function(t){m=t}},pointScale:{get:function(){return y},set:function(t){y=t}},xDomain:{get:function(){return O},set:function(t){O=t}},yDomain:{get:function(){return L},set:function(t){L=t}},pointDomain:{get:function(){return I},set:function(t){I=t}},xRange:{get:function(){return P},set:function(t){P=t}},yRange:{get:function(){return W},set:function(t){W=t}},pointRange:{get:function(){return z},set:function(t){z=t}},forceX:{get:function(){return M},set:function(t){M=t}},forceY:{get:function(){return A},set:function(t){A=t}},forcePoint:{get:function(){return _},set:function(t){_=t}},interactive:{get:function(){return E},set:function(t){E=t}},pointActive:{get:function(){return S},set:function(t){S=t}},padDataOuter:{get:function(){return N},set:function(t){N=t}},padData:{get:function(){return C},set:function(t){C=t}},clipEdge:{get:function(){return T},set:function(t){T=t}},clipVoronoi:{get:function(){return D},set:function(t){D=t}},clipRadius:{get:function(){return F},set:function(t){F=t}},showVoronoi:{get:function(){return j},set:function(t){j=t}},id:{get:function(){return p},set:function(t){p=t}},interactiveUpdateDelay:{get:function(){return V},set:function(t){V=t}},showLabels:{get:function(){return U},set:function(t){U=t}},pointBorderColor:{get:function(){return h},set:function(t){h=t}},x:{get:function(){return x},set:function(t){x=d3.functor(t)}},y:{get:function(){return b},set:function(t){b=d3.functor(t)}},pointSize:{get:function(){return k},set:function(t){k=d3.functor(t)}},pointShape:{get:function(){return w},set:function(t){w=d3.functor(t)}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return q},set:function(t){q=t,Y.reset(q)}},color:{get:function(){return d},set:function(t){d=n.utils.getColor(t)}},useVoronoi:{get:function(){return B},set:function(t){!1===(B=t)&&(D=!1)}}}),n.utils.initOptions(K),K},n.models.scatterChart=function(){var t=n.models.scatter(),e=n.models.axis(),r=n.models.axis(),i=n.models.legend(),o=n.models.distribution(),a=n.models.distribution(),u=n.models.tooltip(),s={top:30,right:20,bottom:50,left:75},l=null,c=null,f=null,d=null,h=n.utils.defaultColor(),p=t.xScale(),g=t.yScale(),v=!1,m=!1,y=!0,x=!0,b=!0,k=!1,w=n.utils.state(),M=null,A=d3.dispatch("stateChange","changeState","renderEnd"),_=null,E=250,S=!1;t.xScale(p).yScale(g),e.orient("bottom").tickPadding(10),r.orient(k?"right":"left").tickPadding(10),o.axis("x"),a.axis("y"),u.headerFormatter(function(t,n){return e.tickFormat()(t,n)}).valueFormatter(function(t,e){return r.tickFormat()(t,e)});var C=n.utils.renderWatch(A,E);function N(_){return C.reset(),C.models(t),x&&C.models(e),b&&C.models(r),v&&C.models(o),m&&C.models(a),_.each(function(_){d=d3.select(this),n.utils.initSVG(d);var T,D=n.utils.availableWidth(c,d,s),j=n.utils.availableHeight(f,d,s);if(N.update=function(){0===E?d.call(N):d.transition().duration(E).call(N)},N.container=this,w.setter(function(t){void 0!==t.active&&_.forEach(function(e,n){e.disabled=!t.active[n]})},N.update).getter(function(){return{active:_.map(function(t){return!t.disabled})}}).update(),w.disabled=_.map(function(t){return!!t.disabled}),!M)for(T in M={},w)w[T]instanceof Array?M[T]=w[T].slice(0):M[T]=w[T];if(!_||!_.length||!_.filter(function(t){return t.values.length}).length)return n.utils.noData(N,d),C.renderEnd("scatter immediate"),N;d.selectAll(".nv-noData").remove(),p=t.xScale(),g=t.yScale();var F=d.selectAll("g.nv-wrap.nv-scatterChart").data([_]),O=F.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+t.id()).append("g"),L=F.select("g");O.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),O.append("g").attr("class","nv-x nv-axis"),O.append("g").attr("class","nv-y nv-axis"),O.append("g").attr("class","nv-scatterWrap"),O.append("g").attr("class","nv-regressionLinesWrap"),O.append("g").attr("class","nv-distWrap"),O.append("g").attr("class","nv-legendWrap"),k&&L.select(".nv-y.nv-axis").attr("transform","translate("+D+",0)"),y?(i.width(D),F.select(".nv-legendWrap").datum(_).call(i),l||i.height()===s.top||(s.top=i.height(),j=n.utils.availableHeight(f,d,s)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-s.top+")")):L.select(".nv-legendWrap").selectAll("*").remove(),F.attr("transform","translate("+s.left+","+s.top+")"),t.width(D).height(j).color(_.map(function(t,e){return t.color=t.color||h(t,e),t.color}).filter(function(t,e){return!_[e].disabled})).showLabels(S),F.select(".nv-scatterWrap").datum(_.filter(function(t){return!t.disabled})).call(t),F.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+t.id()+")");var P=F.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});P.enter().append("g").attr("class","nv-regLines");var W=P.selectAll(".nv-regLine").data(function(t){return[t]});W.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),W.filter(function(t){return t.intercept&&t.slope}).watchTransition(C,"scatterPlusLineChart: regline").attr("x1",p.range()[0]).attr("x2",p.range()[1]).attr("y1",function(t,e){return g(p.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return g(p.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return h(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||void 0===t.slope||void 0===t.intercept?0:1}),x&&(e.scale(p)._ticks(n.utils.calcTicksX(D/100,_)).tickSize(-j,0),L.select(".nv-x.nv-axis").attr("transform","translate(0,"+g.range()[0]+")").call(e)),b&&(r.scale(g)._ticks(n.utils.calcTicksY(j/36,_)).tickSize(-D,0),L.select(".nv-y.nv-axis").call(r)),v&&(o.getData(t.x()).scale(p).width(D).color(_.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!_[e].disabled})),O.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),L.select(".nv-distributionX").attr("transform","translate(0,"+g.range()[0]+")").datum(_.filter(function(t){return!t.disabled})).call(o)),m&&(a.getData(t.y()).scale(g).width(j).color(_.map(function(t,e){return t.color||h(t,e)}).filter(function(t,e){return!_[e].disabled})),O.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),L.select(".nv-distributionY").attr("transform","translate("+(k?D:-a.size())+",0)").datum(_.filter(function(t){return!t.disabled})).call(a)),i.dispatch.on("stateChange",function(t){for(var e in t)w[e]=t[e];A.stateChange(w),N.update()}),A.on("changeState",function(t){void 0!==t.disabled&&(_.forEach(function(e,n){e.disabled=t.disabled[n]}),w.disabled=t.disabled),N.update()}),t.dispatch.on("elementMouseout.tooltip",function(e){u.hidden(!0),d.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-distx-"+e.pointIndex).attr("y1",0),d.select(".nv-chart-"+t.id()+" .nv-series-"+e.seriesIndex+" .nv-disty-"+e.pointIndex).attr("x2",a.size())}),t.dispatch.on("elementMouseover.tooltip",function(t){d.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-j),d.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+o.size()),u.data(t).hidden(!1)}),p.copy(),g.copy()}),C.renderEnd("scatter with line immediate"),N}return N.dispatch=A,N.scatter=t,N.legend=i,N.xAxis=e,N.yAxis=r,N.distX=o,N.distY=a,N.tooltip=u,N.options=n.utils.optionsFunc.bind(N),N._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return f},set:function(t){f=t}},container:{get:function(){return d},set:function(t){d=t}},showDistX:{get:function(){return v},set:function(t){v=t}},showDistY:{get:function(){return m},set:function(t){m=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return M},set:function(t){M=t}},noData:{get:function(){return _},set:function(t){_=t}},duration:{get:function(){return E},set:function(t){E=t}},showLabels:{get:function(){return S},set:function(t){S=t}},margin:{get:function(){return s},set:function(t){void 0!==t.top&&(s.top=t.top,l=t.top),s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,r.orient(t?"right":"left")}},color:{get:function(){return h},set:function(t){h=n.utils.getColor(t),i.color(h),o.color(h),a.color(h)}}}),n.utils.inheritOptions(N,t),n.utils.initOptions(N),N},n.models.sparkline=function(){var t,e,r,i,o={top:2,right:0,bottom:2,left:0},a=400,u=32,s=null,l=!0,c=d3.scale.linear(),f=d3.scale.linear(),d=function(t){return t.x},h=function(t){return t.y},p=n.utils.getColor(["#000"]),g=!0,v=!0,m=d3.dispatch("renderEnd"),y=n.utils.renderWatch(m);function x(l){return y.reset(),l.each(function(l){var m=a-o.left-o.right,y=u-o.top-o.bottom;s=d3.select(this),n.utils.initSVG(s),c.domain(t||d3.extent(l,d)).range(r||[0,m]),f.domain(e||d3.extent(l,h)).range(i||[y,0]);var x=s.selectAll("g.nv-wrap.nv-sparkline").data([l]);x.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline").append("g"),x.select("g"),x.attr("transform","translate("+o.left+","+o.top+")");var b=x.selectAll("path").data(function(t){return[t]});b.enter().append("path"),b.exit().remove(),b.style("stroke",function(t,e){return t.color||p(t,e)}).attr("d",d3.svg.line().x(function(t,e){return c(d(t,e))}).y(function(t,e){return f(h(t,e))}));var k=x.selectAll("circle.nv-point").data(function(t){var e=t.map(function(t,e){return h(t,e)});function n(e){if(-1==e)return null;var n=t[e];return n.pointIndex=e,n}var r=n(e.lastIndexOf(f.domain()[1])),i=n(e.indexOf(f.domain()[0])),o=n(e.length-1);return[g?i:null,g?r:null,v?o:null].filter(function(t){return null!=t})});k.enter().append("circle"),k.exit().remove(),k.attr("cx",function(t,e){return c(d(t,t.pointIndex))}).attr("cy",function(t,e){return f(h(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return d(t,t.pointIndex)==c.domain()[1]?"nv-point nv-currentValue":h(t,t.pointIndex)==f.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),y.renderEnd("sparkline immediate"),x}return x.options=n.utils.optionsFunc.bind(x),x._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},xDomain:{get:function(){return t},set:function(e){t=e}},yDomain:{get:function(){return e},set:function(t){e=t}},xRange:{get:function(){return r},set:function(t){r=t}},yRange:{get:function(){return i},set:function(t){i=t}},xScale:{get:function(){return c},set:function(t){c=t}},yScale:{get:function(){return f},set:function(t){f=t}},animate:{get:function(){return l},set:function(t){l=t}},showMinMaxPoints:{get:function(){return g},set:function(t){g=t}},showCurrentPoint:{get:function(){return v},set:function(t){v=t}},x:{get:function(){return d},set:function(t){d=d3.functor(t)}},y:{get:function(){return h},set:function(t){h=d3.functor(t)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return p},set:function(t){p=n.utils.getColor(t)}}}),x.dispatch=m,n.utils.initOptions(x),x},n.models.sparklinePlus=function(){var t,e,r=n.models.sparkline(),i={top:15,right:100,bottom:10,left:50},o=null,a=null,u=[],s=!1,l=d3.format(",r"),c=d3.format(",.2f"),f=!0,d=!0,h=!1,p=null,g=d3.dispatch("renderEnd"),v=n.utils.renderWatch(g);function m(p){return v.reset(),v.models(r),p.each(function(p){var g=d3.select(this);n.utils.initSVG(g);var v=n.utils.availableWidth(o,g,i),y=n.utils.availableHeight(a,g,i);if(m.update=function(){g.call(m)},m.container=this,!p||!p.length)return n.utils.noData(m,g),m;g.selectAll(".nv-noData").remove();var x=r.y()(p[p.length-1],p.length-1);t=r.xScale(),e=r.yScale();var b=g.selectAll("g.nv-wrap.nv-sparklineplus").data([p]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus").append("g"),w=b.select("g");k.append("g").attr("class","nv-sparklineWrap"),k.append("g").attr("class","nv-valueWrap"),k.append("g").attr("class","nv-hoverArea"),b.attr("transform","translate("+i.left+","+i.top+")");var M=w.select(".nv-sparklineWrap");if(r.width(v).height(y),M.call(r),f){var A=w.select(".nv-valueWrap").selectAll(".nv-currentValue").data([x]);A.enter().append("text").attr("class","nv-currentValue").attr("dx",h?-8:8).attr("dy",".9em").style("text-anchor",h?"end":"start"),A.attr("x",v+(h?i.right:0)).attr("y",d?function(t){return e(t)}:0).style("fill",r.color()(p[p.length-1],p.length-1)).text(c(x))}function _(){if(!s){var e=w.selectAll(".nv-hoverValue").data(u),n=e.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);e.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),e.attr("transform",function(e){return"translate("+t(r.x()(p[e],e))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),u.length&&(n.append("line").attr("x1",0).attr("y1",-i.top).attr("x2",0).attr("y2",y),n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-i.top).attr("text-anchor","end").attr("dy",".9em"),w.select(".nv-hoverValue .nv-xValue").text(l(r.x()(p[u[0]],u[0]))),n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-i.top).attr("text-anchor","start").attr("dy",".9em"),w.select(".nv-hoverValue .nv-yValue").text(c(r.y()(p[u[0]],u[0]))))}}k.select(".nv-hoverArea").append("rect").on("mousemove",function(){if(!s){var e=d3.mouse(this)[0]-i.left;u=[function(t,e){for(var n=Math.abs(r.x()(t[0],0)-e),i=0,o=0;o<t.length;o++)Math.abs(r.x()(t[o],o)-e)<n&&(n=Math.abs(r.x()(t[o],o)-e),i=o);return i}(p,Math.round(t.invert(e)))],_()}}).on("click",function(){s=!s}).on("mouseout",function(){u=[],_()}),w.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-i.left+","+-i.top+")"}).attr("width",v+i.left+i.right).attr("height",y+i.top)}),v.renderEnd("sparklinePlus immediate"),m}return m.dispatch=g,m.sparkline=r,m.options=n.utils.optionsFunc.bind(m),m._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return a},set:function(t){a=t}},xTickFormat:{get:function(){return l},set:function(t){l=t}},yTickFormat:{get:function(){return c},set:function(t){c=t}},showLastValue:{get:function(){return f},set:function(t){f=t}},alignValue:{get:function(){return d},set:function(t){d=t}},rightAlignValue:{get:function(){return h},set:function(t){h=t}},noData:{get:function(){return p},set:function(t){p=t}},margin:{get:function(){return i},set:function(t){i.top=void 0!==t.top?t.top:i.top,i.right=void 0!==t.right?t.right:i.right,i.bottom=void 0!==t.bottom?t.bottom:i.bottom,i.left=void 0!==t.left?t.left:i.left}}}),n.utils.inheritOptions(m,r),n.utils.initOptions(m),m},n.models.stackedArea=function(){var t,e,r={top:0,right:0,bottom:0,left:0},i=960,o=500,a=n.utils.defaultColor(),u=Math.floor(1e5*Math.random()),s=null,l=function(t){return t.x},c=function(t){return t.y},f=function(t,e){return!isNaN(c(t,e))&&null!==c(t,e)},d="stack",h="zero",p="default",g="linear",v=!1,m=n.models.scatter(),y=250,x=d3.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");m.pointSize(2.2).pointDomain([2.2,2.2]);var b=n.utils.renderWatch(x,y);function k(d){return b.reset(),b.models(m),d.each(function(d){var y=i-r.left-r.right,w=o-r.top-r.bottom;s=d3.select(this),n.utils.initSVG(s),t=m.xScale(),e=m.yScale();var M=d;d.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var A=d.filter(function(t){return!t.disabled});d=d3.layout.stack().order(p).offset(h).values(function(t){return t.values}).x(l).y(c).out(function(t,e,n){t.display={y:n,y0:e}})(A);var _=s.selectAll("g.nv-wrap.nv-stackedarea").data([d]),E=_.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),S=E.append("defs"),C=E.append("g"),N=_.select("g");C.append("g").attr("class","nv-areaWrap"),C.append("g").attr("class","nv-scatterWrap"),_.attr("transform","translate("+r.left+","+r.top+")"),0==m.forceY().length&&m.forceY().push(0),m.width(y).height(w).x(l).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(d.map(function(t,e){return t.color=t.color||a(t,t.seriesIndex),t.color})),N.select(".nv-scatterWrap").datum(d).call(m),S.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),_.select("#nv-edge-clip-"+u+" rect").attr("width",y).attr("height",w),N.attr("clip-path",v?"url(#nv-edge-clip-"+u+")":"");var T=d3.svg.area().defined(f).x(function(e,n){return t(l(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y+t.display.y0)}).interpolate(g),D=d3.svg.area().defined(f).x(function(e,n){return t(l(e,n))}).y0(function(t){return e(t.display.y0)}).y1(function(t){return e(t.display.y0)}),j=N.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});j.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return D(t.values,t.seriesIndex)}).on("mouseover",function(t,e){d3.select(this).classed("hover",!0),x.areaMouseover({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1),x.areaMouseout({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){d3.select(this).classed("hover",!1),x.areaClick({point:t,series:t.key,pos:[d3.event.pageX,d3.event.pageY],seriesIndex:t.seriesIndex})}),j.exit().remove(),j.style("fill",function(t,e){return t.color||a(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||a(t,t.seriesIndex)}),j.watchTransition(b,"stackedArea path").attr("d",function(t,e){return T(t.values,e)}),m.dispatch.on("elementMouseover.area",function(t){N.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),m.dispatch.on("elementMouseout.area",function(t){N.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),k.d3_stackedOffset_stackPercent=function(t){var e,n,r,i=t.length,o=t[0].length,a=[];for(n=0;n<o;++n){for(e=0,r=0;e<M.length;e++)r+=c(M[e].values[n]);if(r)for(e=0;e<i;e++)t[e][n][1]/=r;else for(e=0;e<i;e++)t[e][n][1]=0}for(n=0;n<o;++n)a[n]=0;return a}}),b.renderEnd("stackedArea immediate"),k}return k.dispatch=x,k.scatter=m,m.dispatch.on("elementClick",function(){x.elementClick.apply(this,arguments)}),m.dispatch.on("elementMouseover",function(){x.elementMouseover.apply(this,arguments)}),m.dispatch.on("elementMouseout",function(){x.elementMouseout.apply(this,arguments)}),k.interpolate=function(t){return arguments.length?(g=t,k):g},k.duration=function(t){return arguments.length?(y=t,b.reset(y),m.duration(y),k):y},k.dispatch=x,k.scatter=m,k.options=n.utils.optionsFunc.bind(k),k._options=Object.create({},{width:{get:function(){return i},set:function(t){i=t}},height:{get:function(){return o},set:function(t){o=t}},defined:{get:function(){return f},set:function(t){f=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},offset:{get:function(){return h},set:function(t){h=t}},order:{get:function(){return p},set:function(t){p=t}},interpolate:{get:function(){return g},set:function(t){g=t}},x:{get:function(){return l},set:function(t){l=d3.functor(t)}},y:{get:function(){return c},set:function(t){c=d3.functor(t)}},margin:{get:function(){return r},set:function(t){r.top=void 0!==t.top?t.top:r.top,r.right=void 0!==t.right?t.right:r.right,r.bottom=void 0!==t.bottom?t.bottom:r.bottom,r.left=void 0!==t.left?t.left:r.left}},color:{get:function(){return a},set:function(t){a=n.utils.getColor(t)}},style:{get:function(){return d},set:function(t){switch(d=t){case"stack":k.offset("zero"),k.order("default");break;case"stream":k.offset("wiggle"),k.order("inside-out");break;case"stream-center":k.offset("silhouette"),k.order("inside-out");break;case"expand":k.offset("expand"),k.order("default");break;case"stack_percent":k.offset(k.d3_stackedOffset_stackPercent),k.order("default")}}},duration:{get:function(){return y},set:function(t){y=t,b.reset(y),m.duration(y)}}}),n.utils.inheritOptions(k,m),n.utils.initOptions(k),k},n.models.stackedAreaChart=function(){var t,e,r=n.models.stackedArea(),i=n.models.axis(),o=n.models.axis(),a=n.models.legend(),u=n.models.legend(),s=n.interactiveGuideline(),l=n.models.tooltip(),c=n.models.focus(n.models.stackedArea()),f={top:10,right:25,bottom:50,left:60},d=null,h=null,p=null,g=n.utils.defaultColor(),v=!0,m=!0,y="top",x=!0,b=!0,k=!1,w=!1,M=!1,A=!0,_="TOTAL",E=n.utils.state(),S=null,C=null,N=d3.dispatch("stateChange","changeState","renderEnd"),T=250,D=["Stacked","Stream","Expanded"],j={},F=250;E.style=r.style(),i.orient("bottom").tickPadding(7),o.orient(k?"right":"left"),l.headerFormatter(function(t,e){return i.tickFormat()(t,e)}).valueFormatter(function(t,e){return o.tickFormat()(t,e)}),s.tooltip.headerFormatter(function(t,e){return i.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":o.tickFormat()(t,e)});var O=null,L=null;u.updateState(!1);var P=n.utils.renderWatch(N),W=(r.style(),d3.format("%"));function I(l){return P.reset(),P.models(r),x&&P.models(i),b&&P.models(o),l.each(function(l){var C,P,z=d3.select(this);n.utils.initSVG(z);var H=n.utils.availableWidth(h,z,f),R=n.utils.availableHeight(p,z,f)-(w?c.height():0);if(I.update=function(){z.transition().duration(F).call(I)},I.container=this,E.setter(function(t){void 0!==t.style&&t.style,void 0!==t.active&&l.forEach(function(e,n){e.disabled=!t.active[n]})},I.update).getter(function(){return{active:l.map(function(t){return!t.disabled}),style:r.style()}}).update(),E.disabled=l.map(function(t){return!!t.disabled}),!S)for(C in S={},E)E[C]instanceof Array?S[C]=E[C].slice(0):S[C]=E[C];if(!l||!l.length||!l.filter(function(t){return t.values.length}).length)return n.utils.noData(I,z),I;z.selectAll(".nv-noData").remove(),t=r.xScale(),e=r.yScale();var B=z.selectAll("g.nv-wrap.nv-stackedAreaChart").data([l]),q=B.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),V=B.select("g");q.append("g").attr("class","nv-legendWrap"),q.append("g").attr("class","nv-controlsWrap");var U=q.append("g").attr("class","nv-focus");if(U.append("g").attr("class","nv-background").append("rect"),U.append("g").attr("class","nv-x nv-axis"),U.append("g").attr("class","nv-y nv-axis"),U.append("g").attr("class","nv-stackedWrap"),U.append("g").attr("class","nv-interactive"),q.append("g").attr("class","nv-focusWrap"),m){var G=v&&"top"===y?H-T:H;if(a.width(G),V.select(".nv-legendWrap").datum(l).call(a),"bottom"===y){var Y=(x?12:0)+10;f.bottom=Math.max(a.height()+Y,f.bottom);var X=(R=n.utils.availableHeight(p,z,f)-(w?c.height():0))+Y;V.select(".nv-legendWrap").attr("transform","translate(0,"+X+")")}else"top"===y&&(d||f.top==a.height()||(f.top=a.height(),R=n.utils.availableHeight(p,z,f)-(w?c.height():0)),V.select(".nv-legendWrap").attr("transform","translate("+(H-G)+","+-f.top+")"))}else V.select(".nv-legendWrap").selectAll("*").remove();if(v){var Z=[{key:j.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=r.style(),style:"stack"},{key:j.stream||"Stream",metaKey:"Stream",disabled:"stream"!=r.style(),style:"stream"},{key:j.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=r.style(),style:"expand"},{key:j.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=r.style(),style:"stack_percent"}];T=D.length/3*260,Z=Z.filter(function(t){return -1!==D.indexOf(t.metaKey)}),u.width(T).color(["#444","#444","#444"]),V.select(".nv-controlsWrap").datum(Z).call(u);var J=Math.max(u.height(),m&&"top"===y?a.height():0);f.top!=J&&(f.top=J,R=n.utils.availableHeight(p,z,f)-(w?c.height():0)),V.select(".nv-controlsWrap").attr("transform","translate(0,"+-f.top+")")}else V.select(".nv-controlsWrap").selectAll("*").remove();B.attr("transform","translate("+f.left+","+f.top+")"),k&&V.select(".nv-y.nv-axis").attr("transform","translate("+H+",0)"),M&&(s.width(H).height(R).margin({left:f.left,top:f.top}).svgContainer(z).xScale(t),B.select(".nv-interactive").call(s)),V.select(".nv-focus .nv-background rect").attr("width",H).attr("height",R),r.width(H).height(R).color(l.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!l[e].disabled}));var Q=V.select(".nv-focus .nv-stackedWrap").datum(l.filter(function(t){return!t.disabled}));function K(){x&&V.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+R+")").transition().duration(F).call(i)}function tt(){if(b){if("expand"===r.style()||"stack_percent"===r.style()){var t=o.tickFormat();O&&t===W||(O=t),o.tickFormat(W)}else O&&(o.tickFormat(O),O=null);V.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(o)}}if(x&&i.scale(t)._ticks(n.utils.calcTicksX(H/100,l)).tickSize(-R,0),b&&(P="wiggle"===r.offset()?0:n.utils.calcTicksY(R/36,l),o.scale(e)._ticks(P).tickSize(-H,0)),w){c.width(H),V.select(".nv-focusWrap").attr("transform","translate(0,"+(R+f.bottom+c.margin().top)+")").datum(l.filter(function(t){return!t.disabled})).call(c);var te=c.brush.empty()?c.xDomain():c.brush.extent();null!==te&&tn(te)}else Q.transition().call(r),K(),tt();function tn(t){V.select(".nv-focus .nv-stackedWrap").datum(l.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,n){return r.x()(e,n)>=t[0]&&r.x()(e,n)<=t[1]}),disableTooltip:e.disableTooltip}})).transition().duration(F).call(r),K(),tt()}r.dispatch.on("areaClick.toggle",function(t){1===l.filter(function(t){return!t.disabled}).length?l.forEach(function(t){t.disabled=!1}):l.forEach(function(e,n){e.disabled=n!=t.seriesIndex}),E.disabled=l.map(function(t){return!!t.disabled}),N.stateChange(E),I.update()}),a.dispatch.on("stateChange",function(t){for(var e in t)E[e]=t[e];N.stateChange(E),I.update()}),u.dispatch.on("legendClick",function(t,e){t.disabled&&(Z=Z.map(function(t){return t.disabled=!0,t}),t.disabled=!1,r.style(t.style),E.style=r.style(),N.stateChange(E),I.update())}),s.dispatch.on("elementMousemove",function(t){r.clearHighlights();var e,i,o,a=[],u=0,c=!0,f=!1;if(l.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,d){i=n.interactiveBisect(s.values,t.pointXValue,I.x());var h=s.values[i],p=I.y()(h,i);if(null!=p&&p>0&&(r.highlightPoint(d,i,!0),f=!0),d!==l.length-1||f||r.highlightPoint(d,i,!0),void 0!==h){void 0===e&&(e=h),void 0===o&&(o=I.xScale()(I.x()(h,i)));var v="expand"==r.style()?h.display.y:I.y()(h,i);a.push({key:s.key,value:v,color:g(s,s.seriesIndex),point:h}),A&&"expand"!=r.style()&&null!=v&&(u+=v,c=!1)}}),a.reverse(),a.length>2){var d=I.yScale().invert(t.mouseY),h=null;a.forEach(function(t,e){d=Math.abs(d);var n=Math.abs(t.point.display.y0),r=Math.abs(t.point.display.y);if(d>=n&&d<=r+n){h=e;return}}),null!=h&&(a[h].highlight=!0)}A&&"expand"!=r.style()&&a.length>=2&&!c&&a.push({key:_,value:u,total:!0});var p=I.x()(e,i),v=s.tooltip.valueFormatter();"expand"===r.style()||"stack_percent"===r.style()?(L||(L=v),v=d3.format(".1%")):L&&(v=L,L=null),s.tooltip.valueFormatter(v).data({value:p,series:a})(),s.renderGuideLine(o)}),s.dispatch.on("elementMouseout",function(t){r.clearHighlights()}),c.dispatch.on("onBrush",function(t){tn(t)}),N.on("changeState",function(t){void 0!==t.disabled&&l.length===t.disabled.length&&(l.forEach(function(e,n){e.disabled=t.disabled[n]}),E.disabled=t.disabled),void 0!==t.style&&(r.style(t.style),t.style),I.update()})}),P.renderEnd("stacked Area chart immediate"),I}return r.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=r.x()(t.point),t.point.y=r.y()(t.point),l.data(t).hidden(!1)}),r.dispatch.on("elementMouseout.tooltip",function(t){l.hidden(!0)}),I.dispatch=N,I.stacked=r,I.legend=a,I.controls=u,I.xAxis=i,I.x2Axis=c.xAxis,I.yAxis=o,I.y2Axis=c.yAxis,I.interactiveLayer=s,I.tooltip=l,I.focus=c,I.dispatch=N,I.options=n.utils.optionsFunc.bind(I),I._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return m},set:function(t){m=t}},legendPosition:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return C},set:function(t){C=t}},showControls:{get:function(){return v},set:function(t){v=t}},controlLabels:{get:function(){return j},set:function(t){j=t}},controlOptions:{get:function(){return D},set:function(t){D=t}},showTotalInTooltip:{get:function(){return A},set:function(t){A=t}},totalLabel:{get:function(){return _},set:function(t){_=t}},focusEnable:{get:function(){return w},set:function(t){w=t}},focusHeight:{get:function(){return c.height()},set:function(t){c.height(t)}},brushExtent:{get:function(){return c.brushExtent()},set:function(t){c.brushExtent(t)}},margin:{get:function(){return f},set:function(t){void 0!==t.top&&(f.top=t.top,d=t.top),f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}},focusMargin:{get:function(){return c.margin},set:function(t){c.margin.top=void 0!==t.top?t.top:c.margin.top,c.margin.right=void 0!==t.right?t.right:c.margin.right,c.margin.bottom=void 0!==t.bottom?t.bottom:c.margin.bottom,c.margin.left=void 0!==t.left?t.left:c.margin.left}},duration:{get:function(){return F},set:function(t){F=t,P.reset(F),r.duration(F),i.duration(F),o.duration(F)}},color:{get:function(){return g},set:function(t){g=n.utils.getColor(t),a.color(g),r.color(g),c.color(g)}},x:{get:function(){return r.x()},set:function(t){r.x(t),c.x(t)}},y:{get:function(){return r.y()},set:function(t){r.y(t),c.y(t)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,o.orient(k?"right":"left")}},useInteractiveGuideline:{get:function(){return M},set:function(t){M=!!t,I.interactive(!t),I.useVoronoi(!t),r.scatter.interactive(!t)}}}),n.utils.inheritOptions(I,r),n.utils.initOptions(I),I},n.models.stackedAreaWithFocusChart=function(){return n.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},n.models.sunburst=function(){var t,e,r,i,o={top:0,right:0,bottom:0,left:0},a=600,u=600,s="count",l={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},c=Math.floor(1e4*Math.random()),f=null,d=n.utils.defaultColor(),h=!1,p=function(t){return"count"===s?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},g=.02,v=function(t,e){return t.name>e.name},m=function(t,e){return void 0!==t.parent?t.name+"-"+t.parent.name+"-"+e:t.name},y=!0,x=500,b=d3.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),k=d3.scale.linear().range([0,2*Math.PI]),w=d3.scale.sqrt(),M=d3.layout.partition().sort(v),A={},_=d3.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,w(t.y))}).outerRadius(function(t){return Math.max(0,w(t.y+t.dy))});function E(t){return S(t)>90?180:0}function S(t){return(Math.max(0,Math.min(2*Math.PI,k(t.x)))+Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx))))/2*(180/Math.PI)-90}function C(t){var e=Math.max(0,Math.min(2*Math.PI,k(t.x)));return Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-e>g}function N(e,n){var r=d3.interpolate(k.domain(),[t.x,t.x+t.dx]),o=d3.interpolate(w.domain(),[t.y,1]),a=d3.interpolate(w.range(),[t.y?20:0,i]);return 0===n?function(){return _(e)}:function(t){return k.domain(r(t)),w.domain(o(t)).range(a(t)),_(e)}}function T(t){var e=d3.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var r=e(n);return t.x0=r.x,t.dx0=r.dx,t.y0=r.y,t.dy0=r.dy,_(r)}}function D(e){var n=f.selectAll("text"),r=f.selectAll("path");n.transition().attr("opacity",0),t=e,r.transition().duration(x).attrTween("d",N).each("end",function(t){t.x>=e.x&&t.x<e.x+e.dx&&t.depth>=e.depth&&d3.select(this.parentNode).select("text").transition().duration(x).text(function(t){return p(t)}).attr("opacity",function(t){return C(t)?1:0}).attr("transform",function(){var n=this.getBBox().width;if(0===t.depth)return"translate("+-(n/2*1)+",0)";if(t.depth===e.depth)return"translate("+(w(t.y)+5)+",0)";var r=S(t),i=E(t);return 0===i?"rotate("+r+")translate("+(w(t.y)+5)+",0)":"rotate("+r+")translate("+(w(t.y)+n+5)+",0)rotate("+i+")"})})}var j=n.utils.renderWatch(b);function F(t){return j.reset(),t.each(function(t){f=d3.select(this),i=Math.min(e=n.utils.availableWidth(a,f,o),r=n.utils.availableHeight(u,f,o))/2,w.range([0,i]);var g=f.select("g.nvd3.nv-wrap.nv-sunburst");g[0][0]?g.attr("transform","translate("+(e/2+o.left+o.right)+","+(r/2+o.top+o.bottom)+")"):g=f.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+c).attr("transform","translate("+(e/2+o.left+o.right)+","+(r/2+o.top+o.bottom)+")"),f.on("click",function(t,e){b.chartClick({data:t,index:e,pos:d3.event,id:c})}),M.value(l[s]||l.count);var v=M.nodes(t[0]).reverse();!function(t){t.forEach(function(t){var e,n,r=A[m(t)];r?(t.dx0=r.dx,t.x0=r.x,t.dy0=r.dy,t.y0=r.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),A[e=m(t)]||(A[e]={}),(n=A[e]).dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y})}(v);var N=g.selectAll(".arc-container").data(v,m);N.enter().append("g").attr("class","arc-container").append("path").attr("d",_).style("fill",function(t){return t.color?t.color:y?d((t.children?t:t.parent).name):d(t.name)}).style("stroke","#FFF").on("click",function(t,e){D(t),b.elementClick({data:t,index:e})}).on("mouseover",function(t,e){var n;d3.select(this).classed("hover",!0).style("opacity",.8),b.elementMouseover({data:t,color:d3.select(this).style("fill"),percent:(n=Math.max(0,Math.min(2*Math.PI,k(t.x))),(Math.max(0,Math.min(2*Math.PI,k(t.x+t.dx)))-n)/(2*Math.PI))})}).on("mouseout",function(t,e){d3.select(this).classed("hover",!1).style("opacity",1),b.elementMouseout({data:t})}).on("mousemove",function(t,e){b.elementMousemove({data:t})}),N.each(function(t){d3.select(this).select("path").transition().duration(x).attrTween("d",T)}),h&&(N.selectAll("text").remove(),N.append("text").text(function(t){return p(t)}).transition().duration(x).attr("opacity",function(t){return C(t)?1:0}).attr("transform",function(t){var e=this.getBBox().width;if(0===t.depth)return"rotate(0)translate("+-(e/2*1)+",0)";var n=S(t),r=E(t);return 0===r?"rotate("+n+")translate("+(w(t.y)+5)+",0)":"rotate("+n+")translate("+(w(t.y)+e+5)+",0)rotate("+r+")"})),D(v[v.length-1]),N.exit().transition().duration(x).attr("opacity",0).each("end",function(t){A[m(t)]=void 0}).remove()}),j.renderEnd("sunburst immediate"),F}return F.dispatch=b,F.options=n.utils.optionsFunc.bind(F),F._options=Object.create({},{width:{get:function(){return a},set:function(t){a=t}},height:{get:function(){return u},set:function(t){u=t}},mode:{get:function(){return s},set:function(t){s=t}},id:{get:function(){return c},set:function(t){c=t}},duration:{get:function(){return x},set:function(t){x=t}},groupColorByParent:{get:function(){return y},set:function(t){y=!!t}},showLabels:{get:function(){return h},set:function(t){h=!!t}},labelFormat:{get:function(){return p},set:function(t){p=t}},labelThreshold:{get:function(){return g},set:function(t){g=t}},sort:{get:function(){return v},set:function(t){v=t}},key:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!=t.top?t.top:o.top,o.right=void 0!=t.right?t.right:o.right,o.bottom=void 0!=t.bottom?t.bottom:o.bottom,o.left=void 0!=t.left?t.left:o.left}},color:{get:function(){return d},set:function(t){d=n.utils.getColor(t)}}}),n.utils.initOptions(F),F},n.models.sunburstChart=function(){var t=n.models.sunburst(),e=n.models.tooltip(),r={top:30,right:20,bottom:20,left:20},i=n.utils.defaultColor(),o=!1,a=null,u=null,s=250,l=d3.dispatch("stateChange","changeState","renderEnd"),c=n.utils.renderWatch(l);function f(e){return c.reset(),c.models(t),e.each(function(e){var i=d3.select(this);n.utils.initSVG(i);var o=n.utils.availableWidth(null,i,r),a=n.utils.availableHeight(null,i,r);if(f.update=function(){0===s?i.call(f):i.transition().duration(s).call(f)},f.container=i,!e||!e.length)return n.utils.noData(f,i),f;i.selectAll(".nv-noData").remove(),t.width(o).height(a).margin(r),i.call(t)}),c.renderEnd("sunburstChart immediate"),f}return e.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),t.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},o||(delete t.percent,delete t.series.percent),e.data(t).hidden(!1)}),t.dispatch.on("elementMouseout.tooltip",function(t){e.hidden(!0)}),t.dispatch.on("elementMousemove.tooltip",function(t){e()}),f.dispatch=l,f.sunburst=t,f.tooltip=e,f.options=n.utils.optionsFunc.bind(f),f._options=Object.create({},{noData:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return a},set:function(t){a=t}},showTooltipPercent:{get:function(){return o},set:function(t){o=t}},color:{get:function(){return i},set:function(e){i=e,t.color(i)}},duration:{get:function(){return s},set:function(e){s=e,c.reset(s),t.duration(s)}},margin:{get:function(){return r},set:function(e){r.top=void 0!==e.top?e.top:r.top,r.right=void 0!==e.right?e.right:r.right,r.bottom=void 0!==e.bottom?e.bottom:r.bottom,r.left=void 0!==e.left?e.left:r.left,t.margin(r)}}}),n.utils.inheritOptions(f,t),n.utils.initOptions(f),f},n.version="1.8.6",a("ixUnv");var h=a("1njYz"),s=a("lOpWt");a("ixUnv");var h=a("1njYz");a("ixUnv");var h=a("1njYz");function p(t){let e={contentType:"application/json",type:t.type||"GET",data:t.data||{},url:t.url};"GET"==e.type||"DELETE"==e.type?($.isEmptyObject(e.data)||(e.url+=e.url.includes("?")?"&":"?",e.url+=$.param(e.data,!0)),e.data=null):(e.dataType="json",e.data=JSON.stringify(e.data)),$.ajax(e).done(e=>{if("string"==typeof e)try{e=e.replace("Infinity,",'"Infinity",'),e=$.parseJSON(e)}catch(t){console.debug(t)}t.success&&t.success(e)}).fail(({responseText:e,status:n})=>{let r=null;try{r=$.parseJSON(e)}catch(t){r=e}t.error&&t.error(r,n)}).always(()=>{t.complete&&t.complete()})}let g={};function v(t){let e=t.dataset_groups,n=t.dataset_id,r=t.root,i=[];if(e.each(t=>{(0,h.default).each(t.get("__data_columns"),(e,r)=>{let o=t.get(r),a=y(n,o);i.includes(o)||g[a]||"auto"==o||"zero"==o||void 0===o||i.push(o)})}),0===i.length){m(t);return}!function(t){top.__utils__get__=top.__utils__get__||{};let e=JSON.stringify(t);t.cache&&top.__utils__get__[e]?(t.success&&t.success(top.__utils__get__[e]),window.console.debug(`get() - Fetching from cache [${t.url}].`)):p({url:t.url,data:t.data,success(n){top.__utils__get__[e]=n,t.success&&t.success(n)},error(e,n){t.error&&t.error(e,n)}})}({url:`${r}api/datasets/${n}`,data:{data_type:"raw_data",provider:"dataset-column",indeces:i.toString()},success({data:e}){let r=i.length,o=Array(r);for(let t=0;t<o.length;t++)o[t]=[];for(let t in e){let n=e[t];for(let t in n){let e=n[t];void 0!==e&&0x7fffffff!=e&&t<r&&o[t].push(e)}}for(let t in console.debug("tabular-datasets::_fetch() - Fetching complete."),o)g[y(n,i[t])]=o[t];m(t)}})}function m(t){let e=t.dataset_groups,n=t.dataset_id;console.debug("tabular-datasets::_fillFromCache() - Filling request from cache.");let r=0;e.each(t=>{(0,h.default).each(t.get("__data_columns"),(e,i)=>{let o=g[y(n,t.get(i))];o&&(r=Math.max(r,o.length))})}),0===r&&(console.debug("tabular-datasets::_fillFromCache() - No data available."),t.chart&&t.chart.state("failed","No data available."));let i=[];e.each((t,e)=>{var n,o;let a=(n={key:`${e}:${t.get("key")}`,values:[]},o=t.attributes,n?(0,h.default).defaults(n,o):o);for(let t=0;t<r;t++)a.values[t]={x:parseInt(t)};i.push(a)}),e.each((t,e)=>{let o=i[e].values;(0,h.default).each(t.get("__data_columns"),({is_label:e},i)=>{let a=t.get(i);switch(a){case"auto":for(let t=0;t<r;t++)o[t][i]=parseInt(t);break;case"zero":for(let t=0;t<r;t++)o[t][i]=0;break;default:let u=g[y(n,a)];for(let t=0;t<r;t++){let n=o[t],r=u[t];isNaN(r)&&!e&&(r=0),n[i]=r}}})}),t.success(i)}function y(t,e){return`${t}__${e}`}a("ixUnv");var h=a("1njYz");function x(t,e){let n="",r="",i=0;for(let e in t.settings.attributes){let r=t.settings.get(e);(0,h.default).each([[" ","&#32;"],[",","&#44;"],[":","&#58;"]],t=>{r=r.replace(RegExp(t[0],"g"),t[1])}),n+=`${e}:${r}, `}return n=n.substring(0,n.length-2),t.groups.each(t=>{i++,(0,h.default).each(t.get("__data_columns"),(e,n)=>{r+=`${n}_${i}:${parseInt(t.get(n))+1}, `})}),r=r.substring(0,r.length-2),{tool_id:"toolshed.g2.bx.psu.edu/repos/iuc/charts/charts/1.0.1",inputs:{input:{id:t.get("dataset_id"),src:"hda"},module:e,columns:r,settings:n}}}function b(t,e,n,r,i){e.state("wait","Requesting job results..."),e.get("modified")&&e.get("dataset_id_job")&&(p({type:"DELETE",url:`${t}api/histories/none/contents/${e.get("dataset_id_job")}`}),e.set("dataset_id_job",null),e.set("modified",!1)),e.get("dataset_id_job")?k(t,e,r,i):(e.state("wait","Sending job request..."),p({type:"POST",url:`${t}api/tools`,data:n,success({outputs:n}){if(n&&0!==n.length){let o=n[0];e.state("wait","Your job has been queued. You may close the browser window. The job will run in the background."),e.set("dataset_id_job",o.id),e.save(),k(t,e,r,i)}else e.state("failed","Job submission failed. No response."),i&&i()},error(t){let r="";t&&t.message&&t.message.data&&t.message.data.input&&(r=`${t.message.data.input}.`),e.state("failed",`This visualization requires the '${n.tool_id}' tool. Please make sure it is installed. ${r}`),i&&i()}}))}function k(t,e,n,r){p({type:"GET",url:`${t}api/datasets/${e.get("dataset_id_job")}`,data:{},success(i){let o=!1;switch(i.state){case"ok":e.state("wait","Job completed successfully..."),n&&n(i),o=!0;break;case"error":e.state("failed","Job has failed. Please check the history for details."),r&&r(i),o=!0;break;case"running":e.state("wait","Your job is running in the background and you may close the browser tab. Results will be available in your saved visualizations list.")}o||window.setTimeout(()=>{k(t,e,n,r)},1e3)}})}function w(t){return"true"==String(t).toLowerCase()}function M(t,e,n){var r=w(e.settings.get("__use_panels"))?e.groups.length:1,i=$("#"+n);i.empty();let o=[];for(var a=0;a<r;a++){var u="vis-container-id-"+a,s=$("<"+t+" style='float: left; height: 100%;' />").attr("id",u);s.width(parseInt(100/r)+"%"),i.append(s),o.push(u)}return o}var A=l.View.extend({initialize:function(t){var e=this;t.targets=M("svg",t.chart,t.target),this.options=t,t.render=function(t,n){return e.render(t,n)},function(t){let e=t.process,n=t.chart,r=t.root,i=t.render,o=t.targets;v({root:r,chart:n,dataset_id:t.dataset_id||t.chart.get("dataset_id"),dataset_groups:t.dataset_groups||t.chart.groups,success(t){try{if(o.length==t.length){let e=!0;for(let n in t){let r=t[n];if(!i(o[n],[r])){e=!1;break}}e&&n.state("ok","Multi-panel chart drawn.")}else 1==o.length?i(o[0],t)&&n.state("ok","Chart drawn."):n.state("failed","Invalid panel count.");e.resolve()}catch(t){console.debug(`FAILED: tabular-utilities::panelHelper() - ${t}`),n.state("failed",t),e.reject()}}})}(t)},render:function(t,e){var n=this,r=this.options.chart,i=this.options.type,o=this.options.makeConfig,a=nv.models[i]();return nv.addGraph(function(){try{if(a.xAxis.axisLabel(r.settings.get("x_axis_label")),a.yAxis.axisLabel(r.settings.get("y_axis_label")),a.options({showControls:!1}),a.showLegend&&a.showLegend(w(r.settings.get("show_legend"))),n._makeAxes(a,e,r.settings),o&&o(a),w(r.settings.get("__use_panels"))&&a.options({showControls:!1}),a.xAxis.showMaxMin(!1),a.yAxis.showMaxMin(!1),a.tooltip.contentGenerator(function(t){var e=t.data||t.point;return"<h3>"+(e.tooltip||e.key||e.y)+"</h3>"}),$("#"+t).length>0){var i=s.select("#"+t);i.datum(e).call(a),r.plugin.specs.zoomable&&"native"!=r.plugin.specs.zoomable&&(a.clipEdge&&a.clipEdge(!0),function(t){let e=t.yAxis,n=t.xAxis,r=t.xDomain||n.scale().domain,i=t.yDomain||e.scale().domain,o=t.redraw,a=t.svg,u=n.scale(),l=e.scale(),c=u.domain().slice(),f=l.domain().slice(),d=s.behavior.zoom();function h(t,e){return t[0]=Math.min(Math.max(t[0],e[0]),e[1]-e[1]/100),t[1]=Math.max(e[0]+e[1]/100,Math.min(t[1],e[1])),t}u.nice(),l.nice(),d.x(u).y(l).scaleExtent([1,100]).on("zoom",function(){i(h(l.domain(),f)),r(h(u.domain(),c)),o()}),a.call(d).on("dblclick.zoom",function(){r(c),i(f),o(),d.scale(1),d.translate([0,0])})}({xAxis:a.xAxis,yAxis:a.yAxis,yDomain:a.yDomain,xDomain:a.xDomain,redraw:function(){a.update()},svg:i})),nv.utils.windowResize(a.update)}}catch(t){r.state("failed",t)}}),!0},_makeAxes:function(t,e,n){var r=function(t,e){let n={},r=t[0].__data_columns;return(0,h.default).each(e,t=>{let e=r&&r[t];e&&e.is_label&&(n[t]=[])}),t&&t[0]&&(0,h.default).each(t[0].values,t=>{for(let e in n)n[e].push(String(t[e]))}),(0,h.default).each(t,({values:t})=>{(0,h.default).each(t,(t,e)=>{for(let r in n)t[r]=parseInt(e)})}),{array:n}}(e,["x","y"]);function i(e){!function(t){let e=t.type,n=t.precision,r=t.categories,i=t.formatter;if("hide"==e)i(()=>"");else if("auto"==e)r&&i(t=>r[t]||"");else{let t=t=>{if("s"===e){let e=s.formatPrefix(t);return e.scale(t).toFixed()+e.symbol}return s.format(`.${n}${e}`)(t)};i(r?e=>{let n=r[e];if(!n)return"";if(isNaN(n))return n;try{return t(n)}catch(t){return n}}:e=>t(e))}}({categories:r.array[e],type:n.get(e+"_axis_type|type"),precision:n.get(e+"_axis_type|precision"),formatter:function(n){n&&t[e+"Axis"].tickFormat(function(t){return n(t)})}})}i("x"),i("y")}}),_=l.View.extend({initialize:function(t){var e=this,n=t.chart,r=M("svg",t.chart,t.target),i=t.process;v({root:t.root,chart:n,dataset_id:n.get("dataset_id"),dataset_groups:n.groups,success:function(t){for(var o in t){var a=t[o];e._drawGroup(n,a,r[o])}n.state("ok","Pie chart has been drawn."),i.resolve()}})},_drawGroup:function(t,e,n){try{var r=this,i=s.select("#"+n),o=i.append("text");this._fixTitle(t,i,o,e.key);var a=[];c.default(e.values,function(t){a.push({y:t.y,x:t.label})}),nv.addGraph(function(){var n=w(t.settings.get("legend_visible")),u=w(t.settings.get("label|outside")),s=t.settings.get("label|type"),l=parseFloat(t.settings.get("donut_ratio")),c=nv.models.pieChart().donut(!0).labelThreshold(.05).showLegend(n).labelType(s).donutRatio(l).donutLabelsOutside(u);i.datum(a).call(c),nv.utils.windowResize(function(){c.update(),r._fixTitle(t,i,o,e.key)})})}catch(t){console.log(t)}},_fixTitle:function(t,e,n,r){var i=parseInt(e.style("width")),o=parseInt(e.style("height"));n.attr("x",i/2).attr("y",o-10).attr("text-anchor","middle").text(r)}});f.default(window.bundleEntries||{},{nvd3_bar:function(t){return t.type="multiBarChart",new A(t)},nvd3_bar_stacked:function(t){return t.type="multiBarChart",t.makeConfig=function(t){t.stacked(!0)},new A(t)},nvd3_horizontal:function(t){return t.type="multiBarHorizontalChart",new A(t)},nvd3_horizontal_stacked:function(t){return t.type="multiBarHorizontalChart",t.makeConfig=function(t){t.stacked(!0)},new A(t)},nvd3_histogram:function(t){b(t.root,t.chart,x(t.chart,"histogram"),function(e){var n=new l.Collection;t.chart.groups.each(function(t,e){n.add({__data_columns:{x:{is_numeric:!0},y:{is_numeric:!0}},x:0,y:e+1,key:t.get("key")})}),t.dataset_id=e.id,t.dataset_groups=n,t.type="multiBarChart",t.makeConfig=function(t){t.options({showControls:!0})},new A(t)},function(){t.process.reject()})},nvd3_histogram_discrete:function(t){b(t.root,t.chart,x(t.chart,"histogramdiscrete"),function(e){var n=new l.Collection;t.chart.groups.each(function(t,e){n.add({__data_columns:{x:{is_label:!0},y:{is_numeric:!0}},x:0,y:e+1,key:t.get("key")})}),t.dataset_id=e.id,t.dataset_groups=n,t.type="multiBarChart",t.makeConfig=function(t){t.options({showControls:!0})},new A(t)},function(){t.process.reject()})},nvd3_line:function(t){return t.type="lineChart",new A(t)},nvd3_line_focus:function(t){return t.type="lineWithFocusChart",new A(t)},nvd3_pie:function(t){return new _(t)},nvd3_scatter:function(t){return t.type="scatterChart",t.makeConfig=function(t){t.showDistX(!0).showDistY(!0).color(s.scale.category10().range())},new A(t)},nvd3_stackedarea:function(t){return t.type="stackedAreaChart",new A(t)},nvd3_stackedarea_full:function(t){return t.type="stackedAreaChart",t.makeConfig=function(t){t.style("expand")},new A(t)},nvd3_stackedarea_stream:function(t){return t.type="stackedAreaChart",t.makeConfig=function(t){t.style("stream")},new A(t)}})})();
//# sourceMappingURL=nvd3.js.map
